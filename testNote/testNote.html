<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.9" />
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html,
      body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme')
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia('(prefers-color-scheme: dark)').matches
      if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
        document.documentElement.classList.toggle('dark', true)
      }
    </script>
    <link rel="icon" href="/blog/logo.png"><title>å­¦ä¹ ç¬”è®° ğŸ“¡ | xiehhy</title><meta name="description" content="My notes">
    <link rel="stylesheet" href="/blog/assets/css/styles.14fed409.css">
    <link rel="preload" href="/blog/assets/js/runtime~app.ef20b161.js" as="script"><link rel="preload" href="/blog/assets/css/styles.14fed409.css" as="style"><link rel="preload" href="/blog/assets/js/565.4944daae.js" as="script"><link rel="preload" href="/blog/assets/js/app.925ce17f.js" as="script">
    <link rel="prefetch" href="/blog/assets/js/testNote.html.61b1ea6c.js" as="script"><link rel="prefetch" href="/blog/assets/js/get-started.html.6ed08d94.js" as="script"><link rel="prefetch" href="/blog/assets/js/maths.html.f9f90a61.js" as="script"><link rel="prefetch" href="/blog/assets/js/index.html.a32c8101.js" as="script"><link rel="prefetch" href="/blog/assets/js/404.html.4574520d.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a class="route-link" href="/blog/"><img class="logo" src="/blog/logo.png" alt="xiehhy"><span class="site-name can-hide" aria-hidden="true">xiehhy</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide" aria-label="site navigation"><!--[--><div class="navbar-item"><a class="route-link" href="/blog/" aria-label="Home"><!--[--><!--[--><!--]--> Home <!--[--><!--]--><!--]--></a></div><div class="navbar-item"><a class="route-link" href="/blog/get-started.html" aria-label="Get Started"><!--[--><!--[--><!--]--> Get Started <!--[--><!--]--><!--]--></a></div><div class="navbar-item"><a class="route-link" href="/blog/math/maths.html" aria-label="é«˜æ•° "><!--[--><!--[--><!--]--> é«˜æ•°  <!--[--><!--]--><!--]--></a></div><div class="navbar-item"><a class="route-link" href="/blog/testNote/testNote.html" aria-label="è½¯ä»¶æµ‹è¯•"><!--[--><!--[--><!--]--> è½¯ä»¶æµ‹è¯• <!--[--><!--]--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items" aria-label="site navigation"><!--[--><div class="navbar-item"><a class="route-link" href="/blog/" aria-label="Home"><!--[--><!--[--><!--]--> Home <!--[--><!--]--><!--]--></a></div><div class="navbar-item"><a class="route-link" href="/blog/get-started.html" aria-label="Get Started"><!--[--><!--[--><!--]--> Get Started <!--[--><!--]--><!--]--></a></div><div class="navbar-item"><a class="route-link" href="/blog/math/maths.html" aria-label="é«˜æ•° "><!--[--><!--[--><!--]--> é«˜æ•°  <!--[--><!--]--><!--]--></a></div><div class="navbar-item"><a class="route-link" href="/blog/testNote/testNote.html" aria-label="è½¯ä»¶æµ‹è¯•"><!--[--><!--[--><!--]--> è½¯ä»¶æµ‹è¯• <!--[--><!--]--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading">å­¦ä¹ ç¬”è®° ğŸ“¡ <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a class="route-link sidebar-item" href="#ã€‡ã€-webdriver-ã€-browser-å’Œ-driver-çš„å…³ç³»" aria-label="ã€‡ã€&quot;WebDriver&quot;ã€&quot;Browser&quot;å’Œ&quot;driver&quot;çš„å…³ç³»"><!--[--><!--[--><!--]--> ã€‡ã€&quot;WebDriver&quot;ã€&quot;Browser&quot;å’Œ&quot;driver&quot;çš„å…³ç³» <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#ä¸€ã€seleniumç¯å¢ƒæ­å»º" aria-label="ä¸€ã€seleniumç¯å¢ƒæ­å»º"><!--[--><!--[--><!--]--> ä¸€ã€seleniumç¯å¢ƒæ­å»º <!--[--><!--]--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a class="route-link sidebar-item" href="#ç¬¬ä¸€æ­¥-å®‰è£…seleniumåŒ…" aria-label="ç¬¬ä¸€æ­¥ï¼šå®‰è£…seleniumåŒ…"><!--[--><!--[--><!--]--> ç¬¬ä¸€æ­¥ï¼šå®‰è£…seleniumåŒ… <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#ç¬¬äºŒæ­¥-ä¸‹è½½å¯¹åº”çš„æµè§ˆå™¨å’Œé©±åŠ¨" aria-label="ç¬¬äºŒæ­¥ï¼šä¸‹è½½å¯¹åº”çš„æµè§ˆå™¨å’Œé©±åŠ¨"><!--[--><!--[--><!--]--> ç¬¬äºŒæ­¥ï¼šä¸‹è½½å¯¹åº”çš„æµè§ˆå™¨å’Œé©±åŠ¨ <!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><a class="route-link sidebar-item" href="#äºŒã€ä¸æµè§ˆå™¨äº¤äº’" aria-label="äºŒã€ä¸æµè§ˆå™¨äº¤äº’"><!--[--><!--[--><!--]--> äºŒã€ä¸æµè§ˆå™¨äº¤äº’ <!--[--><!--]--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a class="route-link sidebar-item" href="#å’Œæµè§ˆå™¨æœ‰å…³çš„å±æ€§å’Œæ–¹æ³•" aria-label="å’Œæµè§ˆå™¨æœ‰å…³çš„å±æ€§å’Œæ–¹æ³•"><!--[--><!--[--><!--]--> å’Œæµè§ˆå™¨æœ‰å…³çš„å±æ€§å’Œæ–¹æ³• <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#ä¸€ä¸ªä¾‹å­" aria-label="ä¸€ä¸ªä¾‹å­"><!--[--><!--[--><!--]--> ä¸€ä¸ªä¾‹å­ <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#å¤„ç†å¼¹çª—" aria-label="å¤„ç†å¼¹çª—"><!--[--><!--[--><!--]--> å¤„ç†å¼¹çª— <!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><a class="route-link sidebar-item" href="#ä¸‰ã€å…ƒç´ å®šä½" aria-label="ä¸‰ã€å…ƒç´ å®šä½"><!--[--><!--[--><!--]--> ä¸‰ã€å…ƒç´ å®šä½ <!--[--><!--]--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a class="route-link sidebar-item" href="#å®šä½æ‰¾åˆ°çš„ç¬¬ä¸€ä¸ªå…ƒç´ " aria-label="å®šä½æ‰¾åˆ°çš„ç¬¬ä¸€ä¸ªå…ƒç´ "><!--[--><!--[--><!--]--> å®šä½æ‰¾åˆ°çš„ç¬¬ä¸€ä¸ªå…ƒç´  <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#å®šä½å¤šä¸ªå…ƒç´ " aria-label="å®šä½å¤šä¸ªå…ƒç´ "><!--[--><!--[--><!--]--> å®šä½å¤šä¸ªå…ƒç´  <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#å®šä½ç”¨æ³•ä¸¾ä¾‹" aria-label="å®šä½ç”¨æ³•ä¸¾ä¾‹"><!--[--><!--[--><!--]--> å®šä½ç”¨æ³•ä¸¾ä¾‹ <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#å‡ ä¸ªä¾‹å­" aria-label="å‡ ä¸ªä¾‹å­"><!--[--><!--[--><!--]--> å‡ ä¸ªä¾‹å­ <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#xpath" aria-label="XPATH"><!--[--><!--[--><!--]--> XPATH <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#ä¸€ä¸ªæµ‹è¯•çš„ä¾‹å­" aria-label="ä¸€ä¸ªæµ‹è¯•çš„ä¾‹å­"><!--[--><!--[--><!--]--> ä¸€ä¸ªæµ‹è¯•çš„ä¾‹å­ <!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><a class="route-link sidebar-item" href="#å››ã€å…ƒç´ çš„å±æ€§å’Œæ–¹æ³•" aria-label="å››ã€å…ƒç´ çš„å±æ€§å’Œæ–¹æ³•"><!--[--><!--[--><!--]--> å››ã€å…ƒç´ çš„å±æ€§å’Œæ–¹æ³• <!--[--><!--]--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a class="route-link sidebar-item" href="#åŸºæœ¬å±æ€§å’Œæ–¹æ³•" aria-label="åŸºæœ¬å±æ€§å’Œæ–¹æ³•"><!--[--><!--[--><!--]--> åŸºæœ¬å±æ€§å’Œæ–¹æ³• <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#ä½¿ç”¨ç¤ºä¾‹" aria-label="ä½¿ç”¨ç¤ºä¾‹"><!--[--><!--[--><!--]--> ä½¿ç”¨ç¤ºä¾‹ <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#ä¾‹-è·å¾—æ–‡æœ¬æ¡†çš„å€¼" aria-label="ä¾‹ï¼šè·å¾—æ–‡æœ¬æ¡†çš„å€¼"><!--[--><!--[--><!--]--> ä¾‹ï¼šè·å¾—æ–‡æœ¬æ¡†çš„å€¼ <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#ä¾‹-è·å¾—é“¾æ¥" aria-label="ä¾‹ï¼šè·å¾—é“¾æ¥"><!--[--><!--[--><!--]--> ä¾‹ï¼šè·å¾—é“¾æ¥ <!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><a class="route-link sidebar-item" href="#äº”ã€åŒæ­¥è¯­å¥-éšå¼ç­‰å¾…ã€æ˜¾ç¤ºç­‰å¾…" aria-label="äº”ã€åŒæ­¥è¯­å¥ï¼ˆéšå¼ç­‰å¾…ã€æ˜¾ç¤ºç­‰å¾…ï¼‰"><!--[--><!--[--><!--]--> äº”ã€åŒæ­¥è¯­å¥ï¼ˆéšå¼ç­‰å¾…ã€æ˜¾ç¤ºç­‰å¾…ï¼‰ <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#å…­ã€pom-page-object-model" aria-label="å…­ã€POM(Page Object Model)"><!--[--><!--[--><!--]--> å…­ã€POM(Page Object Model) <!--[--><!--]--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a class="route-link sidebar-item" href="#pomä»‹ç»" aria-label="POMä»‹ç»"><!--[--><!--[--><!--]--> POMä»‹ç» <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#ä¾‹-é‡‡ç”¨é¡µé¢å¯¹è±¡é‡æ–°ç»„ç»‡å‰é¢çš„ä¾‹å­" aria-label="ä¾‹ï¼šé‡‡ç”¨é¡µé¢å¯¹è±¡é‡æ–°ç»„ç»‡å‰é¢çš„ä¾‹å­"><!--[--><!--[--><!--]--> ä¾‹ï¼šé‡‡ç”¨é¡µé¢å¯¹è±¡é‡æ–°ç»„ç»‡å‰é¢çš„ä¾‹å­ <!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><a class="route-link sidebar-item" href="#ä¸ƒã€pytestçš„ä½¿ç”¨" aria-label="ä¸ƒã€pytestçš„ä½¿ç”¨"><!--[--><!--[--><!--]--> ä¸ƒã€pytestçš„ä½¿ç”¨ <!--[--><!--]--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a class="route-link sidebar-item" href="#å®‰è£…" aria-label="å®‰è£…"><!--[--><!--[--><!--]--> å®‰è£… <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#åŸºç¡€ç”¨æ³•" aria-label="åŸºç¡€ç”¨æ³•"><!--[--><!--[--><!--]--> åŸºç¡€ç”¨æ³• <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#å‚æ•°åŒ–æµ‹è¯•" aria-label="å‚æ•°åŒ–æµ‹è¯•"><!--[--><!--[--><!--]--> å‚æ•°åŒ–æµ‹è¯• <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#è®¾ç½®å’Œæ¸…ç†æµ‹è¯•ç¯å¢ƒ" aria-label="è®¾ç½®å’Œæ¸…ç†æµ‹è¯•ç¯å¢ƒ"><!--[--><!--[--><!--]--> è®¾ç½®å’Œæ¸…ç†æµ‹è¯•ç¯å¢ƒ <!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><a class="route-link sidebar-item" href="#å…«ã€æ—¥å¿—è®°å½•çš„æ ‡å‡†åº“â€”â€”logging" aria-label="å…«ã€æ—¥å¿—è®°å½•çš„æ ‡å‡†åº“â€”â€”logging"><!--[--><!--[--><!--]--> å…«ã€æ—¥å¿—è®°å½•çš„æ ‡å‡†åº“â€”â€”logging <!--[--><!--]--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a class="route-link sidebar-item" href="#åŸºç¡€ç”¨æ³•-1" aria-label="åŸºç¡€ç”¨æ³•"><!--[--><!--[--><!--]--> åŸºç¡€ç”¨æ³• <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#è¿›é˜¶ç”¨æ³•" aria-label="è¿›é˜¶ç”¨æ³•"><!--[--><!--[--><!--]--> è¿›é˜¶ç”¨æ³• <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#å®Œæ•´ç¤ºä¾‹" aria-label="å®Œæ•´ç¤ºä¾‹"><!--[--><!--[--><!--]--> å®Œæ•´ç¤ºä¾‹ <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#é™„å½•-formatterç±»" aria-label="é™„å½•ï¼šFormatterç±»"><!--[--><!--[--><!--]--> é™„å½•ï¼šFormatterç±» <!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><a class="route-link sidebar-item" href="#ä¹ã€ä½¿ç”¨allureäº§ç”Ÿæµ‹è¯•ç»“æœæŠ¥å‘Š" aria-label="ä¹ã€ä½¿ç”¨allureäº§ç”Ÿæµ‹è¯•ç»“æœæŠ¥å‘Š"><!--[--><!--[--><!--]--> ä¹ã€ä½¿ç”¨allureäº§ç”Ÿæµ‹è¯•ç»“æœæŠ¥å‘Š <!--[--><!--]--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a class="route-link sidebar-item" href="#allureçš„å®‰è£…å’Œä½¿ç”¨" aria-label="Allureçš„å®‰è£…å’Œä½¿ç”¨"><!--[--><!--[--><!--]--> Allureçš„å®‰è£…å’Œä½¿ç”¨ <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#åœ¨æŠ¥å‘Šä¸­æ˜¾ç¤ºæœŸå¾…ç»“æœå’Œå®é™…ç»“æœ" aria-label="åœ¨æŠ¥å‘Šä¸­æ˜¾ç¤ºæœŸå¾…ç»“æœå’Œå®é™…ç»“æœ"><!--[--><!--[--><!--]--> åœ¨æŠ¥å‘Šä¸­æ˜¾ç¤ºæœŸå¾…ç»“æœå’Œå®é™…ç»“æœ <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#ä½œä¸š-ç™»å½•æµ‹è¯•ç»ƒä¹ " aria-label="ä½œä¸šï¼šç™»å½•æµ‹è¯•ç»ƒä¹ "><!--[--><!--[--><!--]--> ä½œä¸šï¼šç™»å½•æµ‹è¯•ç»ƒä¹  <!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><a class="route-link sidebar-item" href="#åã€jenkinså®‰è£…å’Œä½¿ç”¨-å¾…ç»­" aria-label="åã€Jenkinså®‰è£…å’Œä½¿ç”¨ï¼ˆå¾…ç»­ï¼‰"><!--[--><!--[--><!--]--> åã€Jenkinså®‰è£…å’Œä½¿ç”¨ï¼ˆå¾…ç»­ï¼‰ <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#é™„å½•-venvçš„ä½¿ç”¨" aria-label="é™„å½•ï¼švenvçš„ä½¿ç”¨"><!--[--><!--[--><!--]--> é™„å½•ï¼švenvçš„ä½¿ç”¨ <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#é™„å½•-æµè§ˆå™¨æ§åˆ¶å°å¸¸è§è¾“å…¥" aria-label="é™„å½•ï¼šæµè§ˆå™¨æ§åˆ¶å°å¸¸è§è¾“å…¥"><!--[--><!--[--><!--]--> é™„å½•ï¼šæµè§ˆå™¨æ§åˆ¶å°å¸¸è§è¾“å…¥ <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#é™„å½•-f-string-æ ¼å¼åŒ–å­—ç¬¦ä¸²å­—é¢é‡" aria-label="é™„å½•ï¼šf-stringï¼ˆæ ¼å¼åŒ–å­—ç¬¦ä¸²å­—é¢é‡ï¼‰"><!--[--><!--[--><!--]--> é™„å½•ï¼šf-stringï¼ˆæ ¼å¼åŒ–å­—ç¬¦ä¸²å­—é¢é‡ï¼‰ <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#é™„å½•-é€è¡Œè¯»å–csvæ–‡ä»¶çš„å†…å®¹" aria-label="é™„å½•ï¼šé€è¡Œè¯»å–csvæ–‡ä»¶çš„å†…å®¹"><!--[--><!--[--><!--]--> é™„å½•ï¼šé€è¡Œè¯»å–csvæ–‡ä»¶çš„å†…å®¹ <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#é™„å½•-ä¸€ä¸ªä¸ç†è§£çš„é—®é¢˜" aria-label="é™„å½•ï¼šä¸€ä¸ªä¸ç†è§£çš„é—®é¢˜"><!--[--><!--[--><!--]--> é™„å½•ï¼šä¸€ä¸ªä¸ç†è§£çš„é—®é¢˜ <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#é™„å½•-å‚è€ƒèµ„æ–™" aria-label="é™„å½•ï¼šå‚è€ƒèµ„æ–™"><!--[--><!--[--><!--]--> é™„å½•ï¼šå‚è€ƒèµ„æ–™ <!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="å­¦ä¹ ç¬”è®°" tabindex="-1"><a class="header-anchor" href="#å­¦ä¹ ç¬”è®°"><span>å­¦ä¹ ç¬”è®° ğŸ“¡</span></a></h1><h2 id="ã€‡ã€-webdriver-ã€-browser-å’Œ-driver-çš„å…³ç³»" tabindex="-1"><a class="header-anchor" href="#ã€‡ã€-webdriver-ã€-browser-å’Œ-driver-çš„å…³ç³»"><span>ã€‡ã€&quot;WebDriver&quot;ã€&quot;Browser&quot;å’Œ&quot;driver&quot;çš„å…³ç³»</span></a></h2><p>&quot;WebDriver&quot;ã€&quot;æµè§ˆå™¨&quot;å’Œ&quot;é©±åŠ¨ç¨‹åº&quot;ï¼ˆ&quot;driver&quot;ï¼‰ä¹‹é—´å­˜åœ¨å¯†åˆ‡çš„å…³ç³»ï¼Œç‰¹åˆ«æ˜¯åœ¨è¿›è¡Œ Web è‡ªåŠ¨åŒ–æµ‹è¯•æ—¶ã€‚ä¸‹é¢æ˜¯å®ƒä»¬ä¹‹é—´çš„å…³ç³»è§£é‡Šï¼š</p><ol><li><p>WebDriverï¼šWebDriver æ˜¯ä¸€ä¸ªç”¨äºè‡ªåŠ¨åŒ–æ§åˆ¶æµè§ˆå™¨çš„æ¥å£å’Œå·¥å…·ã€‚å®ƒæä¾›äº†ä¸€ç»„æ–¹æ³•å’ŒåŠŸèƒ½ï¼Œä½¿å¼€å‘äººå‘˜èƒ½å¤Ÿé€šè¿‡ç¼–ç¨‹æ–¹å¼ä¸æµè§ˆå™¨è¿›è¡Œäº¤äº’ï¼Œæ¨¡æ‹Ÿç”¨æˆ·åœ¨æµè§ˆå™¨ä¸­çš„è¡Œä¸ºã€‚WebDriver æ”¯æŒå¤šç§ç¼–ç¨‹è¯­è¨€ï¼Œå¦‚ Pythonã€Javaã€JavaScript ç­‰ã€‚é€šè¿‡ WebDriverï¼Œæ‚¨å¯ä»¥æ‰“å¼€æµè§ˆå™¨ã€å¯¼èˆªåˆ°ç½‘é¡µã€æŸ¥æ‰¾å…ƒç´ ã€æ‰§è¡Œæ“ä½œï¼ˆå¦‚ç‚¹å‡»ã€è¾“å…¥æ–‡æœ¬ç­‰ï¼‰ä»¥åŠè·å–é¡µé¢å†…å®¹ç­‰ã€‚</p></li><li><p>æµè§ˆå™¨ï¼šæµè§ˆå™¨æ˜¯ç”¨äºæ˜¾ç¤ºå’Œè®¿é—®ç½‘é¡µçš„è½¯ä»¶åº”ç”¨ç¨‹åºã€‚å¸¸è§çš„æµè§ˆå™¨åŒ…æ‹¬ Chromeã€Firefoxã€Safariã€Edge ç­‰ã€‚æ¯ä¸ªæµè§ˆå™¨éƒ½æœ‰è‡ªå·±çš„ç‰¹æ€§ã€ç”¨æˆ·ç•Œé¢å’Œæ¸²æŸ“å¼•æ“ã€‚åœ¨ Web è‡ªåŠ¨åŒ–æµ‹è¯•ä¸­ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ WebDriver æ¥æ§åˆ¶è¿™äº›æµè§ˆå™¨ï¼Œå¹¶ä¸å…¶è¿›è¡Œäº¤äº’ã€‚</p></li><li><p>é©±åŠ¨ç¨‹åºï¼ˆdriverï¼‰ï¼šé©±åŠ¨ç¨‹åºæ˜¯è¿æ¥ WebDriver å’Œæµè§ˆå™¨çš„æ¡¥æ¢ã€‚ç”±äºæ¯ä¸ªæµè§ˆå™¨éƒ½æœ‰ä¸åŒçš„å®ç°å’Œäº¤äº’æ–¹å¼ï¼ŒWebDriver éœ€è¦ä¸æ¯ä¸ªæµè§ˆå™¨é…åˆä½¿ç”¨ç‰¹å®šçš„é©±åŠ¨ç¨‹åºã€‚è¿™äº›é©±åŠ¨ç¨‹åºè´Ÿè´£ä¸æµè§ˆå™¨é€šä¿¡ï¼Œå¹¶å°† WebDriver çš„å‘½ä»¤ç¿»è¯‘ä¸ºæµè§ˆå™¨èƒ½å¤Ÿç†è§£å’Œæ‰§è¡Œçš„æ“ä½œã€‚ä¾‹å¦‚ï¼Œå¯¹äº Chrome æµè§ˆå™¨ï¼Œéœ€è¦ä½¿ç”¨ ChromeDriver ä½œä¸ºé©±åŠ¨ç¨‹åºï¼›å¯¹äº Firefox æµè§ˆå™¨ï¼Œéœ€è¦ä½¿ç”¨ GeckoDriverï¼›å¯¹äº Safari æµè§ˆå™¨ï¼Œéœ€è¦ä½¿ç”¨ SafariDriverã€‚</p></li></ol><p>å› æ­¤ï¼Œè¦ä½¿ç”¨ WebDriver æ§åˆ¶ç‰¹å®šæµè§ˆå™¨ï¼Œæ‚¨éœ€è¦ä¸‹è½½å’Œé…ç½®ç›¸åº”çš„é©±åŠ¨ç¨‹åºï¼Œå¹¶é€šè¿‡ç¼–ç¨‹è¯­è¨€çš„ WebDriver æ¥å£ä¸é©±åŠ¨ç¨‹åºè¿›è¡Œäº¤äº’ã€‚è¿™æ ·ï¼Œæ‚¨å°±å¯ä»¥ç¼–å†™è‡ªåŠ¨åŒ–è„šæœ¬æ¥æ§åˆ¶æµè§ˆå™¨ï¼Œæ¨¡æ‹Ÿç”¨æˆ·ä¸ç½‘é¡µçš„äº¤äº’è¡Œä¸ºã€‚</p><h2 id="ä¸€ã€seleniumç¯å¢ƒæ­å»º" tabindex="-1"><a class="header-anchor" href="#ä¸€ã€seleniumç¯å¢ƒæ­å»º"><span>ä¸€ã€seleniumç¯å¢ƒæ­å»º</span></a></h2><h3 id="ç¬¬ä¸€æ­¥-å®‰è£…seleniumåŒ…" tabindex="-1"><a class="header-anchor" href="#ç¬¬ä¸€æ­¥-å®‰è£…seleniumåŒ…"><span>ç¬¬ä¸€æ­¥ï¼šå®‰è£…seleniumåŒ…</span></a></h3><p>ä¸€ä¸ªé¡¹ç›®æ‰€ä½¿ç”¨çš„pythonå¯ä»¥é‡‡ç”¨ï¼š</p><p>â‘´æ“ä½œç³»ç»Ÿä¸­å®‰è£…çš„å…¨å±€pythonï¼›</p><p>â‘µé¡¹ç›®å†…å»ºç«‹çš„pythonè™šæ‹Ÿç¯å¢ƒã€‚</p><p>é¡¹ç›®ä½¿ç”¨ä¸åŒçš„pythonç¯å¢ƒï¼Œå°±éœ€è¦åœ¨ç›¸åº”çš„ç¯å¢ƒä¸­å®‰è£…seleniumã€‚</p><h4 id="æœ¬åœ°pythonç¯å¢ƒä¸­å®‰è£…selenium" tabindex="-1"><a class="header-anchor" href="#æœ¬åœ°pythonç¯å¢ƒä¸­å®‰è£…selenium"><span>æœ¬åœ°Pythonç¯å¢ƒä¸­å®‰è£…selenium</span></a></h4><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>pip <span class="token function">install</span> selenium
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="è™šæ‹Ÿç¯å¢ƒä¸­å®‰è£…selenium" tabindex="-1"><a class="header-anchor" href="#è™šæ‹Ÿç¯å¢ƒä¸­å®‰è£…selenium"><span>è™šæ‹Ÿç¯å¢ƒä¸­å®‰è£…selenium</span></a></h4><p>æ¿€æ´»è™šæ‹Ÿç¯å¢ƒåä½¿ç”¨</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>pip <span class="token function">install</span> selenium
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>æ¿€æ´»è™šæ‹Ÿç¯å¢ƒçš„æ–¹æ³•å‚è€ƒé™„å½•&quot;venvçš„ä½¿ç”¨&quot;.</p><p><strong>ä¾‹ï¼šPycharmä¸­é…ç½®è™šæ‹Ÿç¯å¢ƒå¹¶å®‰è£…selenium</strong></p><p>ä»¥ä¸‹ä»¥Pycharmä¸ºä¾‹ï¼Œè¯´æ˜åœ¨IDEä¸­é…ç½®è™šæ‹Ÿç¯å¢ƒå¹¶åœ¨è™šæ‹Ÿç¯å¢ƒä¸­å®‰è£…seleniumçš„æ–¹æ³•ã€‚</p><ol><li>è‡ªè¡Œåˆ°ç½‘ç«™ä¸‹è½½PyCharm community edition</li><li>æ–°å»ºpythoné¡¹ç›®ï¼Œé€‰ä¸­iterpreter type: venvï¼Œç„¶åç¡®è®¤åˆ›å»ºé¡¹ç›®ã€‚ <a href="#" title="## ç›®    å½•">//</a>: # (![image](images/ceFpeSlDDfr2oc7EVHtQ9WB2OI0DOWU6zyVWbef_qS4.png))</li><li>åœ¨ PyCharm ä¸­å®‰è£… Selenium åŒ…ï¼Œæ‚¨å¯ä»¥æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤è¿›è¡Œæ“ä½œï¼š <ol><li><p>åœ¨ PyCharm çš„é¡¶éƒ¨èœå•ä¸­ï¼Œé€‰æ‹© <strong>&quot;File&quot;ï¼ˆæ–‡ä»¶ï¼‰&gt; &quot;Settings&quot;ï¼ˆè®¾ç½®ï¼‰</strong>ï¼ˆåœ¨ macOS ä¸Šé€‰æ‹© &quot;PyCharm&quot; &gt; &quot;Preferences&quot;ï¼‰ã€‚</p></li><li><p>åœ¨è®¾ç½®å¯¹è¯æ¡†ä¸­ï¼Œå±•å¼€** &quot;Project&quot;ï¼ˆé¡¹ç›®ï¼‰&gt; &quot;Project Interpreter&quot;ï¼ˆé¡¹ç›®è§£é‡Šå™¨ï¼‰**ã€‚</p></li><li><p>åœ¨å³ä¾§çš„é¡¹ç›®è§£é‡Šå™¨åˆ—è¡¨ä¸­ï¼Œé€‰æ‹©æ‚¨æ­£åœ¨ä½¿ç”¨çš„ Python è§£é‡Šå™¨ã€‚</p></li><li><p>å¦‚æœæ‚¨å°šæœªåˆ›å»ºè™šæ‹Ÿç¯å¢ƒï¼Œå»ºè®®åˆ›å»ºä¸€ä¸ªè™šæ‹Ÿç¯å¢ƒä»¥éš”ç¦»é¡¹ç›®çš„ä¾èµ–å…³ç³»ã€‚æ‚¨å¯ä»¥ä½¿ç”¨ PyCharm å†…ç½®çš„è™šæ‹Ÿç¯å¢ƒç®¡ç†å·¥å…·æˆ–è€…ä½¿ç”¨ venv å‘½ä»¤åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ</p></li><li><p>å•å‡»å³ä¾§çš„** &quot;+&quot; å›¾æ ‡**ï¼Œä»¥æ‰“å¼€ &quot;Available Packages&quot;ï¼ˆå¯ç”¨åŒ…ï¼‰å¯¹è¯æ¡†ã€‚</p></li><li><p>åœ¨æœç´¢æ¡†ä¸­è¾“å…¥ &quot;selenium&quot;ï¼Œç„¶åæŒ‰ä¸‹ Enter é”®æˆ–å•å‡»æœç´¢æŒ‰é’®ã€‚</p></li><li><p>åœ¨æœç´¢ç»“æœåˆ—è¡¨ä¸­ï¼Œæ‰¾åˆ° Selenium åŒ…ï¼Œå¹¶å•å‡»å…¶å·¦ä¾§çš„å¤é€‰æ¡†ã€‚</p></li><li><p>å•å‡» &quot;Install Package&quot;ï¼ˆå®‰è£…åŒ…ï¼‰æŒ‰é’®ï¼ŒPyCharm å°†å¼€å§‹ä¸‹è½½å’Œå®‰è£… Selenium åŒ…ã€‚</p></li><li><p>å®‰è£…å®Œæˆåï¼Œå…³é—­å¯¹è¯æ¡†ï¼Œå¹¶è¿”å›åˆ° PyCharm çš„ç¼–è¾‘ç•Œé¢ã€‚</p></li></ol></li></ol><p>ç°åœ¨ï¼Œæ‚¨å¯ä»¥åœ¨é¡¹ç›®ä¸­çš„ Python æ–‡ä»¶ä¸­å¯¼å…¥å’Œä½¿ç”¨ Selenium åŒ…äº†ã€‚æ‚¨å¯ä»¥ä½¿ç”¨ <code>import selenium</code> è¯­å¥å¯¼å…¥ Selenium æ¨¡å—ï¼Œå¹¶å¼€å§‹ç¼–å†™è‡ªåŠ¨åŒ–æµ‹è¯•è„šæœ¬æˆ–å…¶ä»–ä¸æµè§ˆå™¨äº¤äº’çš„ä»£ç ã€‚</p><h3 id="ç¬¬äºŒæ­¥-ä¸‹è½½å¯¹åº”çš„æµè§ˆå™¨å’Œé©±åŠ¨" tabindex="-1"><a class="header-anchor" href="#ç¬¬äºŒæ­¥-ä¸‹è½½å¯¹åº”çš„æµè§ˆå™¨å’Œé©±åŠ¨"><span>ç¬¬äºŒæ­¥ï¼šä¸‹è½½å¯¹åº”çš„æµè§ˆå™¨å’Œé©±åŠ¨</span></a></h3><p>ä¸ºäº†è§„é¿å…¼å®¹æ€§é—®é¢˜ï¼Œè¯·ä¸‹è½½å¯¹åº”çš„æµè§ˆå™¨å’Œé©±åŠ¨ï¼Œå¹¶åœ¨seleniumçš„ä»£ç ä¸­æ˜ç¡®çš„æŒ‡å®šè¿™ä¸¤è€…çš„ä½ç½®ã€‚</p><p><strong>ç½‘å€ï¼šhttps://googlechromelabs.github.io/chrome-for-testing/</strong></p><p>ä»£ç å¦‚ä¸‹ï¼š</p><div class="language-python line-numbers-mode" data-ext="py" data-title="py"><pre class="language-python"><code>
<span class="token keyword">from</span> selenium <span class="token keyword">import</span> webdriver

<span class="token keyword">from</span> selenium<span class="token punctuation">.</span>webdriver<span class="token punctuation">.</span>chrome<span class="token punctuation">.</span>service <span class="token keyword">import</span> Service <span class="token keyword">as</span> ChromeService

<span class="token keyword">from</span> time <span class="token keyword">import</span> sleep

<span class="token comment"># æ›¿æ¢ä¸ºæ‚¨å®é™…çš„Chromeæµè§ˆå™¨è·¯å¾„ï¼Œé‡‡ç”¨ç‰ˆæœ¬åŒ¹é…çš„webdriverå’Œchrome</span>

<span class="token comment"># å‚è§ï¼š</span>

<span class="token comment"># https://googlechromelabs.github.io/chrome-for-testing/</span>

chrome_path <span class="token operator">=</span> <span class="token string">&quot;/home/aug/Apps/chrome-linux64/chrome&quot;</span>

driver_path <span class="token operator">=</span> <span class="token string">&quot;/home/aug/bin/chromedriver&quot;</span>

chrome_options <span class="token operator">=</span> webdriver<span class="token punctuation">.</span>ChromeOptions<span class="token punctuation">(</span><span class="token punctuation">)</span>

chrome_options<span class="token punctuation">.</span>binary_location <span class="token operator">=</span> chrome_path

service <span class="token operator">=</span> ChromeService<span class="token punctuation">(</span>executable_path<span class="token operator">=</span>driver_path<span class="token punctuation">)</span>

driver <span class="token operator">=</span> webdriver<span class="token punctuation">.</span>Chrome<span class="token punctuation">(</span>service<span class="token operator">=</span>service<span class="token punctuation">,</span> options<span class="token operator">=</span>chrome_options<span class="token punctuation">)</span>

driver<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">&quot;http://www.baidu.com&quot;</span><span class="token punctuation">)</span>

sleep<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="äºŒã€ä¸æµè§ˆå™¨äº¤äº’" tabindex="-1"><a class="header-anchor" href="#äºŒã€ä¸æµè§ˆå™¨äº¤äº’"><span>äºŒã€ä¸æµè§ˆå™¨äº¤äº’</span></a></h2><h3 id="å’Œæµè§ˆå™¨æœ‰å…³çš„å±æ€§å’Œæ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#å’Œæµè§ˆå™¨æœ‰å…³çš„å±æ€§å’Œæ–¹æ³•"><span>å’Œæµè§ˆå™¨æœ‰å…³çš„å±æ€§å’Œæ–¹æ³•</span></a></h3><h3 id="ä¸€ä¸ªä¾‹å­" tabindex="-1"><a class="header-anchor" href="#ä¸€ä¸ªä¾‹å­"><span>ä¸€ä¸ªä¾‹å­</span></a></h3><div class="language-python line-numbers-mode" data-ext="py" data-title="py"><pre class="language-python"><code><span class="token keyword">from</span> selenium <span class="token keyword">import</span> webdriver

<span class="token keyword">from</span> time <span class="token keyword">import</span> sleep

<span class="token keyword">from</span> selenium<span class="token punctuation">.</span>webdriver<span class="token punctuation">.</span>common<span class="token punctuation">.</span>by <span class="token keyword">import</span> By

<span class="token keyword">class</span> <span class="token class-name">TestCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>

    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>

        self<span class="token punctuation">.</span>driver <span class="token operator">=</span> webdriver<span class="token punctuation">.</span>Firefox<span class="token punctuation">(</span><span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">&quot;http://www.baidu.com&quot;</span><span class="token punctuation">)</span>

        sleep<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>set_window_size<span class="token punctuation">(</span><span class="token number">1920</span><span class="token punctuation">,</span> <span class="token number">800</span><span class="token punctuation">)</span> 

        self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>maximize_window<span class="token punctuation">(</span><span class="token punctuation">)</span> 
    
    <span class="token keyword">def</span> <span class="token function">__del__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
    
<span class="token comment">#        self.driver.close() # å…³é—­å½“å‰tab</span>

<span class="token comment">#        self.driver.quit() # å…³é—­æµè§ˆå™¨</span>

<span class="token comment">#        print(&quot;çœ‹çœ‹æµè§ˆå™¨æ˜¯å¦å…³é—­&quot;) # å‰ä¸¤å¥å¹¶æ²¡æœ‰èµ·ä½œç”¨</span>

        <span class="token keyword">pass</span>
              
    <span class="token keyword">def</span> <span class="token function">close</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>

        self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># å…³é—­å½“å‰tab</span>
        
        self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>quit<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># å…³é—­æµè§ˆå™¨</span>

        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;çœ‹çœ‹æµè§ˆå™¨æ˜¯å¦å…³é—­&quot;</span><span class="token punctuation">)</span> <span class="token comment"># å‰ä¸¤å¥å¹¶æ²¡æœ‰èµ·ä½œç”¨</span>

    <span class="token keyword">def</span> <span class="token function">test_prop</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>

        <span class="token keyword">print</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>name<span class="token punctuation">)</span> <span class="token comment"># æµè§ˆå™¨åç§° </span>

        <span class="token keyword">print</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>current_url<span class="token punctuation">)</span> 

        <span class="token keyword">print</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>title<span class="token punctuation">)</span>

        <span class="token keyword">print</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>window_handles<span class="token punctuation">)</span>

        <span class="token keyword">print</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>page_source<span class="token punctuation">)</span>
     
    <span class="token keyword">def</span> <span class="token function">test_method</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>

        elem <span class="token operator">=</span> self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>find_element<span class="token punctuation">(</span>By<span class="token punctuation">.</span>ID<span class="token punctuation">,</span> <span class="token string">&quot;kw&quot;</span><span class="token punctuation">)</span>

        elem<span class="token punctuation">.</span>send_keys<span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span>
        
        self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>find_element<span class="token punctuation">(</span>By<span class="token punctuation">.</span>ID<span class="token punctuation">,</span> <span class="token string">&quot;su&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>click<span class="token punctuation">(</span><span class="token punctuation">)</span>

        sleep<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>back<span class="token punctuation">(</span><span class="token punctuation">)</span>

        sleep<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>refresh<span class="token punctuation">(</span><span class="token punctuation">)</span>

        sleep<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>forward<span class="token punctuation">(</span><span class="token punctuation">)</span>

        <span class="token comment">#self.driver.close() # å…³é—­å½“å‰tab</span>

        <span class="token comment">#self.driver.quit() # å…³é—­æµè§ˆå™¨</span>
       
<span class="token keyword">if</span> __name__<span class="token operator">==</span><span class="token string">&quot;__main__&quot;</span><span class="token punctuation">:</span>

    <span class="token keyword">case</span> <span class="token operator">=</span> TestCase<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">case</span><span class="token punctuation">.</span>test_prop<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">case</span><span class="token punctuation">.</span>test_method<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">case</span><span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="å¤„ç†å¼¹çª—" tabindex="-1"><a class="header-anchor" href="#å¤„ç†å¼¹çª—"><span>å¤„ç†å¼¹çª—</span></a></h3><p>1.Â ä¸‰ç§å¼¹çª—ï¼š</p><p>A.Â Alert</p><p></p><p>B.Â Confirm</p><p></p><p>C.Â Prompt</p><p></p><p>2.Â å»ºç«‹åŒ…å«ä¸‰ç§å¼¹çª—çš„HTMLè„šæœ¬ï¼šalert.html</p><div class="language-html line-numbers-mode" data-ext="html" data-title="html"><pre class="language-html"><code>
<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Title<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript:alert(&#39;æç¤ºæ¡†&#39;)<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>alert<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Alert<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript:confirm(&#39;çœŸçš„è¦åˆ é™¤æ•°æ®å—?&#39;)<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>confirm<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Confirm<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript:var age = prompt(&#39;ä½ çš„å¹´é¾„&#39;);document.write(age)<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>prompt<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Prompt<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>3.Â ç¼–å†™webdriverè„šæœ¬</p><div class="language-python line-numbers-mode" data-ext="py" data-title="py"><pre class="language-python"><code>
<span class="token keyword">from</span> selenium <span class="token keyword">import</span> webdriver

<span class="token keyword">from</span> time <span class="token keyword">import</span> sleep

<span class="token keyword">from</span> selenium<span class="token punctuation">.</span>webdriver<span class="token punctuation">.</span>common<span class="token punctuation">.</span>by <span class="token keyword">import</span> By

<span class="token keyword">import</span> os

<span class="token keyword">class</span> <span class="token class-name">TestCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>

    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>

        self<span class="token punctuation">.</span>driver <span class="token operator">=</span> webdriver<span class="token punctuation">.</span>Firefox<span class="token punctuation">(</span><span class="token punctuation">)</span>

        path <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>dirname<span class="token punctuation">(</span>__file__<span class="token punctuation">)</span>

        url <span class="token operator">=</span> <span class="token string">&quot;file://&quot;</span><span class="token operator">+</span>path<span class="token operator">+</span><span class="token string">&quot;/alert.html&quot;</span> <span class="token comment"># file://///åæ— è®ºå¤šå°‘ä¸ª/éƒ½æ˜¯ä¸€æ ·çš„ï¼Œè‡³å°‘2ä¸ªã€‚</span>

        self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">test_alert</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>

        self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>find_element<span class="token punctuation">(</span>By<span class="token punctuation">.</span>ID<span class="token punctuation">,</span> <span class="token string">&quot;alert&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>click<span class="token punctuation">(</span><span class="token punctuation">)</span>

        alert <span class="token operator">=</span> self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>switch_to<span class="token punctuation">.</span>alert <span class="token comment"># æ— è®ºæ˜¯å“ªç§å¼¹çª—ï¼Œéƒ½æ˜¯switch_to.alert</span>

        <span class="token keyword">print</span><span class="token punctuation">(</span>alert<span class="token punctuation">.</span>text<span class="token punctuation">)</span>

        sleep<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>

        alert<span class="token punctuation">.</span>accept<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">test_prompt</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>

        self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>find_element<span class="token punctuation">(</span>By<span class="token punctuation">.</span>ID<span class="token punctuation">,</span> <span class="token string">&quot;prompt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>click<span class="token punctuation">(</span><span class="token punctuation">)</span>

        prompt <span class="token operator">=</span> self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>switch_to<span class="token punctuation">.</span>alert

        prompt<span class="token punctuation">.</span>send_keys<span class="token punctuation">(</span><span class="token string">&quot;20&quot;</span><span class="token punctuation">)</span> <span class="token comment"># æç¤ºæ¡†ä¸­è¾“å…¥20</span>

        <span class="token keyword">print</span><span class="token punctuation">(</span>prompt<span class="token punctuation">.</span>text<span class="token punctuation">)</span>

        sleep<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>

        prompt<span class="token punctuation">.</span>accept<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">#        prompt.dismiss()</span>
        
    <span class="token keyword">def</span> <span class="token function">test_comfirm</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>

        self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>find_element<span class="token punctuation">(</span>By<span class="token punctuation">.</span>ID<span class="token punctuation">,</span> <span class="token string">&quot;confirm&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>click<span class="token punctuation">(</span><span class="token punctuation">)</span>

        confirm <span class="token operator">=</span> self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>switch_to<span class="token punctuation">.</span>alert

        sleep<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>

        confirm<span class="token punctuation">.</span>accept<span class="token punctuation">(</span><span class="token punctuation">)</span>
  
<span class="token keyword">if</span> __name__<span class="token operator">==</span><span class="token string">&quot;__main__&quot;</span><span class="token punctuation">:</span>

    <span class="token keyword">case</span> <span class="token operator">=</span> TestCase<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">#    case.test_alert()</span>

<span class="token comment">#    case.test_prompt()</span>

    <span class="token keyword">case</span><span class="token punctuation">.</span>test_comfirm<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ä¸‰ã€å…ƒç´ å®šä½" tabindex="-1"><a class="header-anchor" href="#ä¸‰ã€å…ƒç´ å®šä½"><span>ä¸‰ã€å…ƒç´ å®šä½</span></a></h2><h3 id="å®šä½æ‰¾åˆ°çš„ç¬¬ä¸€ä¸ªå…ƒç´ " tabindex="-1"><a class="header-anchor" href="#å®šä½æ‰¾åˆ°çš„ç¬¬ä¸€ä¸ªå…ƒç´ "><span>å®šä½æ‰¾åˆ°çš„ç¬¬ä¸€ä¸ªå…ƒç´ </span></a></h3><p>Selenium Python follows different locating strategies for elements. One can locate a element in 8 different ways. Here is a list of locating strategies for Selenium in pythonï¼š</p><p>|Locators|æè¿°|</p><p>| ----- | ----- |</p><p>|<a href="https://www.geeksforgeeks.org/find_element_by_id-driver-method-selenium-python/" target="_blank" rel="noopener noreferrer">find_element_by_id<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>|å°†è¿”å› id å±æ€§å€¼ä¸ä½ç½®åŒ¹é…çš„ç¬¬ä¸€ä¸ªå…ƒç´ ã€‚|</p><p>|<a href="https://www.geeksforgeeks.org/find_element_by_name-driver-method-selenium-python/?ref=rp" target="_blank" rel="noopener noreferrer">find_element_by_name<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>|å°†è¿”å›åç§°å±æ€§å€¼ä¸ä½ç½®åŒ¹é…çš„ç¬¬ä¸€ä¸ªå…ƒç´ ã€‚|</p><p>|<strong>find_element_by_xpath</strong>|å°†è¿”å› xpath è¯­æ³•ä¸ä½ç½®åŒ¹é…çš„ç¬¬ä¸€ä¸ªå…ƒç´ ã€‚|</p><p>|<strong>find_element_by_link_text</strong>|å°†è¿”å›é“¾æ¥æ–‡æœ¬å€¼ä¸ä½ç½®åŒ¹é…çš„ç¬¬ä¸€ä¸ªå…ƒç´ ã€‚|</p><p>|<strong>find_element_by_partial_link_text</strong>|å°†è¿”å›éƒ¨åˆ†é“¾æ¥æ–‡æœ¬å€¼ä¸ä½ç½®åŒ¹é…çš„ç¬¬ä¸€ä¸ªå…ƒç´ ã€‚|</p><p>|<a href="https://www.geeksforgeeks.org/find_element_by_tag_name-driver-method-selenium-python/?ref=rp" target="_blank" rel="noopener noreferrer">find_element_by_tag_name<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>|å°†è¿”å›å…·æœ‰ç»™å®šæ ‡ç­¾åç§°çš„ç¬¬ä¸€ä¸ªå…ƒç´ ã€‚|</p><p>|<a href="https://www.geeksforgeeks.org/find_element_by_class_name-driver-method-selenium-python/?ref=rp" target="_blank" rel="noopener noreferrer">find_element_by_class_name<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>|å°†è¿”å›å…·æœ‰åŒ¹é…ç±»å±æ€§åç§°çš„ç¬¬ä¸€ä¸ªå…ƒç´ ã€‚|</p><p>|<a href="https://www.geeksforgeeks.org/find_element_by_css_selector-driver-method-selenium-python/?ref=rp" target="_blank" rel="noopener noreferrer">find_element_by_css_selector<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>|å°†è¿”å›å…·æœ‰åŒ¹é… CSS é€‰æ‹©å™¨çš„ç¬¬ä¸€ä¸ªå…ƒç´ ã€‚|</p><h3 id="å®šä½å¤šä¸ªå…ƒç´ " tabindex="-1"><a class="header-anchor" href="#å®šä½å¤šä¸ªå…ƒç´ "><span>å®šä½å¤šä¸ªå…ƒç´ </span></a></h3><p>Selenium Python follows different locating strategies for elements. One can locate multiple elements in 7 different ways. Here is a list of locating strategies for Selenium in pythonï¼š</p><p>|Locators|æè¿°|</p><p>| ----- | ----- |</p><p>|<a href="https://www.geeksforgeeks.org/find_elements_by_name-driver-method-selenium-python/?ref=rp" target="_blank" rel="noopener noreferrer">find_elements_by_name<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>|å°†è¿”å›åç§°å±æ€§å€¼ä¸ä½ç½®åŒ¹é…çš„æ‰€æœ‰å…ƒç´ ã€‚|</p><p>|<a href="https://www.geeksforgeeks.org/find_elements_by_xpath-driver-method-selenium-python/?ref=rp" target="_blank" rel="noopener noreferrer">find_elements_by_xpath<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>|å°†è¿”å›æ‰€æœ‰å…·æœ‰ä¸è¯¥ä½ç½®åŒ¹é…çš„ xpath è¯­æ³•çš„å…ƒç´ ã€‚|</p><p>|<a href="https://www.geeksforgeeks.org/find_elements_by_link_text-driver-method-selenium-python/?ref=rp" target="_blank" rel="noopener noreferrer">find_elements_by_link_text<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>|å°†è¿”å›é“¾æ¥æ–‡æœ¬å€¼ä¸ä½ç½®åŒ¹é…çš„æ‰€æœ‰å…ƒç´ ã€‚|</p><p>|<a href="https://www.geeksforgeeks.org/find_elements_by_partial_link_text-driver-method-selenium-python/?ref=rp" target="_blank" rel="noopener noreferrer">find_elements_by_partial_link_text<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>|å°†è¿”å›éƒ¨åˆ†é“¾æ¥æ–‡æœ¬å€¼ä¸ä½ç½®åŒ¹é…çš„æ‰€æœ‰å…ƒç´ ã€‚|</p><p>|<a href="https://www.geeksforgeeks.org/find_elements_by_tag_name-driver-method-selenium-python/?ref=rp" target="_blank" rel="noopener noreferrer">find_elements_by_tag_name<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>|å°†è¿”å›å…·æœ‰ç»™å®šæ ‡ç­¾åç§°çš„æ‰€æœ‰å…ƒç´ ã€‚|</p><p>|<a href="https://www.geeksforgeeks.org/find_elements_by_class_name-driver-method-selenium-python/?ref=rp" target="_blank" rel="noopener noreferrer">find_elements_by_class_name<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>|å°†è¿”å›å…·æœ‰åŒ¹é…ç±»å±æ€§åç§°çš„æ‰€æœ‰å…ƒç´ ã€‚|</p><p>|<a href="https://www.geeksforgeeks.org/find_elements_by_css_selector-driver-method-selenium-python/?ref=rp" target="_blank" rel="noopener noreferrer">find_elements_by_css_selector<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>|æ‰€æœ‰å…·æœ‰åŒ¹é… CSS é€‰æ‹©å™¨çš„å…ƒç´ éƒ½å°†è¢«è¿”å›ã€‚|</p><h3 id="å®šä½ç”¨æ³•ä¸¾ä¾‹" tabindex="-1"><a class="header-anchor" href="#å®šä½ç”¨æ³•ä¸¾ä¾‹"><span>å®šä½ç”¨æ³•ä¸¾ä¾‹</span></a></h3><p>ç”¨æ³•ä¸¾ä¾‹1ï¼š</p><p>ç”¨æ³•ä¸¾ä¾‹2ï¼šfind_elementsè¿”å›ä¸€å †å…ƒç´ ã€‚ä¸Šè¡¨ä¸­çš„ç³»åˆ—find_element</p><p>ç”¨æ³•ä¸¾ä¾‹ï¼šby_link_textå’Œby_partial_link textåªèƒ½ä½œç”¨åœ¨aå…ƒç´ ä¸­ã€‚</p><h3 id="å‡ ä¸ªä¾‹å­" tabindex="-1"><a class="header-anchor" href="#å‡ ä¸ªä¾‹å­"><span>å‡ ä¸ªä¾‹å­</span></a></h3><h4 id="ä¸€ä¸ªä¾‹å­-by-xpath-a-starts-with-text-æ–°é—»" tabindex="-1"><a class="header-anchor" href="#ä¸€ä¸ªä¾‹å­-by-xpath-a-starts-with-text-æ–°é—»"><span>ä¸€ä¸ªä¾‹å­(By.XPATH, &#39;//a[starts-with(text(), &quot;æ–°é—»&quot;)]&#39;)</span></a></h4><p>ä¾‹å¦‚ï¼šè®¿é—®ç™¾åº¦ç½‘ç«™ï¼Œå¹¶å®šä½åˆ°â€œæ–°é—»â€æ¿å—ã€‚å®ç°è¿™ä¸€ç›®çš„æ‰€é‡‡ç”¨çš„æ–¹æ³•æ˜¯å¯»æ‰¾ä»¥â€œæ–°é—»â€ä½œä¸ºå†…å®¹å¼€å¤´çš„ç½‘é¡µå…ƒç´ ã€‚å…¶å¯¹åº”çš„XPATHè¯­å¥ä¸º<code>&#39;//a[starts-with(text(), &quot;æ–°é—»&quot;)]&#39;ã€‚</code></p><div class="language-python line-numbers-mode" data-ext="py" data-title="py"><pre class="language-python"><code>
<span class="token keyword">from</span> selenium <span class="token keyword">import</span> webdriver

<span class="token keyword">from</span> selenium<span class="token punctuation">.</span>webdriver<span class="token punctuation">.</span>common<span class="token punctuation">.</span>by <span class="token keyword">import</span> By

driver <span class="token operator">=</span> webdriver<span class="token punctuation">.</span>Firefox<span class="token punctuation">(</span><span class="token punctuation">)</span>

driver<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">&quot;http://www.baidu.com&quot;</span><span class="token punctuation">)</span>

elem <span class="token operator">=</span> driver<span class="token punctuation">.</span>find_element<span class="token punctuation">(</span>By<span class="token punctuation">.</span>XPATH<span class="token punctuation">,</span> <span class="token string">&#39;//a[starts-with(text(), &quot;æ–°é—»&quot;)]&#39;</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>elem<span class="token punctuation">.</span>text<span class="token punctuation">)</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="ä¸€ä¸ªä¾‹å­-by-id" tabindex="-1"><a class="header-anchor" href="#ä¸€ä¸ªä¾‹å­-by-id"><span>ä¸€ä¸ªä¾‹å­(By.ID)</span></a></h4><div class="language-python line-numbers-mode" data-ext="py" data-title="py"><pre class="language-python"><code>
<span class="token keyword">from</span> selenium <span class="token keyword">import</span> webdriver

<span class="token keyword">from</span> time <span class="token keyword">import</span> sleep

driver <span class="token operator">=</span> webdriver<span class="token punctuation">.</span>Firefox<span class="token punctuation">(</span><span class="token punctuation">)</span>

driver<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">&quot;http://www.baidu.com&quot;</span><span class="token punctuation">)</span>

<span class="token keyword">from</span> selenium<span class="token punctuation">.</span>webdriver<span class="token punctuation">.</span>common<span class="token punctuation">.</span>by <span class="token keyword">import</span> By

driver<span class="token punctuation">.</span>find_element<span class="token punctuation">(</span>By<span class="token punctuation">.</span>ID<span class="token punctuation">,</span> <span class="token string">&quot;kw&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>send_keys<span class="token punctuation">(</span><span class="token string">&quot;selenium&quot;</span><span class="token punctuation">)</span>

driver<span class="token punctuation">.</span>find_element<span class="token punctuation">(</span>By<span class="token punctuation">.</span>ID<span class="token punctuation">,</span> <span class="token string">&quot;su&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>click<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span>driver<span class="token punctuation">.</span>find_element<span class="token punctuation">(</span>By<span class="token punctuation">.</span>ID<span class="token punctuation">,</span> <span class="token string">&quot;kw&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> 

<span class="token comment"># &lt;class &#39;selenium.webdriver.remote.webelement.WebElement&#39;&gt;</span>

driver<span class="token punctuation">.</span>quit<span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="ä¸€ä¸ªä¾‹å­-by-link-text" tabindex="-1"><a class="header-anchor" href="#ä¸€ä¸ªä¾‹å­-by-link-text"><span>ä¸€ä¸ªä¾‹å­(By.LINK_TEXT)</span></a></h4><div class="language-python line-numbers-mode" data-ext="py" data-title="py"><pre class="language-python"><code>
<span class="token comment"># import webdriver</span>

<span class="token keyword">from</span> selenium <span class="token keyword">import</span> webdriver

<span class="token keyword">from</span> selenium<span class="token punctuation">.</span>webdriver<span class="token punctuation">.</span>common<span class="token punctuation">.</span>by <span class="token keyword">import</span> By

<span class="token comment"># create webdriver object</span>

driver <span class="token operator">=</span> webdriver<span class="token punctuation">.</span>Firefox<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># set implicit wait time</span>

driver<span class="token punctuation">.</span>implicitly_wait<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>  <span class="token comment"># seconds</span>

<span class="token comment"># get www.baidu.com</span>

driver<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">&quot;http://www.baidu.com&quot;</span><span class="token punctuation">)</span>

<span class="token comment"># get element after 10 seconds</span>

element <span class="token operator">=</span> driver<span class="token punctuation">.</span>find_element<span class="token punctuation">(</span>By<span class="token punctuation">.</span>LINK_TEXT<span class="token punctuation">,</span><span class="token string">&quot;å›¾ç‰‡&quot;</span><span class="token punctuation">)</span>

<span class="token comment"># click element</span>

element<span class="token punctuation">.</span>click<span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="xpath" tabindex="-1"><a class="header-anchor" href="#xpath"><span>XPATH</span></a></h3><h4 id="xpathçš„åŸºæœ¬è¯­æ³•" tabindex="-1"><a class="header-anchor" href="#xpathçš„åŸºæœ¬è¯­æ³•"><span>XPATHçš„åŸºæœ¬è¯­æ³•</span></a></h4><p>ä¾‹å­ï¼šå¤šä¸ªå±æ€§åŒæ—¶ç­›é€‰ã€‚</p><h4 id="xpathçš„å†…ç½®å‡½æ•°" tabindex="-1"><a class="header-anchor" href="#xpathçš„å†…ç½®å‡½æ•°"><span>XPATHçš„å†…ç½®å‡½æ•°</span></a></h4><p>XPath æä¾›äº†ä¸€äº›å†…ç½®å‡½æ•°ï¼Œå¦‚ <code>text()</code>ã€<code>contains()</code> å’Œ <code>starts-with()</code>ï¼Œç”¨äºåœ¨ XPath è¡¨è¾¾å¼ä¸­è¿›è¡Œæ–‡æœ¬åŒ¹é…å’Œç­›é€‰ã€‚</p><p>ä»¥ä¸‹æ˜¯è¿™äº›å‡½æ•°çš„è¯´æ˜å’Œç¤ºä¾‹ç”¨æ³•ï¼š</p><ol><li><code>text()</code>: ç”¨äºåŒ¹é…å…ƒç´ çš„æ–‡æœ¬å†…å®¹ã€‚å¯ä»¥å°†å…¶ä¸å…¶ä»–å…ƒç´ æˆ–å±æ€§é€‰æ‹©å™¨ç»“åˆä½¿ç”¨ï¼Œä»¥æ ¹æ®å…ƒç´ çš„æ–‡æœ¬å†…å®¹è¿›è¡Œç­›é€‰ã€‚</li></ol><p>ç¤ºä¾‹ï¼šé€‰æ‹©åŒ…å«ç‰¹å®šæ–‡æœ¬çš„å…ƒç´ ã€‚</p><p><code>//p[text()=&#39;Hello, world!&#39;]</code>: é€‰æ‹©æ–‡æœ¬å†…å®¹ä¸º &quot;Hello, world!&quot; çš„ <code>&lt;p&gt;</code> å…ƒç´ ã€‚</p><ol start="2"><li><code>contains()</code>: ç”¨äºæ£€æŸ¥å…ƒç´ çš„æ–‡æœ¬å†…å®¹æ˜¯å¦åŒ…å«æŒ‡å®šçš„å­å­—ç¬¦ä¸²ã€‚å¯ä»¥åœ¨é€‰æ‹©å™¨ä¸­ä½¿ç”¨å®ƒæ¥è¿›è¡Œæ¨¡ç³ŠåŒ¹é…ã€‚</li></ol><p>ç¤ºä¾‹ï¼šé€‰æ‹©åŒ…å«ç‰¹å®šå­å­—ç¬¦ä¸²çš„å…ƒç´ ã€‚</p><p><code>//p[contains(text(), &#39;example&#39;)]</code>: é€‰æ‹©æ–‡æœ¬å†…å®¹ä¸­åŒ…å« &quot;example&quot; çš„ <code>&lt;p&gt;</code> å…ƒç´ ã€‚</p><ol start="3"><li><code>starts-with()</code>: ç”¨äºæ£€æŸ¥å…ƒç´ çš„æ–‡æœ¬å†…å®¹æ˜¯å¦ä»¥æŒ‡å®šçš„å‰ç¼€å¼€å¤´ã€‚</li></ol><p>ç¤ºä¾‹ï¼šé€‰æ‹©ä»¥ç‰¹å®šå‰ç¼€å¼€å¤´çš„å…ƒç´ ã€‚</p><p><code>//h2[starts-with(text(), &#39;Chapter&#39;)]</code>: é€‰æ‹©æ–‡æœ¬å†…å®¹ä»¥ &quot;Chapter&quot; å¼€å¤´çš„ <code>&lt;h2&gt;</code> å…ƒç´ ã€‚</p><ol start="4"><li><code>normalize-space()</code>: ç”¨äºç§»é™¤æ–‡æœ¬ä¸­çš„é¢å¤–ç©ºæ ¼ï¼Œå¹¶å°†å¤šä¸ªè¿ç»­ç©ºæ ¼æ›¿æ¢ä¸ºå•ä¸ªç©ºæ ¼ï¼Œç„¶åè¿”å›ç»“æœã€‚</li></ol><p>ç¤ºä¾‹ï¼šé€‰æ‹©æ–‡æœ¬å†…å®¹å»é™¤é¢å¤–ç©ºæ ¼åä¸º &quot;Hello, world!&quot; çš„å…ƒç´ ã€‚</p><div class="language-Plain line-numbers-mode" data-ext="Plain" data-title="Plain"><pre class="language-Plain"><code>
//p[normalize-space(text())=&#39;Hello, world!&#39;]

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="5"><li><code>translate()</code>: ç”¨äºå°†æ–‡æœ¬ä¸­çš„æŸäº›å­—ç¬¦æ›¿æ¢ä¸ºå…¶ä»–å­—ç¬¦ã€‚å®ƒæ¥å—ä¸‰ä¸ªå‚æ•°ï¼šåŸå§‹å­—ç¬¦ä¸²ã€è¦æ›¿æ¢çš„å­—ç¬¦é›†å’Œæ›¿æ¢å­—ç¬¦é›†ã€‚</li></ol><p>ç¤ºä¾‹ï¼šé€‰æ‹©æ–‡æœ¬å†…å®¹ä¸­å°†æ‰€æœ‰å°å†™å­—æ¯æ›¿æ¢ä¸ºå¤§å†™å­—æ¯çš„å…ƒç´ ã€‚</p><div class="language-Plain line-numbers-mode" data-ext="Plain" data-title="Plain"><pre class="language-Plain"><code>
//p[translate(text(), &#39;abcdefghijklmnopqrstuvwxyz&#39;, &#39;ABCDEFGHIJKLMNOPQRSTUVWXYZ&#39;)]

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="6"><li><code>substring()</code>: ç”¨äºæå–æ–‡æœ¬çš„å­å­—ç¬¦ä¸²ã€‚å®ƒæ¥å—ä¸¤ä¸ªå‚æ•°ï¼šåŸå§‹å­—ç¬¦ä¸²å’Œè¦æå–çš„å­å­—ç¬¦ä¸²çš„èµ·å§‹ä½ç½®ã€‚</li></ol><p>ç¤ºä¾‹ï¼šé€‰æ‹©æ–‡æœ¬å†…å®¹ä»¥ &quot;Hello&quot; å¼€å¤´çš„å…ƒç´ ã€‚</p><div class="language-Plain line-numbers-mode" data-ext="Plain" data-title="Plain"><pre class="language-Plain"><code>
//p[starts-with(substring(text(), 1, 5), &#39;Hello&#39;)]

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="ä¸€ä¸ªæµ‹è¯•çš„ä¾‹å­" tabindex="-1"><a class="header-anchor" href="#ä¸€ä¸ªæµ‹è¯•çš„ä¾‹å­"><span>ä¸€ä¸ªæµ‹è¯•çš„ä¾‹å­</span></a></h3><p>ä¸‹é¢çš„ä»£ç ä¸­å®Œæˆäº†ä¸¤ä¸ªæµ‹è¯•ï¼š</p><ol><li><p>éªŒè¯pythonçš„ä¸»é¡µé¡µé¢æ ‡é¢˜ä¸­æœ‰â€œPythonâ€å•è¯</p></li><li><p>æœç´¢æ¡†ä¸­è¾“å…¥pyconåï¼ŒéªŒè¯æœç´¢ç»“æœé¡µä¸­ç¡®å®æ˜¾ç¤ºäº†æœç´¢ç»“æœã€‚</p></li></ol><div class="language-python line-numbers-mode" data-ext="py" data-title="py"><pre class="language-python"><code>
<span class="token comment"># import all required frameworks</span>

<span class="token keyword">import</span> unittest

<span class="token keyword">from</span> selenium <span class="token keyword">import</span> webdriver

<span class="token keyword">from</span> selenium<span class="token punctuation">.</span>webdriver<span class="token punctuation">.</span>common<span class="token punctuation">.</span>by <span class="token keyword">import</span> By

<span class="token keyword">from</span> selenium<span class="token punctuation">.</span>webdriver<span class="token punctuation">.</span>common<span class="token punctuation">.</span>keys <span class="token keyword">import</span> Keys

<span class="token comment"># inherit TestCase Class and create a new test class</span>

<span class="token keyword">class</span> <span class="token class-name">PythonOrgSearch</span><span class="token punctuation">(</span>unittest<span class="token punctuation">.</span>TestCase<span class="token punctuation">)</span><span class="token punctuation">:</span>

    <span class="token comment"># initialization of webdriver</span>

    <span class="token keyword">def</span> <span class="token function">setUp</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>

        self<span class="token punctuation">.</span>driver <span class="token operator">=</span> webdriver<span class="token punctuation">.</span>Firefox<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token comment"># Test case method. It should always start with test_</span>

    <span class="token keyword">def</span> <span class="token function">test_search_in_python_org</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>

        <span class="token comment"># get driver</span>

        driver <span class="token operator">=</span> self<span class="token punctuation">.</span>driver

        <span class="token comment"># get python.org using selenium</span>

        driver<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">&quot;http://www.python.org&quot;</span><span class="token punctuation">)</span>

        <span class="token comment"># assertion to confirm if title has python keyword in it</span>

        self<span class="token punctuation">.</span>assertIn<span class="token punctuation">(</span><span class="token string">&quot;Python&quot;</span><span class="token punctuation">,</span> driver<span class="token punctuation">.</span>title<span class="token punctuation">)</span>

        <span class="token comment"># locate element using name</span>

        elem <span class="token operator">=</span> driver<span class="token punctuation">.</span>find_element<span class="token punctuation">(</span>By<span class="token punctuation">.</span>NAME<span class="token punctuation">,</span> <span class="token string">&quot;q&quot;</span><span class="token punctuation">)</span>

        <span class="token comment"># send data</span>

        elem<span class="token punctuation">.</span>send_keys<span class="token punctuation">(</span><span class="token string">&quot;pycon&quot;</span><span class="token punctuation">)</span>

        <span class="token comment"># receive data</span>

        elem<span class="token punctuation">.</span>send_keys<span class="token punctuation">(</span>Keys<span class="token punctuation">.</span>RETURN<span class="token punctuation">)</span>

        <span class="token keyword">assert</span> <span class="token string">&quot;No results found.&quot;</span> <span class="token keyword">not</span> <span class="token keyword">in</span> driver<span class="token punctuation">.</span>page_source

    <span class="token comment"># cleanup method called after every test performed</span>

    <span class="token keyword">def</span> <span class="token function">tearDown</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
    
        self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># execute the script</span>

<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">&quot;__main__&quot;</span><span class="token punctuation">:</span>

    unittest<span class="token punctuation">.</span>main<span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="å››ã€å…ƒç´ çš„å±æ€§å’Œæ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#å››ã€å…ƒç´ çš„å±æ€§å’Œæ–¹æ³•"><span>å››ã€å…ƒç´ çš„å±æ€§å’Œæ–¹æ³•</span></a></h2><h3 id="åŸºæœ¬å±æ€§å’Œæ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#åŸºæœ¬å±æ€§å’Œæ–¹æ³•"><span>åŸºæœ¬å±æ€§å’Œæ–¹æ³•</span></a></h3><p>é€šè¿‡driver.find_elementæ‰¾åˆ°å…ƒç´ ï¼Œå‡½æ•°è¿”å›çš„æ˜¯WebElementå¯¹è±¡ã€‚ç„¶åå°±å¯ä»¥ä¸è¯¥å¯¹è±¡äº¤äº’ã€‚WebElementæ”¯æŒçš„å±æ€§å’Œæ–¹æ³•åˆ—ä¸¾å¦‚ä¸‹ï¼š</p><p>åœ¨è‡ªåŠ¨åŒ–Webæµ‹è¯•ä¸­ï¼Œ<code>WebElement</code>å¯¹è±¡ä»£è¡¨äº†ä¸€ä¸ªDOMå…ƒç´ ã€‚åœ¨Seleniumä¸­ï¼Œ<code>WebElement</code>æ¥å£å®šä¹‰äº†ä¸€ç³»åˆ—çš„æ–¹æ³•å’Œå±æ€§ï¼Œç”¨äºä¸é¡µé¢ä¸Šçš„å…ƒç´ è¿›è¡Œäº¤äº’ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å¸¸è§çš„<code>WebElement</code>å±æ€§å’Œæ–¹æ³•ï¼š</p><h4 id="å±æ€§" tabindex="-1"><a class="header-anchor" href="#å±æ€§"><span>å±æ€§</span></a></h4><ol><li><p><code>tag_name</code> - è·å–å…ƒç´ çš„æ ‡ç­¾åã€‚</p></li><li><p><code>text</code> - è·å–å…ƒç´ çš„æ–‡æœ¬å†…å®¹ã€‚</p></li><li><p><code>size</code> - è·å–å…ƒç´ çš„å°ºå¯¸ï¼ˆå®½åº¦å’Œé«˜åº¦ï¼‰ã€‚</p></li><li><p><code>location</code> - è·å–å…ƒç´ åœ¨é¡µé¢ä¸­çš„ä½ç½®ã€‚</p></li><li><p><code>rect</code> - è·å–å…ƒç´ çš„è¾¹ç•Œï¼ˆä½ç½®å’Œå°ºå¯¸ï¼‰ã€‚</p></li><li><p><code>id</code> - è·å–å…ƒç´ çš„IDã€‚</p></li></ol><h4 id="æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#æ–¹æ³•"><span>æ–¹æ³•</span></a></h4><ol><li><p><code>click()</code> - å•å‡»å…ƒç´ ã€‚</p></li><li><p><code>send_keys(*value)</code> - å‘å…ƒç´ å‘é€é”®å€¼ã€‚</p></li><li><p><code>clear()</code> - æ¸…é™¤å…ƒç´ çš„æ–‡æœ¬å†…å®¹ï¼Œä¸»è¦ç”¨äºæ–‡æœ¬è¾“å…¥æ¡†ã€‚</p></li><li><p><code>submit()</code> - æäº¤è¡¨å•ï¼Œé€šå¸¸ç”¨äº<code>&lt;input type=&quot;submit&quot;&gt;</code>æˆ–<code>&lt;button type=&quot;submit&quot;&gt;</code>å…ƒç´ ã€‚</p></li><li><p><code>is_displayed()</code> - æ£€æŸ¥å…ƒç´ æ˜¯å¦æ˜¾ç¤ºã€‚</p></li><li><p><code>is_enabled()</code> - æ£€æŸ¥å…ƒç´ æ˜¯å¦å¯ç”¨ã€‚</p></li><li><p><code>is_selected()</code> - æ£€æŸ¥å…ƒç´ æ˜¯å¦è¢«é€‰ä¸­ï¼Œä¸»è¦ç”¨äºå¤é€‰æ¡†å’Œå•é€‰æŒ‰é’®ã€‚</p></li><li><p><code>find_element(*locator)</code> - æŸ¥æ‰¾ç¬¬ä¸€ä¸ªä¸æŒ‡å®šlocatoråŒ¹é…çš„å­å…ƒç´ ã€‚</p></li><li><p><code>find_elements(*locator)</code> - æŸ¥æ‰¾æ‰€æœ‰ä¸æŒ‡å®šlocatoråŒ¹é…çš„å­å…ƒç´ ã€‚</p></li><li><p><code>get_attribute(name)</code> - è·å–å…ƒç´ æŒ‡å®šå±æ€§çš„å€¼ã€‚</p></li><li><p><code>css_property(name)</code> - è·å–å…ƒç´ çš„CSSå±æ€§å€¼ã€‚</p></li><li><p><code>value_of_css_property(name)</code> - è·å–å…ƒç´ çš„CSSå±æ€§çš„è®¡ç®—å€¼ã€‚</p></li></ol><h3 id="ä½¿ç”¨ç¤ºä¾‹" tabindex="-1"><a class="header-anchor" href="#ä½¿ç”¨ç¤ºä¾‹"><span>ä½¿ç”¨ç¤ºä¾‹</span></a></h3><div class="language-Plain line-numbers-mode" data-ext="Plain" data-title="Plain"><pre class="language-Plain"><code>
# å‡è®¾å·²ç»æœ‰ä¸€ä¸ªWebElementå¯¹è±¡åä¸ºelement

element.click() # å•å‡»å…ƒç´ 

element.send_keys(&quot;Hello, World!&quot;) # å‘å…ƒç´ å‘é€æ–‡æœ¬

element.clear() # æ¸…é™¤å…ƒç´ çš„æ–‡æœ¬

element.submit() # æäº¤è¡¨å•

element.is_displayed() # æ£€æŸ¥å…ƒç´ æ˜¯å¦æ˜¾ç¤º

element.find_element(By.ID, &quot;child_id&quot;) # æŸ¥æ‰¾å­å…ƒç´ 

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨å®é™…ä½¿ç”¨æ—¶ï¼Œä½ éœ€è¦é¦–å…ˆå®šä½åˆ°é¡µé¢ä¸Šçš„å…ƒç´ ï¼Œç„¶åå†è°ƒç”¨è¿™äº›æ–¹æ³•æˆ–å±æ€§ã€‚ä¾‹å¦‚ï¼Œä½ å¯ä»¥ä½¿ç”¨<code>find_element</code>æˆ–<code>find_elements</code>æ–¹æ³•å®šä½åˆ°å…ƒç´ ï¼Œç„¶åå¯¹è¿”å›çš„<code>WebElement</code>å¯¹è±¡è¿›è¡Œæ“ä½œ</p><h3 id="ä¾‹-è·å¾—æ–‡æœ¬æ¡†çš„å€¼" tabindex="-1"><a class="header-anchor" href="#ä¾‹-è·å¾—æ–‡æœ¬æ¡†çš„å€¼"><span>ä¾‹ï¼šè·å¾—æ–‡æœ¬æ¡†çš„å€¼</span></a></h3><p>elem.get_attribute(&quot;value&quot;) or elem.get_property(&quot;value&quot;)</p><div class="language-python line-numbers-mode" data-ext="py" data-title="py"><pre class="language-python"><code>
driver <span class="token operator">=</span> webdriver<span class="token punctuation">.</span>Firefox<span class="token punctuation">(</span><span class="token punctuation">)</span>

driver<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">&quot;http://www.baidu.com&quot;</span><span class="token punctuation">)</span>

elem <span class="token operator">=</span> driver<span class="token punctuation">.</span>find_element<span class="token punctuation">(</span>By<span class="token punctuation">.</span>ID<span class="token punctuation">,</span> <span class="token string">&quot;kw&quot;</span><span class="token punctuation">)</span>

elem<span class="token punctuation">.</span>send_keys<span class="token punctuation">(</span><span class="token string">&quot;just now&quot;</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>elem<span class="token punctuation">.</span>text<span class="token punctuation">)</span> <span class="token comment">#ç©º</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>elem<span class="token punctuation">.</span>get_attribute<span class="token punctuation">(</span><span class="token string">&quot;value&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">#è¾“å‡ºï¼šjust now</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="ä¾‹-è·å¾—é“¾æ¥" tabindex="-1"><a class="header-anchor" href="#ä¾‹-è·å¾—é“¾æ¥"><span>ä¾‹ï¼šè·å¾—é“¾æ¥</span></a></h3><p>Pythonè„šæœ¬ï¼š</p><div class="language-python line-numbers-mode" data-ext="py" data-title="py"><pre class="language-python"><code>
<span class="token comment"># import webdriver</span>

<span class="token keyword">from</span> selenium <span class="token keyword">import</span> webdriver

<span class="token keyword">from</span> selenium<span class="token punctuation">.</span>webdriver<span class="token punctuation">.</span>common<span class="token punctuation">.</span>by <span class="token keyword">import</span> By

<span class="token comment"># create webdriver object</span>

driver <span class="token operator">=</span> webdriver<span class="token punctuation">.</span>Firefox<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># get geeksforgeeks.org</span>

driver<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">&quot;http://www.baidu.com/&quot;</span><span class="token punctuation">)</span>

<span class="token comment"># get element</span>

element <span class="token operator">=</span> driver<span class="token punctuation">.</span>find_element<span class="token punctuation">(</span>By<span class="token punctuation">.</span>LINK_TEXT<span class="token punctuation">,</span> <span class="token string">&quot;å›¾ç‰‡&quot;</span><span class="token punctuation">)</span>


<span class="token comment"># get text_length property</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>element<span class="token punctuation">.</span>get_property<span class="token punctuation">(</span><span class="token string">&#39;href&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="äº”ã€åŒæ­¥è¯­å¥-éšå¼ç­‰å¾…ã€æ˜¾ç¤ºç­‰å¾…" tabindex="-1"><a class="header-anchor" href="#äº”ã€åŒæ­¥è¯­å¥-éšå¼ç­‰å¾…ã€æ˜¾ç¤ºç­‰å¾…"><span>äº”ã€åŒæ­¥è¯­å¥ï¼ˆéšå¼ç­‰å¾…ã€æ˜¾ç¤ºç­‰å¾…ï¼‰</span></a></h2><p>Selenium Python æ˜¯ç”¨äºæµ‹è¯•è‡ªåŠ¨åŒ–çš„ä¼˜ç§€å·¥å…·ä¹‹ä¸€ã€‚ å¦‚ä»Šï¼Œå¤§å¤šæ•° Web åº”ç”¨ç¨‹åºéƒ½ä½¿ç”¨ AJAX æŠ€æœ¯ã€‚ å½“æµè§ˆå™¨åŠ è½½é¡µé¢æ—¶ï¼Œè¯¥é¡µé¢å†…çš„å…ƒç´ å¯èƒ½ä¼šä»¥ä¸åŒçš„æ—¶é—´é—´éš”åŠ è½½ã€‚ è¿™ä½¿å¾—å®šä½å…ƒç´ å˜å¾—å›°éš¾ï¼šå¦‚æœ DOM ä¸­å°šä¸å­˜åœ¨å…ƒç´ ï¼Œåˆ™å®šä½å‡½æ•°å°†å¼•å‘ ElementNotVisibleException å¼‚å¸¸ã€‚ ä½¿ç”¨ç­‰å¾…ï¼Œæˆ‘ä»¬å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ ç­‰å¾…åœ¨æ‰§è¡Œçš„æ“ä½œä¹‹é—´æä¾›äº†ä¸€äº›é—´éš™â€”â€”ä¸»è¦æ˜¯å®šä½å…ƒç´ æˆ–ä½¿ç”¨è¯¥å…ƒç´ è¿›è¡Œä»»ä½•å…¶ä»–æ“ä½œã€‚ Selenium Webdriver æä¾›ä¸¤ç§ç±»å‹çš„ç­‰å¾… - éšå¼ç­‰å¾…å’Œæ˜¾å¼ç­‰å¾…ã€‚ æœ¬æ–‡å›´ç»• Selenium Python ä¸­çš„éšå¼ç­‰å¾…å±•å¼€ã€‚</p><h4 id="éšå¼ç­‰å¾…" tabindex="-1"><a class="header-anchor" href="#éšå¼ç­‰å¾…"><span>éšå¼ç­‰å¾…</span></a></h4><p>éšå¼ç­‰å¾…å‘Šè¯‰ WebDriver åœ¨å°è¯•æŸ¥æ‰¾ä»»ä½•ä¸ç«‹å³å¯ç”¨çš„å…ƒç´ æ—¶è½®è¯¢ DOM ä¸€æ®µæ—¶é—´ã€‚ é»˜è®¤è®¾ç½®ä¸º 0ã€‚è®¾ç½®åï¼Œå°†åœ¨ WebDriver å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸå†…è®¾ç½®éšå¼ç­‰å¾…ã€‚ è®©æˆ‘ä»¬è€ƒè™‘ä¸€ä¸ªä¾‹å­â€”â€”</p><div class="language-python line-numbers-mode" data-ext="py" data-title="py"><pre class="language-python"><code>
<span class="token comment"># import webdriver  </span>

<span class="token keyword">from</span> selenium <span class="token keyword">import</span> webdriver  

<span class="token keyword">from</span> selenium<span class="token punctuation">.</span>webdriver<span class="token punctuation">.</span>common<span class="token punctuation">.</span>by <span class="token keyword">import</span> By

<span class="token comment"># create webdriver object  </span>

driver <span class="token operator">=</span> webdriver<span class="token punctuation">.</span>Firefox<span class="token punctuation">(</span><span class="token punctuation">)</span>  
    
<span class="token comment"># set implicit wait time </span>

driver<span class="token punctuation">.</span>implicitly_wait<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token comment"># seconds </span>
  
<span class="token comment"># get geeksforgeeks.org  </span>

driver<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">&quot;http://www.baidu.com&quot;</span><span class="token punctuation">)</span>  

<span class="token comment"># get element after 10 seconds </span>

element <span class="token operator">=</span> driver<span class="token punctuation">.</span>find_element<span class="token punctuation">(</span>By<span class="token punctuation">.</span>LINK_TEXT<span class="token punctuation">,</span><span class="token string">&quot;ä¸å­˜åœ¨çš„æ–‡æœ¬&quot;</span><span class="token punctuation">)</span>

<span class="token comment"># click element </span>

element<span class="token punctuation">.</span>click<span class="token punctuation">(</span><span class="token punctuation">)</span> 

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿è¡Œåä¼šå¾—åˆ°ï¼š</p><blockquote><p>selenium.common.exceptions.NoSuchElementException: Message: Unable to locate element: ä¸å­˜åœ¨çš„æ–‡æœ¬; For documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#no-such-element-exception</p></blockquote><h4 id="æ˜¾å¼ç­‰å¾…" tabindex="-1"><a class="header-anchor" href="#æ˜¾å¼ç­‰å¾…"><span>æ˜¾å¼ç­‰å¾…</span></a></h4><p>æ˜¾å¼ç­‰å¾…æ˜¯æ‚¨å®šä¹‰çš„ä»£ç ï¼Œç”¨äºç­‰å¾…ç‰¹å®šæ¡ä»¶å‘ç”Ÿï¼Œç„¶åå†ç»§ç»­æ‰§è¡Œä»£ç ã€‚ è¿™ç§æƒ…å†µçš„æç«¯æƒ…å†µæ˜¯ time.sleep()ï¼Œå®ƒå°†æ¡ä»¶è®¾ç½®ä¸ºè¦ç­‰å¾…çš„ç¡®åˆ‡æ—¶é—´æ®µã€‚ æ˜¾å¼ç­‰å¾…æä¾›äº†ä¸€äº›æ–¹ä¾¿çš„æ–¹æ³•ï¼Œå¯ä»¥å¸®åŠ©æ‚¨ç¼–å†™åªç­‰å¾…æ‰€éœ€æ—¶é—´çš„ä»£ç ã€‚ æ˜¾å¼ç­‰å¾…æ˜¯é€šè¿‡ç»“åˆä½¿ç”¨ webdriverWait ç±»å’Œé¢„æœŸæ¡ä»¶æ¥å®ç°çš„ã€‚ è®©æˆ‘ä»¬è€ƒè™‘ä¸€ä¸ªä¾‹å­â€”â€”</p><div class="language-python line-numbers-mode" data-ext="py" data-title="py"><pre class="language-python"><code>
<span class="token comment"># import necessary classes</span>

<span class="token keyword">from</span> selenium <span class="token keyword">import</span> webdriver

<span class="token keyword">from</span> selenium<span class="token punctuation">.</span>webdriver<span class="token punctuation">.</span>common<span class="token punctuation">.</span>by <span class="token keyword">import</span> By

<span class="token keyword">from</span> selenium<span class="token punctuation">.</span>webdriver<span class="token punctuation">.</span>support<span class="token punctuation">.</span>ui <span class="token keyword">import</span> WebDriverWait

<span class="token keyword">from</span> selenium<span class="token punctuation">.</span>webdriver<span class="token punctuation">.</span>support <span class="token keyword">import</span> expected_conditions <span class="token keyword">as</span> EC

<span class="token comment"># create driver object</span>

driver <span class="token operator">=</span> webdriver<span class="token punctuation">.</span>Firefox<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># A URL that delays loading</span>

driver<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">&quot;http://www.baidu.com&quot;</span><span class="token punctuation">)</span>

<span class="token keyword">try</span><span class="token punctuation">:</span>

    <span class="token comment"># wait 10 seconds before looking for element</span>

    element <span class="token operator">=</span> WebDriverWait<span class="token punctuation">(</span>driver<span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">.</span>until<span class="token punctuation">(</span>

        EC<span class="token punctuation">.</span>presence_of_element_located<span class="token punctuation">(</span><span class="token punctuation">(</span>By<span class="token punctuation">.</span>LINK_TEXT<span class="token punctuation">,</span> <span class="token string">&quot;ä¸å­˜åœ¨çš„å…ƒç´ &quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

    <span class="token punctuation">)</span>

    element<span class="token punctuation">.</span>click<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">except</span><span class="token punctuation">:</span>

    <span class="token comment"># else quit</span>

    driver<span class="token punctuation">.</span>execute_script<span class="token punctuation">(</span><span class="token string">&quot;alert(&#39;æ²¡æœ‰æ‰¾åˆ°è¯¥å…ƒç´ &#39;);&quot;</span><span class="token punctuation">)</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é™¤äº†presence_of_element_locatedï¼Œå…¶ä»–å¸¸ç”¨çš„å‡½æ•°è¿˜æœ‰ï¼š</p><ul><li><p>title_is</p></li><li><p>title_contains</p></li><li><p>presence_of_element_located</p></li><li><p>visibility_of_element_located</p></li><li><p>visibility_of</p></li><li><p>presence_of_all_elements_located</p></li><li><p>element_located_to_be_selected</p></li><li><p>element_selection_state_to_be</p></li><li><p>element_located_selection_state_to_be</p></li><li><p>alert_is_present</p></li></ul><p>æ›´å¤šå‡½æ•°åŠå…¶è¯´æ˜è¯·å‚è€ƒé“¾æ¥ï¼š<a href="https://selenium-python.readthedocs.io/api.html#module-selenium.webdriver.support.expected_conditions" target="_blank" rel="noopener noreferrer">https://selenium-python.readthedocs.io/api.html#module-selenium.webdriver.support.expected_conditions<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><h2 id="å…­ã€pom-page-object-model" tabindex="-1"><a class="header-anchor" href="#å…­ã€pom-page-object-model"><span>å…­ã€POM(Page Object Model)</span></a></h2><h3 id="pomä»‹ç»" tabindex="-1"><a class="header-anchor" href="#pomä»‹ç»"><span>POMä»‹ç»</span></a></h3><p>POMæ˜¯é¡µé¢å¯¹è±¡æ¨¡å‹(Page Object Model)çš„ç¼©å†™,æ˜¯ä¸€ç§åŸºäºå¯¹è±¡æ€æƒ³çš„è®¾è®¡æ¨¡å¼,ç”¨äºå®ç°UIè‡ªåŠ¨åŒ–æµ‹è¯•ã€‚</p><p>POMçš„ä¸»è¦æ€æƒ³æ˜¯å°†Webé¡µé¢çš„å…ƒç´ å’Œæ“ä½œå°è£…æˆå¯¹è±¡å’Œæ–¹æ³•,ä»è€Œå®ç°é¡µé¢å¯¹è±¡å’ŒåŠŸèƒ½æµ‹è¯•è„šæœ¬çš„åˆ†ç¦»,æé«˜æµ‹è¯•ä»£ç çš„å¯é‡ç”¨æ€§å’Œç»´æŠ¤æ€§ã€‚</p><p>å®ç°POMä¸€èˆ¬åŒ…æ‹¬ä»¥ä¸‹æ­¥éª¤:</p><ol><li><p>å°†Webé¡µé¢åˆ’åˆ†ä¸ºå¤šä¸ªé€»è¾‘åŒºåŸŸ</p></li><li><p>å¯¹æ¯ä¸ªåŒºåŸŸåˆ›å»ºä¸€ä¸ªPageå¯¹è±¡ç±»</p></li><li><p>Pageå¯¹è±¡ç±»ä¸­åŒ…å«é¡µé¢å…ƒç´ å®šä½å™¨å’Œé¡µé¢æ“ä½œæ–¹æ³•</p></li><li><p>æµ‹è¯•è„šæœ¬é€šè¿‡å®ä¾‹åŒ–Pageå¯¹è±¡ç±»å¹¶è°ƒç”¨ç›¸åº”çš„æ–¹æ³•æ¥æ‰§è¡Œæµ‹è¯•</p></li></ol><p>ä¾‹å¦‚,å¯¹ç™»å½•é¡µé¢å®ç°POM:</p><div class="language-python line-numbers-mode" data-ext="py" data-title="py"><pre class="language-python"><code>
<span class="token comment"># login_page.py</span>

<span class="token keyword">from</span> selenium<span class="token punctuation">.</span>webdriver<span class="token punctuation">.</span>common<span class="token punctuation">.</span>by <span class="token keyword">import</span> By

<span class="token keyword">class</span> <span class="token class-name">LoginPage</span><span class="token punctuation">:</span>

    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> driver<span class="token punctuation">)</span><span class="token punctuation">:</span>

        self<span class="token punctuation">.</span>driver <span class="token operator">=</span> driver

        self<span class="token punctuation">.</span>username_input <span class="token operator">=</span> driver<span class="token punctuation">.</span>find_element<span class="token punctuation">(</span>By<span class="token punctuation">.</span>ID<span class="token punctuation">,</span> <span class="token string">&quot;username&quot;</span><span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>password_input <span class="token operator">=</span> driver<span class="token punctuation">.</span>find_element<span class="token punctuation">(</span>By<span class="token punctuation">.</span>ID<span class="token punctuation">,</span> <span class="token string">&quot;password&quot;</span><span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>login_button <span class="token operator">=</span> driver<span class="token punctuation">.</span>find_element<span class="token punctuation">(</span>By<span class="token punctuation">.</span>ID<span class="token punctuation">,</span> <span class="token string">&quot;login&quot;</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">login</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> username<span class="token punctuation">,</span> password<span class="token punctuation">)</span><span class="token punctuation">:</span>

        self<span class="token punctuation">.</span>username_input<span class="token punctuation">.</span>send_keys<span class="token punctuation">(</span>username<span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>password_input<span class="token punctuation">.</span>send_keys<span class="token punctuation">(</span>password<span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>login_button<span class="token punctuation">.</span>click<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># test_login.py</span>

<span class="token keyword">from</span> selenium <span class="token keyword">import</span> webdriver

<span class="token keyword">from</span> login_page <span class="token keyword">import</span> LoginPage

<span class="token keyword">def</span> <span class="token function">test_login</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>

    driver <span class="token operator">=</span> webdriver<span class="token punctuation">.</span>Chrome<span class="token punctuation">(</span><span class="token punctuation">)</span>

    login_page <span class="token operator">=</span> LoginPage<span class="token punctuation">(</span>driver<span class="token punctuation">)</span>

    login_page<span class="token punctuation">.</span>login<span class="token punctuation">(</span><span class="token string">&quot;myname&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;mypassword&quot;</span><span class="token punctuation">)</span>

    <span class="token comment"># å…¶ä»–éªŒè¯æ­¥éª¤</span>

    driver<span class="token punctuation">.</span>quit<span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="ä¾‹-é‡‡ç”¨é¡µé¢å¯¹è±¡é‡æ–°ç»„ç»‡å‰é¢çš„ä¾‹å­" tabindex="-1"><a class="header-anchor" href="#ä¾‹-é‡‡ç”¨é¡µé¢å¯¹è±¡é‡æ–°ç»„ç»‡å‰é¢çš„ä¾‹å­"><span>ä¾‹ï¼šé‡‡ç”¨é¡µé¢å¯¹è±¡é‡æ–°ç»„ç»‡å‰é¢çš„ä¾‹å­</span></a></h3><h4 id="å®Œæ•´ä»£ç " tabindex="-1"><a class="header-anchor" href="#å®Œæ•´ä»£ç "><span>å®Œæ•´ä»£ç </span></a></h4><p>å®Œæ•´çš„ä»£ç æœ‰ç‚¹é•¿ï¼Œå»ºè®®å…ˆä¸é˜…è¯»ï¼Œç­‰é˜…è¯»å®Œåé¢çš„è¦ç‚¹è§£é‡Šåå†é‡æ–°é˜…è¯»å®Œæ•´ä»£ç ã€‚</p><div class="language-python line-numbers-mode" data-ext="py" data-title="py"><pre class="language-python"><code>
<span class="token comment">####################</span>

<span class="token comment"># PythonOrgSearch.py</span>

<span class="token comment">####################</span>

<span class="token keyword">import</span> unittest

<span class="token keyword">from</span> selenium <span class="token keyword">import</span> webdriver

<span class="token keyword">import</span> page

<span class="token keyword">class</span> <span class="token class-name">PythonOrgSearch</span><span class="token punctuation">(</span>unittest<span class="token punctuation">.</span>TestCase<span class="token punctuation">)</span><span class="token punctuation">:</span>

    <span class="token triple-quoted-string string">&quot;&quot;&quot;A sample test class to show how page object works&quot;&quot;&quot;</span>

    <span class="token keyword">def</span> <span class="token function">setUp</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>

        self<span class="token punctuation">.</span>driver <span class="token operator">=</span> webdriver<span class="token punctuation">.</span>Firefox<span class="token punctuation">(</span><span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">&quot;http://www.python.org&quot;</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">test_search_in_python_org</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>

        <span class="token triple-quoted-string string">&quot;&quot;&quot;

        Tests python.org search feature. Searches for the word &quot;pycon&quot; then verified that some results show up.

        Note that it does not look for any particular text in search results page. This test verifies that

        the results were not empty.

        &quot;&quot;&quot;</span>

        <span class="token comment">#Load the main page. In this case the home page of Python.org.</span>

        main_page <span class="token operator">=</span> page<span class="token punctuation">.</span>MainPage<span class="token punctuation">(</span>self<span class="token punctuation">.</span>driver<span class="token punctuation">)</span>

        <span class="token comment">#Checks if the word &quot;Python&quot; is in title</span>

        <span class="token comment"># è¿™æ˜¯ç¬¬ä¸€æ¬¡æµ‹è¯•ï¼Œæ£€æŸ¥ä¸»é¡µä¸­çš„titleä¸­æ˜¯å¦å­˜åœ¨Pythonå•è¯</span>

        <span class="token keyword">assert</span> main_page<span class="token punctuation">.</span>is_title_matches<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;python.org title doesn&#39;t match.&quot;</span>

        <span class="token comment">#Sets the text of search textbox to &quot;pycon&quot;</span>

        main_page<span class="token punctuation">.</span>search_text_element <span class="token operator">=</span> <span class="token string">&quot;pycon&quot;</span>

        main_page<span class="token punctuation">.</span>click_go_button<span class="token punctuation">(</span><span class="token punctuation">)</span>

        search_results_page <span class="token operator">=</span> page<span class="token punctuation">.</span>SearchResultsPage<span class="token punctuation">(</span>self<span class="token punctuation">.</span>driver<span class="token punctuation">)</span>

        <span class="token comment">#Verifies that the results page is not empty</span>
        
        <span class="token comment"># è¿™æ˜¯ç¬¬äºŒæ¬¡æµ‹è¯•ï¼Œæœç´¢ç»“æœé¡µä¸­æ˜¯å¦æœ‰å†…å®¹è€Œä¸æ˜¯&quot;No results found.&quot;</span>
        
        <span class="token keyword">assert</span> search_results_page<span class="token punctuation">.</span>is_results_found<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;No results found.&quot;</span>
        
    <span class="token keyword">def</span> <span class="token function">tearDown</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>

        self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">&quot;__main__&quot;</span><span class="token punctuation">:</span>

    unittest<span class="token punctuation">.</span>main<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">#########</span>

<span class="token comment"># page.py</span>

<span class="token comment">#########</span>

<span class="token keyword">from</span> element <span class="token keyword">import</span> BasePageElement

<span class="token keyword">from</span> locators <span class="token keyword">import</span> MainPageLocators

<span class="token keyword">class</span> <span class="token class-name">SearchTextElement</span><span class="token punctuation">(</span>BasePageElement<span class="token punctuation">)</span><span class="token punctuation">:</span>

    <span class="token triple-quoted-string string">&quot;&quot;&quot;This class gets the search text from the specified locator&quot;&quot;&quot;</span>

    <span class="token comment">#The locator for search box where search string is entered</span>

    <span class="token comment"># æœç´¢æ¡†çš„nameæ˜¯q</span>

    <span class="token comment"># &lt; input</span>

    <span class="token comment"># id = &quot;id-search-field&quot;</span>

    <span class="token comment"># name = &quot;q&quot;</span>

    <span class="token comment"># type = &quot;search&quot;</span>

    <span class="token comment"># role = &quot;textbox&quot;    #</span>

    <span class="token comment"># class =&quot;search-field&quot; placeholder=&quot;Search&quot; value=&quot;&quot; tabindex=&quot;1&quot; &gt;</span>

    locator <span class="token operator">=</span> <span class="token string">&#39;q&#39;</span>

<span class="token keyword">class</span> <span class="token class-name">BasePage</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>

    <span class="token triple-quoted-string string">&quot;&quot;&quot;Base class to initialize the base page that will be called from all pages&quot;&quot;&quot;</span>

    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> driver<span class="token punctuation">)</span><span class="token punctuation">:</span>

        self<span class="token punctuation">.</span>driver <span class="token operator">=</span> driver

<span class="token keyword">class</span> <span class="token class-name">MainPage</span><span class="token punctuation">(</span>BasePage<span class="token punctuation">)</span><span class="token punctuation">:</span>

    <span class="token triple-quoted-string string">&quot;&quot;&quot;Home page action methods come here. I.e. Python.org&quot;&quot;&quot;</span>

    <span class="token comment">#Declares a variable that will contain the retrieved text</span>

    search_text_element <span class="token operator">=</span> SearchTextElement<span class="token punctuation">(</span><span class="token punctuation">)</span>
    
    <span class="token keyword">def</span> <span class="token function">is_title_matches</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>

        <span class="token triple-quoted-string string">&quot;&quot;&quot;Verifies that the hardcoded text &quot;Python&quot; appears in page title&quot;&quot;&quot;</span>

        <span class="token keyword">return</span> <span class="token string">&quot;Python&quot;</span> <span class="token keyword">in</span> self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>title

    <span class="token keyword">def</span> <span class="token function">click_go_button</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>

        <span class="token triple-quoted-string string">&quot;&quot;&quot;Triggers the search&quot;&quot;&quot;</span>
        
        element <span class="token operator">=</span> self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>find_element<span class="token punctuation">(</span><span class="token operator">*</span>MainPageLocators<span class="token punctuation">.</span>GO_BUTTON<span class="token punctuation">)</span>

        element<span class="token punctuation">.</span>click<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">class</span> <span class="token class-name">SearchResultsPage</span><span class="token punctuation">(</span>BasePage<span class="token punctuation">)</span><span class="token punctuation">:</span>

    <span class="token triple-quoted-string string">&quot;&quot;&quot;Search results page action methods come here&quot;&quot;&quot;</span>

    <span class="token keyword">def</span> <span class="token function">is_results_found</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>

        <span class="token comment"># Probably should search for this text in the specific page</span>

        <span class="token comment"># element, but as for now it works fine</span>

        <span class="token keyword">return</span> <span class="token string">&quot;No results found.&quot;</span> <span class="token keyword">not</span> <span class="token keyword">in</span> self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>page_source

<span class="token comment">############</span>

<span class="token comment"># locator.py</span>

<span class="token comment">############</span>

<span class="token keyword">from</span> selenium<span class="token punctuation">.</span>webdriver<span class="token punctuation">.</span>common<span class="token punctuation">.</span>by <span class="token keyword">import</span> By

<span class="token keyword">class</span> <span class="token class-name">MainPageLocators</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>

    <span class="token triple-quoted-string string">&quot;&quot;&quot;A class for main page locators. All main page locators should come here&quot;&quot;&quot;</span>

    GO_BUTTON <span class="token operator">=</span> <span class="token punctuation">(</span>By<span class="token punctuation">.</span>ID<span class="token punctuation">,</span> <span class="token string">&#39;submit&#39;</span><span class="token punctuation">)</span>

<span class="token keyword">class</span> <span class="token class-name">SearchResultsPageLocators</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>

    <span class="token triple-quoted-string string">&quot;&quot;&quot;A class for search results locators. All search results locators should come here&quot;&quot;&quot;</span>

    <span class="token keyword">pass</span>

<span class="token comment">############</span>

<span class="token comment"># element.py</span>

<span class="token comment">############</span>

<span class="token keyword">from</span> selenium<span class="token punctuation">.</span>webdriver<span class="token punctuation">.</span>common<span class="token punctuation">.</span>by <span class="token keyword">import</span> By

<span class="token keyword">from</span> selenium<span class="token punctuation">.</span>webdriver<span class="token punctuation">.</span>support<span class="token punctuation">.</span>ui <span class="token keyword">import</span> WebDriverWait

<span class="token keyword">class</span> <span class="token class-name">BasePageElement</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>

    <span class="token triple-quoted-string string">&quot;&quot;&quot;Base page class that is initialized on every page object class.&quot;&quot;&quot;</span>

    <span class="token keyword">def</span> <span class="token function">__set__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> obj<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">:</span>

        <span class="token triple-quoted-string string">&quot;&quot;&quot;Sets the text to the value supplied&quot;&quot;&quot;</span>

        driver <span class="token operator">=</span> obj<span class="token punctuation">.</span>driver

        WebDriverWait<span class="token punctuation">(</span>driver<span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">.</span>until<span class="token punctuation">(</span>

            <span class="token keyword">lambda</span> driver<span class="token punctuation">:</span> driver<span class="token punctuation">.</span>find_element<span class="token punctuation">(</span>By<span class="token punctuation">.</span>NAME<span class="token punctuation">,</span> self<span class="token punctuation">.</span>locator<span class="token punctuation">)</span><span class="token punctuation">)</span>

        driver<span class="token punctuation">.</span>find_element<span class="token punctuation">(</span>By<span class="token punctuation">.</span>NAME<span class="token punctuation">,</span> self<span class="token punctuation">.</span>locator<span class="token punctuation">)</span><span class="token punctuation">.</span>send_keys<span class="token punctuation">(</span>value<span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">__get__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> obj<span class="token punctuation">,</span> owner<span class="token punctuation">)</span><span class="token punctuation">:</span>

        <span class="token triple-quoted-string string">&quot;&quot;&quot;Gets the text of the specified object&quot;&quot;&quot;</span>

        driver <span class="token operator">=</span> obj<span class="token punctuation">.</span>driver

        WebDriverWait<span class="token punctuation">(</span>driver<span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">.</span>until<span class="token punctuation">(</span>

            <span class="token keyword">lambda</span> driver<span class="token punctuation">:</span> driver<span class="token punctuation">.</span>find_element<span class="token punctuation">(</span>By<span class="token punctuation">.</span>NAME<span class="token punctuation">,</span> self<span class="token punctuation">.</span>locator<span class="token punctuation">)</span><span class="token punctuation">)</span>

        element <span class="token operator">=</span> driver<span class="token punctuation">.</span>find_element<span class="token punctuation">(</span>By<span class="token punctuation">.</span>NAME<span class="token punctuation">,</span> self<span class="token punctuation">.</span>locator<span class="token punctuation">)</span>

        <span class="token keyword">return</span> element<span class="token punctuation">.</span>get_attribute<span class="token punctuation">(</span><span class="token string">&quot;value&quot;</span><span class="token punctuation">)</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="ä»£ç è§£è¯»" tabindex="-1"><a class="header-anchor" href="#ä»£ç è§£è¯»"><span>ä»£ç è§£è¯»</span></a></h4><ol><li>åœ¨<code>setUp</code>æ–¹æ³•ä¸­ï¼Œç¼–å†™çš„ä»£ç å°†å¯åŠ¨Firefoxæµè§ˆå™¨å¹¶å¯¼èˆªè‡³python.orgç½‘ç«™ã€‚</li></ol><div class="language-python line-numbers-mode" data-ext="py" data-title="py"><pre class="language-python"><code>
    <span class="token keyword">def</span> <span class="token function">setUp</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>

        self<span class="token punctuation">.</span>driver <span class="token operator">=</span> webdriver<span class="token punctuation">.</span>Firefox<span class="token punctuation">(</span><span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">&quot;http://www.python.org&quot;</span><span class="token punctuation">)</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨è¿™æ®µä»£ç ä¸­ï¼Œ<code>setUp</code>æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„æµ‹è¯•æ–¹æ³•ï¼Œå®ƒåœ¨æ¯ä¸ªæµ‹è¯•ä¹‹å‰æ‰§è¡Œï¼Œç”¨äºè®¾ç½®æµ‹è¯•ç¯å¢ƒã€‚è¿™é‡Œï¼Œä½¿ç”¨<code>webdriver.Firefox()</code>åˆ›å»ºäº†ä¸€ä¸ªFirefoxæµè§ˆå™¨å®ä¾‹ï¼Œå¹¶ä½¿ç”¨<code>get</code>æ–¹æ³•æ‰“å¼€äº†python.orgç½‘ç«™ã€‚</p><ol start="2"><li>æ¥ä¸‹æ¥çš„ç¬¬ä¸€ä¸ªæµ‹è¯•æ¡ˆä¾‹æ—¨åœ¨éªŒè¯python.orgä¸»é¡µçš„æ ‡é¢˜ä¸­åŒ…å«å•è¯&quot;Python&quot;ã€‚åœ¨è¿™ä¸ªæµ‹è¯•ç”¨ä¾‹ä¸­ï¼Œæˆ‘ä»¬é¦–å…ˆåˆ›å»ºäº†ä¸€ä¸ª<code>MainPage</code>ç±»çš„å®ä¾‹ï¼Œç„¶åä½¿ç”¨<code>assert</code>è¯­å¥æ¥æ£€æŸ¥å½“å‰é¡µé¢æ ‡é¢˜ä¸­æ˜¯å¦åŒ…å«å•è¯&quot;Python&quot;ã€‚å¦‚æœä¸åŒ…å«ï¼Œåˆ™æµ‹è¯•å°†å¤±è´¥ï¼Œå¹¶æ˜¾ç¤ºæä¾›çš„é”™è¯¯æ¶ˆæ¯ã€‚</li></ol><div class="language-python line-numbers-mode" data-ext="py" data-title="py"><pre class="language-python"><code>
    <span class="token keyword">def</span> <span class="token function">test_search_in_python_org</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>

        main_page <span class="token operator">=</span> page<span class="token punctuation">.</span>MainPage<span class="token punctuation">(</span>self<span class="token punctuation">.</span>driver<span class="token punctuation">)</span>

        <span class="token keyword">assert</span> main_page<span class="token punctuation">.</span>is_title_matches<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;python.org title doesn&#39;t match.&quot;</span>
        
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>MainPageå°è£…äº†ä¸»é¡µä¸­çš„å’Œæµ‹è¯•æœ‰å…³çš„å¯¹è±¡å’Œæ–¹æ³•ã€‚</p><p>â‘´ search_text_elementï¼šä»£è¡¨æœç´¢æ¡†ï¼›</p><p>â‘µ is_title_matchesï¼šç”¨æ¥åˆ¤æ–­å½“å‰æ‰“å¼€ç½‘é¡µçš„æ ‡é¢˜ä¸­æ˜¯å¦å«æœ‰pythonå•è¯ï¼›</p><p>â‘¶click_go_buttonï¼šç”¨æ¥ç‚¹å‡»æœç´¢æŒ‰é’®ã€‚</p><div class="language-python line-numbers-mode" data-ext="py" data-title="py"><pre class="language-python"><code>
<span class="token keyword">class</span> <span class="token class-name">MainPage</span><span class="token punctuation">(</span>BasePage<span class="token punctuation">)</span><span class="token punctuation">:</span>

    search_text_element <span class="token operator">=</span> SearchTextElement<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">is_title_matches</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>

        <span class="token triple-quoted-string string">&quot;&quot;&quot;Verifies that the hardcoded text &quot;Python&quot; appears in page title&quot;&quot;&quot;</span>

        <span class="token keyword">return</span> <span class="token string">&quot;Python&quot;</span> <span class="token keyword">in</span> self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>title

    <span class="token keyword">def</span> <span class="token function">click_go_button</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>

        <span class="token triple-quoted-string string">&quot;&quot;&quot;Triggers the search&quot;&quot;&quot;</span>

        element <span class="token operator">=</span> self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>find_element<span class="token punctuation">(</span>By<span class="token punctuation">.</span>ID<span class="token punctuation">,</span> <span class="token string">&#39;submit&#39;</span><span class="token punctuation">)</span>

        element<span class="token punctuation">.</span>click<span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li>ç¬¬äºŒä¸ªæµ‹è¯•æ¡ˆä¾‹æ˜¯åœ¨æœç´¢æ¡†ä¸­è¾“å…¥&quot;pycon&quot;ï¼Œç‚¹å‡»æœç´¢æŒ‰é’®ï¼Œå¹¶éªŒè¯æœç´¢ç»“æœé¡µé¢ç¡®å®æ˜¾ç¤ºäº†æœç´¢ç»“æœï¼ˆä¸æ˜¯&quot;No results found.&quot;ï¼‰ã€‚</li></ol><div class="language-python line-numbers-mode" data-ext="py" data-title="py"><pre class="language-python"><code>
    <span class="token keyword">def</span> <span class="token function">test_search_in_python_org</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>

        <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>

        main_page<span class="token punctuation">.</span>search_text_element <span class="token operator">=</span> <span class="token string">&quot;pycon&quot;</span>

        main_page<span class="token punctuation">.</span>click_go_button<span class="token punctuation">(</span><span class="token punctuation">)</span>

        search_results_page <span class="token operator">=</span> page<span class="token punctuation">.</span>SearchResultsPage<span class="token punctuation">(</span>self<span class="token punctuation">.</span>driver<span class="token punctuation">)</span>

        <span class="token keyword">assert</span> search_results_page<span class="token punctuation">.</span>is_results_found<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;No results found.&quot;</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æœç´¢ç»“æœé¡µä¹Ÿå°è£…äº†å’Œæµ‹è¯•æœ‰å…³çš„æ–¹æ³•is_result_foundã€‚</p><div class="language-python line-numbers-mode" data-ext="py" data-title="py"><pre class="language-python"><code>
<span class="token keyword">class</span> <span class="token class-name">SearchResultsPage</span><span class="token punctuation">(</span>BasePage<span class="token punctuation">)</span><span class="token punctuation">:</span>

    <span class="token keyword">def</span> <span class="token function">is_results_found</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>

        <span class="token keyword">return</span> <span class="token string">&quot;No results found.&quot;</span> <span class="token keyword">not</span> <span class="token keyword">in</span> self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>page_source

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="4"><li>ä¸ºäº†èƒ½ç›´æ¥å¯¹æœç´¢æ¡†èµ‹å€¼ï¼Œé‡‡ç”¨äº†å¦‚ä¸‹ä»£ç ï¼š</li></ol><div class="language-python line-numbers-mode" data-ext="py" data-title="py"><pre class="language-python"><code>
main_page<span class="token punctuation">.</span>search_text_element <span class="token operator">=</span> <span class="token string">&quot;pycon&quot;</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨POMä¸­ï¼Œé¡µé¢å’Œé¡µé¢å…ƒç´ éƒ½é‡‡ç”¨å¯¹è±¡è¿›è¡Œå°è£…ã€‚search_text_elementæ˜¯SearchTextElementç±»çš„ä¸€ä¸ªå®ä¾‹ã€‚</p><p>æ²¡æœ‰å°è£…å‰ï¼Œæ­£å¸¸çš„åšæ³•æ˜¯ï¼š</p><div class="language-python line-numbers-mode" data-ext="py" data-title="py"><pre class="language-python"><code>
driver<span class="token punctuation">.</span>find_element<span class="token punctuation">(</span>By<span class="token punctuation">.</span>NAME<span class="token punctuation">,</span> <span class="token string">&#39;q&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>send_keys<span class="token punctuation">(</span><span class="token string">&quot;pycon&quot;</span><span class="token punctuation">)</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™æ®µä»£ç ä¸­æœ‰ä¸¤ä¸ªå‚æ•°ï¼Œä¸€ä¸ªæ˜¯æœç´¢æ¡†çš„NAMEå±æ€§ï¼ˆ&lt;input name=&#39;q&#39; ... &gt;ï¼‰ï¼Œä¸€ä¸ªæ˜¯æœç´¢æ¡†ä¸­è¾“å…¥çš„å€¼ã€‚æ‰€ä»¥ï¼Œä¸ºäº†å°è£…<code>driver.find_element(By.NAME, &#39;q&#39;).send_keys(&quot;pycon&quot;)</code> æ“ä½œï¼Œå°±éœ€è¦å°è£…è¿™ä¸¤ä¸ªå‚æ•°ã€‚</p><p>â‘´ NAMEå±æ€§å°è£…åœ¨search_text_elementå¯¹è±¡ï¼ˆè¯¥å¯¹è±¡æ˜¯SearchTextElementç±»ï¼‰çš„locatorå±æ€§ä¸­ï¼š</p><div class="language-python line-numbers-mode" data-ext="py" data-title="py"><pre class="language-python"><code>
<span class="token keyword">class</span> <span class="token class-name">SearchTextElement</span><span class="token punctuation">(</span>BasePageElement<span class="token punctuation">)</span><span class="token punctuation">:</span>

    locator <span class="token operator">=</span> <span class="token string">&#39;q&#39;</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>â‘µ æ–‡æœ¬æ¡†ä¸­é”®å…¥çš„å€¼&quot;pycon&quot;å‡ºç°åœ¨main_page.search_text_element = &quot;pycon&quot;èµ‹å€¼è¯­å¥çš„å³ä¾§ï¼Œè¡¨æ˜search_text_elementæ˜¯ä¸€ä¸ªæè¿°ç¬¦ç±»ã€‚æè¿°ç¬¦æ˜¯Pythonä¸­çš„ä¸€ä¸ªæ¦‚å¿µï¼Œå®ƒæ˜¯ä¸€ç§ç‰¹æ®Šçš„ç±»ï¼Œé€šè¿‡å®ç°<code>__set__</code>å’Œ<code>__get__</code>æ–¹æ³•ï¼Œå¯ä»¥æ§åˆ¶å¯¹å±æ€§çš„è®¾ç½®å’Œè·å–æ“ä½œã€‚æè¿°ç¬¦å¯ä»¥ç”¨ä½œç±»çš„å±æ€§ï¼Œä»¥æä¾›è‡ªå®šä¹‰çš„å±æ€§æ“ä½œè¡Œä¸ºã€‚</p><p>ä»¥ä¸‹æ˜¯BasePageElementç±»çš„å®ç°ã€‚å…¶ä¸­locatorå˜é‡åœ¨å…¶å­ç±»SearchTextElementä¸­å®šä¹‰ã€‚</p><div class="language-python line-numbers-mode" data-ext="py" data-title="py"><pre class="language-python"><code>
<span class="token keyword">class</span> <span class="token class-name">BasePageElement</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>

    <span class="token triple-quoted-string string">&quot;&quot;&quot;Base page class that is initialized on every page object class.&quot;&quot;&quot;</span>

    <span class="token keyword">def</span> <span class="token function">__set__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> obj<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">:</span>

        <span class="token triple-quoted-string string">&quot;&quot;&quot;Sets the text to the value supplied&quot;&quot;&quot;</span>

        driver <span class="token operator">=</span> obj<span class="token punctuation">.</span>driver

        driver<span class="token punctuation">.</span>find_element<span class="token punctuation">(</span>By<span class="token punctuation">.</span>NAME<span class="token punctuation">,</span> self<span class="token punctuation">.</span>locator<span class="token punctuation">)</span><span class="token punctuation">.</span>send_keys<span class="token punctuation">(</span>value<span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">__get__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> obj<span class="token punctuation">,</span> owner<span class="token punctuation">)</span><span class="token punctuation">:</span>

        <span class="token triple-quoted-string string">&quot;&quot;&quot;Gets the text of the specified object&quot;&quot;&quot;</span>

        driver <span class="token operator">=</span> obj<span class="token punctuation">.</span>driver

        element <span class="token operator">=</span> driver<span class="token punctuation">.</span>find_element<span class="token punctuation">(</span>By<span class="token punctuation">.</span>NAME<span class="token punctuation">,</span> self<span class="token punctuation">.</span>locator<span class="token punctuation">)</span>

        <span class="token keyword">return</span> element<span class="token punctuation">.</span>get_attribute<span class="token punctuation">(</span><span class="token string">&quot;value&quot;</span><span class="token punctuation">)</span>
        
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¡¥å……è¯´æ˜ï¼š<code>main_page.search_text_element = &quot;pycon&quot;</code> è¿™é‡Œç”¨äº†è¾ƒå¤špythonçš„ç‰¹æ€§ï¼Œå…¶å®è¦è¡¨è¾¾çš„æ„æ€å°±æ˜¯ä»¥ä¸‹ä»£ç ã€‚äºæ˜¯ï¼Œç±»çš„å°è£…ç©¶ç«Ÿä½¿å¾—äº‹æƒ…å˜å¾—æ›´åŠ æ¸…æ™°è¿˜æ˜¯æ›´éº»çƒ¦äº†å‘¢ï¼Ÿ</p><div class="language-python line-numbers-mode" data-ext="py" data-title="py"><pre class="language-python"><code>
main_page<span class="token punctuation">.</span>set_search_text<span class="token punctuation">(</span><span class="token string">&quot;pycon&quot;</span><span class="token punctuation">)</span>

main_page<span class="token punctuation">.</span>click_go_button<span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="5"><li>å®šä½å…ƒç´ çš„æ–¹æ³•ä¹Ÿå¯ä»¥è¿›è¡Œå°è£…ï¼ŒåŸæ¥çš„ä»£ç æ˜¯<code>find_element(By.ID, &#39;submit&#39;)</code> ã€‚</li></ol><div class="language-python line-numbers-mode" data-ext="py" data-title="py"><pre class="language-python"><code>
    <span class="token keyword">def</span> <span class="token function">click_go_button</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>

        <span class="token triple-quoted-string string">&quot;&quot;&quot;Triggers the search&quot;&quot;&quot;</span>

        element <span class="token operator">=</span> self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>find_element<span class="token punctuation">(</span>By<span class="token punctuation">.</span>ID<span class="token punctuation">,</span> <span class="token string">&#39;submit&#39;</span><span class="token punctuation">)</span>

        element<span class="token punctuation">.</span>click<span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¦‚æœå°†æ¥è¦ç”¨åˆ«çš„æŸ¥æ‰¾å®šä½æ–¹æ³•ï¼Œå°±å¯ä»¥å°†<code>(By.ID, &#39;submit&#39;)</code> è¿›è¡Œéš”ç¦»ã€‚ä»£ç ä¸­åˆ©ç”¨äº†è§£åŒ…è¿ç®—ç¬¦ï¼ˆ*ï¼‰ï¼š<code>*MainPageLocators.GO_BUTTON</code> ã€‚</p><div class="language-python line-numbers-mode" data-ext="py" data-title="py"><pre class="language-python"><code>
<span class="token comment"># page.py</span>

<span class="token keyword">from</span> locators <span class="token keyword">import</span> MainPageLocators

    <span class="token keyword">def</span> <span class="token function">click_go_button</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>

        element <span class="token operator">=</span> self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>find_element<span class="token punctuation">(</span><span class="token operator">*</span>MainPageLocators<span class="token punctuation">.</span>GO_BUTTON<span class="token punctuation">)</span>

        element<span class="token punctuation">.</span>click<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># locators.py</span>

<span class="token keyword">from</span> selenium<span class="token punctuation">.</span>webdriver<span class="token punctuation">.</span>common<span class="token punctuation">.</span>by <span class="token keyword">import</span> By

<span class="token keyword">class</span> <span class="token class-name">MainPageLocators</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>

    <span class="token triple-quoted-string string">&quot;&quot;&quot;A class for main page locators. All main page locators should come here&quot;&quot;&quot;</span>

    GO_BUTTON <span class="token operator">=</span> <span class="token punctuation">(</span>By<span class="token punctuation">.</span>ID<span class="token punctuation">,</span> <span class="token string">&#39;submit&#39;</span><span class="token punctuation">)</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ä¸ƒã€pytestçš„ä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#ä¸ƒã€pytestçš„ä½¿ç”¨"><span>ä¸ƒã€pytestçš„ä½¿ç”¨</span></a></h2><p><code>pytest</code> æ˜¯ä¸€ä¸ªéå¸¸æµè¡Œçš„ Python æµ‹è¯•æ¡†æ¶ï¼Œå®ƒä½¿å¾—ç¼–å†™ç®€å•å’Œå¯æ‰©å±•çš„æµ‹è¯•å˜å¾—éå¸¸å®¹æ˜“ã€‚ä¸‹é¢æ˜¯ <code>pytest</code> çš„ä¸€äº›ä¸»è¦ç”¨æ³•ï¼š</p><h3 id="å®‰è£…" tabindex="-1"><a class="header-anchor" href="#å®‰è£…"><span>å®‰è£…</span></a></h3><p><strong>ä½¿ç”¨ pip å®‰è£… pytest</strong>ï¼šåœ¨å‘½ä»¤è¡Œä¸­è¾“å…¥ä»¥ä¸‹å‘½ä»¤æ¥å®‰è£… <code>pytest</code>ï¼š</p><div class="language-Plain line-numbers-mode" data-ext="Plain" data-title="Plain"><pre class="language-Plain"><code>
pip install pytest

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="åŸºç¡€ç”¨æ³•" tabindex="-1"><a class="header-anchor" href="#åŸºç¡€ç”¨æ³•"><span>åŸºç¡€ç”¨æ³•</span></a></h3><ol><li><strong>æµ‹è¯•æ–‡ä»¶å’Œå‡½æ•°å‘½å</strong>ï¼š</li></ol><ul><li><p>æµ‹è¯•æ–‡ä»¶ä»¥ <code>test_</code> å¼€å¤´ï¼ˆå¦‚ <code>test_example.py</code>ï¼‰ã€‚</p></li><li><p>æµ‹è¯•ç±»ä»¥<code>Test</code>å¼€å¤´ï¼Œä¸èƒ½ä»¥å°å†™<code>test</code>å¼€å¤´ï¼Œå¦‚<code>TestClass()</code>ã€‚</p></li><li><p>æµ‹è¯•å‡½æ•°ä»¥ <code>test_</code> å¼€å¤´ï¼ˆå¦‚ <code>def test_example():</code>ï¼‰ã€‚</p></li></ul><p>2. <strong>è¿è¡Œæµ‹è¯•</strong>ï¼š</p><ul><li><p>åœ¨å‘½ä»¤è¡Œä¸­ï¼Œåˆ‡æ¢åˆ°åŒ…å«æµ‹è¯•æ–‡ä»¶çš„ç›®å½•ï¼Œç„¶åè¿è¡Œ <code>pytest</code>ã€‚</p></li><li><p>ä¹Ÿå¯ä»¥æŒ‡å®šç‰¹å®šçš„æµ‹è¯•æ–‡ä»¶ï¼Œä¾‹å¦‚ <code>pytest test_example.py</code>ã€‚</p></li><li><p>æ‚¨å¯ä»¥é€šè¿‡åœ¨å‘½ä»¤è¡Œä¸­æŒ‡å®šå‡½æ•°çš„å®Œæ•´è·¯å¾„æ¥è¿è¡Œå•ä¸ªæµ‹è¯•å‡½æ•°ã€‚è·¯å¾„åŒ…æ‹¬æ–‡ä»¶åã€æµ‹è¯•ç±»åï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰å’Œå‡½æ•°åï¼Œä¹‹é—´ç”¨åŒå†’å· <code>::</code> åˆ†éš”ã€‚</p></li></ul><p>ä¾‹å¦‚ï¼Œå‡è®¾æ‚¨æœ‰ä¸€ä¸ªåä¸º <code>test_module.py</code> çš„æ–‡ä»¶ï¼Œå…¶ä¸­åŒ…å«ä¸€ä¸ªåä¸º <code>TestClass</code> çš„æµ‹è¯•ç±»ï¼Œè¯¥ç±»ä¸­æœ‰ä¸€ä¸ªåä¸º <code>test_method</code> çš„æµ‹è¯•å‡½æ•°ã€‚è¦è¿è¡Œè¿™ä¸ªç‰¹å®šçš„æµ‹è¯•å‡½æ•°ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š</p><div class="language-Plain line-numbers-mode" data-ext="Plain" data-title="Plain"><pre class="language-Plain"><code>
pytest test_module.py::TestClass::test_method

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>3. <strong>æ–­è¨€</strong>ï¼š</p><ul><li>ä½¿ç”¨å†…ç½®çš„ <code>assert</code> è¯­å¥è¿›è¡Œæ–­è¨€ã€‚</li></ul><h3 id="å‚æ•°åŒ–æµ‹è¯•" tabindex="-1"><a class="header-anchor" href="#å‚æ•°åŒ–æµ‹è¯•"><span>å‚æ•°åŒ–æµ‹è¯•</span></a></h3><ol><li><strong>å‚æ•°åŒ–æµ‹è¯•</strong></li></ol><ul><li>ä½¿ç”¨ <code>@pytest.mark.parametrize</code> è£…é¥°å™¨æ¥å‚æ•°åŒ–æµ‹è¯•å‡½æ•°ã€‚</li></ul><p>å‚æ•°åŒ–æµ‹è¯•æ˜¯ <code>pytest</code> çš„ä¸€ä¸ªå¼ºå¤§ç‰¹æ€§ï¼Œå®ƒå…è®¸ä½ ä½¿ç”¨ä¸åŒçš„å‚æ•°å¤šæ¬¡è¿è¡ŒåŒä¸€ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼Œè€Œä¸éœ€è¦å†™å¤šä¸ªå‡ ä¹ç›¸åŒçš„æµ‹è¯•å‡½æ•°ã€‚è¿™åœ¨æµ‹è¯•è¾“å…¥å’Œè¾“å‡ºæœ‰å¤šç§å¯èƒ½æ€§çš„åœºæ™¯ä¸­éå¸¸æœ‰ç”¨ã€‚</p><ol start="2"><li><strong>å‚æ•°åŒ–æµ‹è¯•çš„ä¾‹å­</strong></li></ol><p>ä¸‹é¢æ˜¯ä¸€ä¸ªä½¿ç”¨ <code>pytest.mark.parametrize</code> è¿›è¡Œå‚æ•°åŒ–æµ‹è¯•çš„ä¾‹å­ï¼š</p><div class="language-Plain line-numbers-mode" data-ext="Plain" data-title="Plain"><pre class="language-Plain"><code>
import pytest

# è¿™æ˜¯ä¸€ä¸ªç®€å•çš„å‡½æ•°ï¼Œç”¨äºæ¼”ç¤ºå‚æ•°åŒ–æµ‹è¯•

def add(a, b):

    return a + b

# ä½¿ç”¨ pytest.mark.parametrize è£…é¥°å™¨è¿›è¡Œå‚æ•°åŒ–

# &#39;test_data&#39; æ˜¯ä¸€ä¸ªåŒ…å«å‚æ•°å…ƒç»„çš„åˆ—è¡¨ï¼Œæ¯ä¸ªå…ƒç»„åŒ…å«ä¸€ç»„æµ‹è¯•å‚æ•°

# &#39;ids&#39; æ˜¯ä¸€ä¸ªä¸ &#39;test_data&#39; ä¸­æ¯ä¸ªå‚æ•°å…ƒç»„å¯¹åº”çš„å­—ç¬¦ä¸²æ ‡è¯†ç¬¦åˆ—è¡¨ï¼Œç”¨äºåœ¨æµ‹è¯•è¾“å‡ºä¸­æ ‡è¯†æ¯ä¸ªæµ‹è¯•ç”¨ä¾‹

@pytest.mark.parametrize(&quot;a, b, expected&quot;, [

    (1, 2, 3),

    (-1, 1, 0),

    (0, 0, 0),

    (3.5, 2.5, 6.0),

], ids=[&quot;int positive&quot;, &quot;int negative&quot;, &quot;zero&quot;, &quot;floats&quot;])

def test_add(a, b, expected):

    assert add(a, b) == expected

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ<code>test_add</code> å‡½æ•°ä¼šè¢«æ‰§è¡Œå››æ¬¡ï¼Œæ¯æ¬¡ä½¿ç”¨ <code>test_data</code> åˆ—è¡¨ä¸­çš„ä¸€ä¸ªå‚æ•°å…ƒç»„ã€‚<code>ids</code> å‚æ•°æ˜¯å¯é€‰çš„ï¼Œå®ƒä¸ºæ¯ä¸ªæµ‹è¯•ç”¨ä¾‹æä¾›äº†ä¸€ä¸ªæ›´æ˜“è¯»çš„æ ‡è¯†ç¬¦ï¼Œå½“æµ‹è¯•æ‰§è¡Œæ—¶ï¼Œè¿™äº›æ ‡è¯†ç¬¦ä¼šæ˜¾ç¤ºåœ¨æµ‹è¯•è¾“å‡ºä¸­ï¼Œä»¥ä¾¿äºè¯†åˆ«æ¯ä¸ªæµ‹è¯•ç”¨ä¾‹ã€‚</p><p>å½“ä½ è¿è¡Œè¿™ä¸ªæµ‹è¯•æ¨¡å—æ—¶ï¼Œ<code>pytest</code> ä¼šä¸ºæ¯ä¸ªå‚æ•°ç»„åˆç”Ÿæˆä¸€ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼Œå¹¶åœ¨æ§åˆ¶å°è¾“å‡ºæ¯ä¸ªæµ‹è¯•ç”¨ä¾‹çš„ç»“æœã€‚å¦‚æœæ‰€æœ‰æ–­è¨€éƒ½é€šè¿‡ï¼Œæµ‹è¯•å°±ä¼šæˆåŠŸï¼›å¦‚æœæœ‰ä»»ä½•æ–­è¨€å¤±è´¥ï¼Œ<code>pytest</code> ä¼šæä¾›æœ‰å…³å¤±è´¥çš„å…·ä½“ä¿¡æ¯ã€‚</p><p>å‚æ•°åŒ–æµ‹è¯•ä¸ä»…é™äºå•ä¸ªå‚æ•°ï¼Œä½ è¿˜å¯ä»¥ä¼ é€’å¤šä¸ªå‚æ•°ï¼Œç”šè‡³æ˜¯åµŒå¥—çš„å‚æ•°ç»„åˆã€‚è¿™ä½¿å¾— <code>pytest</code> éå¸¸é€‚åˆäºç¼–å†™æ•°æ®é©±åŠ¨çš„æµ‹è¯•ã€‚</p><ol start="3"><li><strong>å‚æ•°åŒ–æµ‹è¯•çš„ä¾‹å­ï¼ˆä»CSVæ–‡ä»¶è¯»å–ï¼‰</strong></li></ol><p>è¦ç»“åˆä»CSVæ–‡ä»¶è¯»å–è®°å½•å’Œ<code>pytest.mark.parametrize</code>è¿›è¡Œæµ‹è¯•ï¼Œä½ é¦–å…ˆéœ€è¦æœ‰ä¸€ä¸ªåŒ…å«ç”¨æˆ·åå’Œå¯†ç ç»„åˆçš„CSVæ–‡ä»¶ã€‚ç„¶åï¼Œä½ å¯ä»¥åœ¨<code>pytest</code>æµ‹è¯•ä¸­è¯»å–è¿™ä¸ªæ–‡ä»¶ï¼Œå¹¶ä½¿ç”¨<code>parametrize</code>è£…é¥°å™¨æ¥å‚æ•°åŒ–ä½ çš„æµ‹è¯•å‡½æ•°ã€‚</p><p>å‡è®¾ä½ æœ‰ä¸€ä¸ªåä¸º<code>users.csv</code>çš„CSVæ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p><div class="language-Plain line-numbers-mode" data-ext="Plain" data-title="Plain"><pre class="language-Plain"><code>
username,password

user1,pwd1

user2,pwd2

user3,pwd3

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸‹é¢æ˜¯ä¸€ä¸ªä½¿ç”¨<code>pytest.mark.parametrize</code>å’Œä»CSVæ–‡ä»¶è¯»å–æ•°æ®çš„æµ‹è¯•ä¾‹å­ï¼š</p><div class="language-python line-numbers-mode" data-ext="py" data-title="py"><pre class="language-python"><code>
<span class="token keyword">import</span> csv

<span class="token keyword">import</span> pytest

<span class="token comment"># å‡è®¾è¿™æ˜¯ä¸€ä¸ªç”¨äºéªŒè¯ç”¨æˆ·åå’Œå¯†ç çš„å‡½æ•°</span>

<span class="token keyword">def</span> <span class="token function">validate_user</span><span class="token punctuation">(</span>username<span class="token punctuation">,</span> password<span class="token punctuation">)</span><span class="token punctuation">:</span>

    <span class="token comment"># è¿™é‡Œåº”è¯¥æœ‰çœŸå®çš„ç”¨æˆ·éªŒè¯é€»è¾‘</span>

    <span class="token keyword">return</span> username <span class="token operator">==</span> <span class="token string">&quot;user2&quot;</span> <span class="token keyword">and</span> password <span class="token operator">==</span> <span class="token string">&quot;pwd2&quot;</span>

<span class="token comment"># è¯»å–CSVæ–‡ä»¶å¹¶è¿”å›ä¸€ä¸ªåŒ…å«ç”¨æˆ·åå’Œå¯†ç çš„åˆ—è¡¨</span>

<span class="token keyword">def</span> <span class="token function">read_users_from_csv</span><span class="token punctuation">(</span>file_path<span class="token punctuation">)</span><span class="token punctuation">:</span>

    users <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>

    <span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span>file_path<span class="token punctuation">,</span> <span class="token string">&#39;r&#39;</span><span class="token punctuation">)</span> <span class="token keyword">as</span> csvfile<span class="token punctuation">:</span>

        reader <span class="token operator">=</span> csv<span class="token punctuation">.</span>DictReader<span class="token punctuation">(</span>csvfile<span class="token punctuation">)</span>

        <span class="token keyword">for</span> row <span class="token keyword">in</span> reader<span class="token punctuation">:</span>

            users<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token punctuation">(</span>row<span class="token punctuation">[</span><span class="token string">&#39;username&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> row<span class="token punctuation">[</span><span class="token string">&#39;password&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            
    <span class="token keyword">return</span> users

<span class="token comment"># ä½¿ç”¨ parametrize ä» CSV æ–‡ä»¶ä¸­è¯»å–ç”¨æˆ·åå’Œå¯†ç ç»„åˆ</span>

<span class="token decorator annotation punctuation">@pytest<span class="token punctuation">.</span>mark<span class="token punctuation">.</span>parametrize</span><span class="token punctuation">(</span><span class="token string">&quot;username, password&quot;</span><span class="token punctuation">,</span> read_users_from_csv<span class="token punctuation">(</span><span class="token string">&#39;users.csv&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token keyword">def</span> <span class="token function">test_validate_user</span><span class="token punctuation">(</span>username<span class="token punctuation">,</span> password<span class="token punctuation">)</span><span class="token punctuation">:</span>

    <span class="token keyword">assert</span> validate_user<span class="token punctuation">(</span>username<span class="token punctuation">,</span> password<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token punctuation">(</span>username <span class="token operator">==</span> <span class="token string">&quot;user2&quot;</span> <span class="token keyword">and</span> password <span class="token operator">==</span> <span class="token string">&quot;pwd2&quot;</span><span class="token punctuation">)</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ<code>read_users_from_csv</code>å‡½æ•°æ‰“å¼€å¹¶è¯»å–CSVæ–‡ä»¶ï¼Œç„¶åè§£æå…¶ä¸­çš„å†…å®¹ï¼Œè¿”å›ä¸€ä¸ªåŒ…å«ç”¨æˆ·åå’Œå¯†ç å…ƒç»„çš„åˆ—è¡¨ã€‚<code>pytest.mark.parametrize</code>è£…é¥°å™¨ä½¿ç”¨è¿™ä¸ªåˆ—è¡¨æ¥å‚æ•°åŒ–<code>test_validate_user</code>å‡½æ•°ï¼Œä½¿å¾—æ¯ä¸ªç”¨æˆ·åå’Œå¯†ç ç»„åˆéƒ½ä¼šè¢«ç”¨æ¥è°ƒç”¨è¿™ä¸ªæµ‹è¯•å‡½æ•°ã€‚</p><p>è¯·æ³¨æ„ï¼Œè¿™ä¸ªä¾‹å­ä¸­çš„<code>validate_user</code>å‡½æ•°æ˜¯ä¸€ä¸ªç¤ºä¾‹å‡½æ•°ï¼Œä½ éœ€è¦æ ¹æ®å®é™…çš„ç”¨æˆ·éªŒè¯é€»è¾‘æ¥ç¼–å†™è¿™ä¸ªå‡½æ•°ã€‚åŒæ ·ï¼Œ<code>test_validate_user</code>å‡½æ•°çš„æ–­è¨€ä¹Ÿåº”è¯¥æ ¹æ®ä½ çš„å®é™…éªŒè¯é€»è¾‘æ¥ç¼–å†™ã€‚</p><p>ç¡®ä¿CSVæ–‡ä»¶å’Œæµ‹è¯•è„šæœ¬ä½äºåŒä¸€ç›®å½•ä¸­ï¼Œæˆ–è€…æä¾›æ­£ç¡®çš„æ–‡ä»¶è·¯å¾„ç»™<code>read_users_from_csv</code>å‡½æ•°ã€‚å½“è¿è¡Œ<code>pytest</code>æ—¶ï¼Œå®ƒä¼šè‡ªåŠ¨å‘ç°å¹¶æ‰§è¡Œå‚æ•°åŒ–çš„æµ‹è¯•ç”¨ä¾‹ã€‚</p><h3 id="è®¾ç½®å’Œæ¸…ç†æµ‹è¯•ç¯å¢ƒ" tabindex="-1"><a class="header-anchor" href="#è®¾ç½®å’Œæ¸…ç†æµ‹è¯•ç¯å¢ƒ"><span>è®¾ç½®å’Œæ¸…ç†æµ‹è¯•ç¯å¢ƒ</span></a></h3><h4 id="æ–¹æ³•ä¸€-ä½¿ç”¨-setup-class-setup-method-ç­‰ä¼ ç»Ÿæ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#æ–¹æ³•ä¸€-ä½¿ç”¨-setup-class-setup-method-ç­‰ä¼ ç»Ÿæ–¹æ³•"><span>æ–¹æ³•ä¸€ï¼šä½¿ç”¨ <code>setup_class</code>/<code>setup_method</code> ç­‰ä¼ ç»Ÿæ–¹æ³•</span></a></h4><p>åœ¨pytestä¸­ï¼Œ<code>setup</code>å’Œ<code>teardown</code>æ–¹æ³•ç”¨äºåœ¨æµ‹è¯•å‡½æ•°æˆ–ç±»ä¹‹å‰å’Œä¹‹åè¿›è¡Œä¸€äº›åˆå§‹åŒ–å’Œæ¸…ç†å·¥ä½œã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å¸¸ç”¨çš„<code>setup</code>å’Œ<code>teardown</code>æ–¹æ³•ï¼š</p><ol><li><code>setup_module</code>å’Œ<code>teardown_module</code>ï¼šè¿™ä¸¤ä¸ªæ–¹æ³•åœ¨æ•´ä¸ªæ¨¡å—çš„å¼€å§‹å’Œç»“æŸæ—¶è¿è¡Œä¸€æ¬¡ã€‚</li></ol><div class="language-python line-numbers-mode" data-ext="py" data-title="py"><pre class="language-python"><code>
<span class="token keyword">def</span> <span class="token function">setup_module</span><span class="token punctuation">(</span>module<span class="token punctuation">)</span><span class="token punctuation">:</span>

    <span class="token keyword">pass</span>

<span class="token keyword">def</span> <span class="token function">teardown_module</span><span class="token punctuation">(</span>module<span class="token punctuation">)</span><span class="token punctuation">:</span>

    <span class="token keyword">pass</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li><code>setup_function</code>å’Œ<code>teardown_function</code>ï¼šè¿™ä¸¤ä¸ªæ–¹æ³•åœ¨æ¯ä¸ªæµ‹è¯•å‡½æ•°ï¼ˆä¸åœ¨ç±»ä¸­ï¼‰çš„å¼€å§‹å’Œç»“æŸæ—¶è¿è¡Œã€‚</li></ol><div class="language-Plain line-numbers-mode" data-ext="Plain" data-title="Plain"><pre class="language-Plain"><code>
def setup_function(function):

    pass

def teardown_function(function):

    pass

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li><code>setup_class</code>å’Œ<code>teardown_class</code>ï¼šè¿™ä¸¤ä¸ªæ–¹æ³•åœ¨æ¯ä¸ªæµ‹è¯•ç±»çš„å¼€å§‹å’Œç»“æŸæ—¶è¿è¡Œä¸€æ¬¡ã€‚</li></ol><div class="language-Plain line-numbers-mode" data-ext="Plain" data-title="Plain"><pre class="language-Plain"><code>
@classmethod

def setup_class(cls):

    pass

@classmethod

def teardown_class(cls):

    pass

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="4"><li><code>setup_method</code>å’Œ<code>teardown_method</code>ï¼šè¿™ä¸¤ä¸ªæ–¹æ³•åœ¨æ¯ä¸ªæµ‹è¯•æ–¹æ³•ï¼ˆåœ¨ç±»ä¸­ï¼‰çš„å¼€å§‹å’Œç»“æŸæ—¶è¿è¡Œã€‚</li></ol><div class="language-Plain line-numbers-mode" data-ext="Plain" data-title="Plain"><pre class="language-Plain"><code>
def setup_method(self, method):

    pass

def teardown_method(self, method):

    pass

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="5"><li><code>setup</code>å’Œ<code>teardown</code>ï¼šè¿™ä¸¤ä¸ªæ–¹æ³•åœ¨æ¯ä¸ªæµ‹è¯•å‡½æ•°çš„å¼€å§‹å’Œç»“æŸæ—¶è¿è¡Œï¼Œä¸<code>setup_function</code>å’Œ<code>teardown_function</code>ç±»ä¼¼ã€‚</li></ol><div class="language-Plain line-numbers-mode" data-ext="Plain" data-title="Plain"><pre class="language-Plain"><code>
def setup(self):

    pass

def teardown(self):

    pass

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="æ–¹æ³•ä¸€ä½¿ç”¨ç¤ºä¾‹-ä½¿ç”¨-setup-class-setup-method-ç­‰ä¼ ç»Ÿæ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#æ–¹æ³•ä¸€ä½¿ç”¨ç¤ºä¾‹-ä½¿ç”¨-setup-class-setup-method-ç­‰ä¼ ç»Ÿæ–¹æ³•"><span>æ–¹æ³•ä¸€ä½¿ç”¨ç¤ºä¾‹ï¼šä½¿ç”¨ <code>setup_class</code>/<code>setup_method</code> ç­‰ä¼ ç»Ÿæ–¹æ³•</span></a></h4><div class="language-python line-numbers-mode" data-ext="py" data-title="py"><pre class="language-python"><code>
<span class="token comment"># æ–‡ä»¶åï¼š test_module.py</span>

<span class="token keyword">import</span> pytest

<span class="token keyword">from</span> selenium <span class="token keyword">import</span> webdriver

<span class="token keyword">def</span> <span class="token function">setup_module</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>

    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&#39;æ¨¡å—çº§åˆ«çš„ setup&#39;</span><span class="token punctuation">)</span>

    <span class="token comment"># è¿™é‡Œå‡†å¤‡æµ‹è¯•æ‰€éœ€çš„èµ„æº</span>

<span class="token keyword">def</span> <span class="token function">teardown_module</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>

    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&#39;æ¨¡å—çº§åˆ«çš„ teardown&#39;</span><span class="token punctuation">)</span>

<span class="token keyword">def</span> <span class="token function">setup_function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>

    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&#39;å‡½æ•°çº§åˆ«çš„ setup&#39;</span><span class="token punctuation">)</span>

<span class="token keyword">def</span> <span class="token function">teardown_function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>

    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&#39;å‡½æ•°çº§åˆ«çš„ teardown&#39;</span><span class="token punctuation">)</span>

<span class="token keyword">def</span> <span class="token function">setup_method</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>

    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&#39;æ–¹æ³•çº§åˆ«çš„ setup&#39;</span><span class="token punctuation">)</span>

<span class="token keyword">def</span> <span class="token function">teardown_method</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>

    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&#39;æ–¹æ³•çº§åˆ«çš„ teardown&#39;</span><span class="token punctuation">)</span>

<span class="token keyword">def</span> <span class="token function">test_example</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>

    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;æ‰§è¡Œæµ‹è¯•å‰&quot;</span><span class="token punctuation">)</span>

    <span class="token comment"># æµ‹è¯•ä»£ç </span>

    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;æ‰§è¡Œæµ‹è¯•å&quot;</span><span class="token punctuation">)</span>

<span class="token keyword">def</span> <span class="token function">test_another</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>

    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;å¦ä¸€ä¸ªæµ‹è¯•å‰&quot;</span><span class="token punctuation">)</span>

    <span class="token comment"># å¦ä¸€ä¸ªæµ‹è¯•ä»£ç </span>

    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;å¦ä¸€ä¸ªæµ‹è¯•å&quot;</span><span class="token punctuation">)</span>

<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">&quot;__main__&quot;</span><span class="token punctuation">:</span>

    pytest<span class="token punctuation">.</span>main<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;-s&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨æ§åˆ¶å°ä¸‹è¾“å…¥<code>python test_module.py</code>ï¼Œç¨‹åºè¿è¡Œåçš„è¾“å‡ºç»“æœä¸ºï¼š</p><div class="language-python line-numbers-mode" data-ext="py" data-title="py"><pre class="language-python"><code>
æ¨¡å—çº§åˆ«çš„ setup

å‡½æ•°çº§åˆ«çš„ setup

æ‰§è¡Œæµ‹è¯•å‰

æ‰§è¡Œæµ‹è¯•å

<span class="token punctuation">.</span>å‡½æ•°çº§åˆ«çš„ teardown

å‡½æ•°çº§åˆ«çš„ setup

å¦ä¸€ä¸ªæµ‹è¯•å‰

å¦ä¸€ä¸ªæµ‹è¯•å

<span class="token punctuation">.</span>å‡½æ•°çº§åˆ«çš„ teardown

æ¨¡å—çº§åˆ«çš„ teardown

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¦‚æœæ‚¨åœ¨è¿è¡Œæ—¶å‘ç°ä»£ç ä¸­çš„ <code>print</code> è¯­å¥æ²¡æœ‰è¾“å‡ºï¼Œè¿™å¯èƒ½æ˜¯ç”±äºä»¥ä¸‹å‡ ä¸ªåŸå› ï¼š</p><ol><li><strong>é»˜è®¤è¾“å‡ºé‡å®šå‘</strong>ï¼š<code>pytest</code> é»˜è®¤ä¼šå°†è¾“å‡ºé‡å®šå‘åˆ°ç¼“å†²åŒºï¼Œè€Œä¸æ˜¯ç›´æ¥è¾“å‡ºåˆ°æ§åˆ¶å°ã€‚è¿™æ˜¯ä¸ºäº†ç¡®ä¿æµ‹è¯•ç»“æœçš„æ¸…æ™°å’Œæœ‰åºã€‚å¦‚æœæ‚¨æƒ³è¦çœ‹åˆ° <code>print</code> è¯­å¥çš„è¾“å‡ºï¼Œå¯ä»¥ä½¿ç”¨ <code>-s</code> æˆ– <code>--capture=no</code> é€‰é¡¹æ¥ç¦ç”¨è¿™ç§è¾“å‡ºé‡å®šå‘ã€‚</li></ol><div class="language-Plain line-numbers-mode" data-ext="Plain" data-title="Plain"><pre class="language-Plain"><code>pytest -s
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li><strong>æµ‹è¯•å¤±è´¥æ—¶çš„è¾“å‡º</strong>ï¼šå¦‚æœæµ‹è¯•å¤±è´¥ï¼Œ<code>pytest</code> é€šå¸¸ä¼šæ˜¾ç¤ºç›¸å…³çš„è¾“å‡ºï¼ŒåŒ…æ‹¬ <code>print</code> è¯­å¥çš„è¾“å‡ºã€‚å¦‚æœæµ‹è¯•é€šè¿‡äº†ï¼Œ<code>pytest</code> ä¸ä¼šæ˜¾ç¤ºè¿™äº›è¾“å‡ºï¼Œé™¤éä½¿ç”¨äº† <code>-s</code> é€‰é¡¹ã€‚</li></ul><h4 id="æ–¹æ³•äºŒ-ä½¿ç”¨-pytest-fixture-è£…é¥°å™¨" tabindex="-1"><a class="header-anchor" href="#æ–¹æ³•äºŒ-ä½¿ç”¨-pytest-fixture-è£…é¥°å™¨"><span>æ–¹æ³•äºŒï¼šä½¿ç”¨ <code>@pytest.fixture()</code> è£…é¥°å™¨</span></a></h4><p>åœ¨pytestä¸­ï¼Œè¿˜å¯ä»¥ä½¿ç”¨<code>pytest.fixture()</code>è£…é¥°å™¨æ¥åˆ›å»ºè‡ªå®šä¹‰çš„<code>setup</code>å’Œ<code>teardown</code>æ–¹æ³•ã€‚è¿™ç§æ–¹æ³•æ›´åŠ çµæ´»å’Œå¼ºå¤§ï¼Œå¯ä»¥æ§åˆ¶å¤šä¸ªæµ‹è¯•å‡½æ•°ä¹‹é—´çš„å…±äº«æ•°æ®å’Œè¡Œä¸ºã€‚</p><p>ä¾‹å¦‚ï¼Œä½¿ç”¨<code>pytest.fixture()</code>åˆ›å»ºä¸€ä¸ªè‡ªå®šä¹‰çš„<code>setup</code>å’Œ<code>teardown</code>æ–¹æ³•ï¼š</p><div class="language-Plain line-numbers-mode" data-ext="Plain" data-title="Plain"><pre class="language-Plain"><code>
import pytest

@pytest.fixture(scope=&#39;module&#39;)

def my_fixture():

    print(&#39;Setup&#39;)

    yield 

    print(&#39;Teardown&#39;)

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨æµ‹è¯•å‡½æ•°ä¸­ï¼Œå¯ä»¥é€šè¿‡å‚æ•°ä¼ é€’æ¥ä½¿ç”¨è¿™ä¸ªè‡ªå®šä¹‰çš„<code>fixture</code>ï¼š</p><div class="language-Plain line-numbers-mode" data-ext="Plain" data-title="Plain"><pre class="language-Plain"><code>
def test_example(my_fixture):

    print(&#39;Test&#39;)

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol><li>å…¨å±€ setup å’Œ teardown</li></ol><p>å¦‚æœä½ æƒ³è¦åœ¨æ‰€æœ‰æµ‹è¯•å¼€å§‹ä¹‹å‰å’Œç»“æŸä¹‹åæ‰§è¡Œä¸€äº›æ“ä½œï¼Œå¯ä»¥åœ¨ <code>conftest.py</code> æ–‡ä»¶ä¸­å®šä¹‰ä¸€ä¸ª session çº§åˆ«çš„ fixtureï¼š</p><div class="language-Plain line-numbers-mode" data-ext="Plain" data-title="Plain"><pre class="language-Plain"><code>
# conftest.py

import pytest

@pytest.fixture(scope=&#39;session&#39;, autouse=True)

def setup_and_teardown_session():

    print(&#39;### Setup session ###&#39;)

    yield

    print(&#39;### Teardown session ###&#39;)

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>æ¨¡å—çº§åˆ«çš„ setup å’Œ teardown</li></ol><p>åœ¨ <code>pytest</code> ä¸­ï¼Œæ¨¡å—çº§åˆ«çš„ <code>setup</code> å’Œ <code>teardown</code> å¯ä»¥é€šè¿‡å®šä¹‰ä¸€ä¸ªæ¨¡å—çº§åˆ«çš„ fixture æ¥å®ç°ï¼š</p><div class="language-Plain line-numbers-mode" data-ext="Plain" data-title="Plain"><pre class="language-Plain"><code>
# test_module.py

import pytest

@pytest.fixture(scope=&#39;module&#39;, autouse=True)

def setup_and_teardown_module():

    print(&#39;### Setup module ###&#39;)

    yield

    print(&#39;### Teardown module ###&#39;)

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li>ç±»çº§åˆ«çš„ setup å’Œ teardown</li></ol><p>å¯¹äºç±»çº§åˆ«çš„ <code>setup</code> å’Œ <code>teardown</code>ï¼Œå¯ä»¥ä½¿ç”¨ <code>class</code> çº§åˆ«çš„ fixtureï¼š</p><div class="language-Plain line-numbers-mode" data-ext="Plain" data-title="Plain"><pre class="language-Plain"><code>
# test_class.py

import pytest

@pytest.fixture(scope=&#39;class&#39;, autouse=True)

def setup_and_teardown_class(request):

    print(&#39;### Setup class ###&#39;)

    yield

    print(&#39;### Teardown class ###&#39;)

@pytest.mark.usefixtures(&#39;setup_and_teardown_class&#39;)

class TestClass:

    def test_method1(self):

        pass

    def test_method2(self):

        pass
        
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="4"><li>æ–¹æ³•çº§åˆ«çš„ setup å’Œ teardown</li></ol><p>æ–¹æ³•çº§åˆ«çš„ <code>setup</code> å’Œ <code>teardown</code> å¯ä»¥é€šè¿‡å®šä¹‰ä¸€ä¸ªå‡½æ•°çº§åˆ«çš„ fixture æ¥å®ç°ï¼š</p><div class="language-python line-numbers-mode" data-ext="py" data-title="py"><pre class="language-python"><code>
<span class="token comment"># test_function.py</span>

<span class="token keyword">import</span> pytest

<span class="token decorator annotation punctuation">@pytest<span class="token punctuation">.</span>fixture</span><span class="token punctuation">(</span>autouse<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>

<span class="token keyword">def</span> <span class="token function">setup_and_teardown_function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>

    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&#39;### Setup function ###&#39;</span><span class="token punctuation">)</span>

    <span class="token keyword">yield</span>

    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&#39;### Teardown function ###&#39;</span><span class="token punctuation">)</span>

<span class="token keyword">def</span> <span class="token function">test_function1</span><span class="token punctuation">(</span>setup_and_teardown_function<span class="token punctuation">)</span><span class="token punctuation">:</span>

    <span class="token keyword">pass</span>

<span class="token keyword">def</span> <span class="token function">test_function2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>

    <span class="token keyword">pass</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨ä¸Šè¿°ç¤ºä¾‹ä¸­ï¼Œ<code>yield</code> å…³é”®å­—ä¹‹å‰çš„ä»£ç ç›¸å½“äº <code>setup</code>ï¼Œè€Œ <code>yield</code> å…³é”®å­—ä¹‹åçš„ä»£ç ç›¸å½“äº <code>teardown</code>ã€‚<code>scope</code> å‚æ•°ç”¨äºæŒ‡å®š fixture çš„ä½œç”¨èŒƒå›´ï¼Œ<code>autouse=True</code> å‚æ•°è¡¨ç¤ºè‡ªåŠ¨åº”ç”¨è¯¥ fixtureï¼Œæ— éœ€åœ¨æ¯ä¸ªæµ‹è¯•å‡½æ•°ä¸­æ˜¾å¼åœ°å£°æ˜ã€‚</p><p><code>pytest</code> çš„ fixture æœºåˆ¶æ¯” <code>unittest</code> çš„ <code>setup</code> å’Œ <code>teardown</code> æ›´åŠ çµæ´»å’Œå¼ºå¤§ï¼Œå› ä¸ºå®ƒå…è®¸ä½ åˆ›å»ºå¯é‡ç”¨çš„æµ‹è¯•ç¯å¢ƒï¼Œå¹¶ä¸”å¯ä»¥è·¨å¤šä¸ªæµ‹è¯•æˆ–æµ‹è¯•ç±»å…±äº«ã€‚</p><h4 id="æ–¹æ³•äºŒä½¿ç”¨ç¤ºä¾‹-ä½¿ç”¨-pytest-fixture-è£…é¥°å™¨" tabindex="-1"><a class="header-anchor" href="#æ–¹æ³•äºŒä½¿ç”¨ç¤ºä¾‹-ä½¿ç”¨-pytest-fixture-è£…é¥°å™¨"><span>æ–¹æ³•äºŒä½¿ç”¨ç¤ºä¾‹ï¼šä½¿ç”¨ <code>@pytest.fixture()</code> è£…é¥°å™¨</span></a></h4><p>åœ¨ <code>pytest</code> ä¸­ï¼Œfixture çš„ setup å’Œ teardown ç‰¹æ€§æ˜¯é€šè¿‡åœ¨ fixture å‡½æ•°ä¸­ä½¿ç”¨ <code>yield</code> å…³é”®å­—æ¥å®ç°çš„ã€‚<code>yield</code> ä¹‹å‰çš„ä»£ç æ˜¯ setup éƒ¨åˆ†ï¼Œ<code>yield</code> ä¹‹åçš„ä»£ç æ˜¯ teardown éƒ¨åˆ†ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼Œå®ƒå±•ç¤ºäº†å¦‚ä½•åœ¨æµ‹è¯•å‰åæ‰§è¡Œç‰¹å®šæ“ä½œï¼š</p><p>python</p><div class="language-Plain line-numbers-mode" data-ext="Plain" data-title="Plain"><pre class="language-Plain"><code>
import pytest

@pytest.fixture

def supply_AA_BB_CC():

    print(&quot;Setup: Initializing values&quot;)

    aa = 25

    bb = 35

    cc = 45

    yield [aa, bb, cc]

    print(&quot;Teardown: Cleaning up resources&quot;)

def test_compare(supply_AA_BB_CC):

    aa, bb, cc = supply_AA_BB_CC

    print(&quot;Test: Comparing values&quot;)

    assert aa &lt; bb

    assert bb &lt; cc
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œ<code>supply_AA_BB_CC</code> fixture åœ¨ setup é˜¶æ®µåˆå§‹åŒ–äº†ä¸‰ä¸ªæ•°å€¼ <code>aa</code>ã€<code>bb</code> å’Œ <code>cc</code>ï¼Œå¹¶æ‰“å°äº†ä¸€æ¡æ¶ˆæ¯ã€‚ç„¶åï¼Œå®ƒé€šè¿‡ <code>yield</code> å…³é”®å­—è¿”å›è¿™äº›æ•°å€¼ã€‚åœ¨ teardown é˜¶æ®µï¼Œå®ƒæ‰“å°äº†å¦ä¸€æ¡æ¶ˆæ¯ï¼Œè¡¨ç¤ºæ¸…ç†èµ„æºçš„æ“ä½œã€‚è¯·æ³¨æ„ï¼Œteardown é˜¶æ®µçš„ä»£ç å°†åœ¨æµ‹è¯•å‡½æ•°å®Œæˆåæ‰§è¡Œï¼Œå³ä½¿æµ‹è¯•å‡½æ•°å¤±è´¥æˆ–äº§ç”Ÿå¼‚å¸¸ã€‚</p><p>å½“æ‚¨è¿è¡Œè¿™ä¸ªæµ‹è¯•æ—¶ï¼Œè¾“å‡ºå°†ç±»ä¼¼äºï¼š</p><div class="language-Plain line-numbers-mode" data-ext="Plain" data-title="Plain"><pre class="language-Plain"><code>
Setup: Initializing values

Test: Comparing values

Teardown: Cleaning up resources

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™æ ·ï¼Œæ‚¨å°±å¯ä»¥ç¡®ä¿åœ¨æµ‹è¯•å‰åæ‰§è¡Œç‰¹å®šçš„æ“ä½œï¼Œä¾‹å¦‚è®¾ç½®æµ‹è¯•ç¯å¢ƒã€åˆå§‹åŒ–èµ„æºã€æ¸…ç†ä¸´æ—¶æ–‡ä»¶ç­‰ã€‚ä½¿ç”¨ <code>yield</code> çš„å¥½å¤„æ˜¯å®ƒå¯ä»¥ç¡®ä¿ teardown é€»è¾‘å§‹ç»ˆè¢«æ‰§è¡Œï¼Œå³ä½¿æµ‹è¯•æœ¬èº«å¤±è´¥æˆ–äº§ç”Ÿå¼‚å¸¸ã€‚</p><h4 id="ä¸¤ç§æ–¹æ³•çš„æ€»ç»“" tabindex="-1"><a class="header-anchor" href="#ä¸¤ç§æ–¹æ³•çš„æ€»ç»“"><span>ä¸¤ç§æ–¹æ³•çš„æ€»ç»“</span></a></h4><p><code>pytest</code> æä¾›äº†ä¸¤ç§ä¸åŒçš„æ–¹å¼æ¥è®¾ç½®å’Œæ¸…ç†æµ‹è¯•ç¯å¢ƒï¼šä½¿ç”¨ <code>@pytest.fixture()</code> è£…é¥°å™¨å’Œä½¿ç”¨ <code>setup_class</code>/<code>setup_method</code> ç­‰ä¼ ç»Ÿçš„ç±»æ–¹æ³•ã€‚è¿™ä¸¤å¥—åšæ³•çš„å­˜åœ¨ä¸»è¦æ˜¯ä¸ºäº†å…¼å®¹æ€§å’Œçµæ´»æ€§ã€‚</p><p><strong>@pytest.fixture()</strong>** è£…é¥°å™¨**ï¼š</p><ul><li><p><code>@pytest.fixture()</code> æ˜¯ <code>pytest</code> ä¸­è®¾ç½®å’Œæ¸…ç†æµ‹è¯•ç¯å¢ƒçš„é¦–é€‰æ–¹å¼ã€‚å®ƒæä¾›äº†é«˜åº¦çš„çµæ´»æ€§å’Œå¼ºå¤§çš„åŠŸèƒ½ï¼Œå¦‚å‚æ•°åŒ–ã€èŒƒå›´æ§åˆ¶ï¼ˆå‡½æ•°çº§ã€ç±»çº§ã€æ¨¡å—çº§ã€ä¼šè¯çº§ï¼‰ã€è‡ªåŠ¨æ‰§è¡Œå’Œä¾èµ–æ³¨å…¥ã€‚</p></li><li><p>Fixtures å¯ä»¥å®šä¹‰ä¸ºå‡½æ•°æˆ–ç±»æ–¹æ³•ï¼Œå¯ä»¥è¿”å›æ•°æ®ï¼Œä¹Ÿå¯ä»¥ yield æ•°æ®ï¼Œåè€…å…è®¸ä½ åœ¨ fixture ä¸­æ‰§è¡Œæ¸…ç†ä»£ç ã€‚</p></li><li><p>Fixtures å¯ä»¥è¢«å…¶ä»– fixtures æˆ–æµ‹è¯•ç”¨ä¾‹ä½œä¸ºå‚æ•°ä½¿ç”¨ï¼Œè¿™ä½¿å¾—å®ƒä»¬éå¸¸é€‚ç”¨äºæä¾›å…±äº«èµ„æºå’Œé…ç½®ã€‚</p></li></ul><p><strong>setup_class</strong>**/<strong><strong>setup_method</strong></strong> ç­‰ç±»æ–¹æ³•**ï¼š</p><ul><li><p>è¿™äº›æ–¹æ³•å€Ÿé‰´äº†ä¼ ç»Ÿçš„å•å…ƒæµ‹è¯•æ¡†æ¶ï¼ˆå¦‚ <code>unittest</code>ï¼‰çš„å‘½åçº¦å®šï¼Œç”¨äºåœ¨ç±»çº§åˆ«çš„æµ‹è¯•ä¸­æ‰§è¡Œè®¾ç½®å’Œæ¸…ç†æ“ä½œã€‚</p></li><li><p><code>setup_class</code> æ˜¯ä¸€ä¸ªç±»æ–¹æ³•ï¼ˆ<code>@classmethod</code>ï¼‰ï¼Œå®ƒåœ¨æ‰§è¡Œç±»ä¸­çš„ä»»ä½•æµ‹è¯•æ–¹æ³•ä¹‹å‰æ‰§è¡Œä¸€æ¬¡ã€‚</p></li><li><p><code>setup_method</code>ï¼ˆåœ¨ <code>pytest</code> ä¸­é€šå¸¸ç§°ä¸º <code>setup</code>ï¼‰æ˜¯ä¸€ä¸ªå®ä¾‹æ–¹æ³•ï¼Œå®ƒåœ¨æ¯ä¸ªæµ‹è¯•æ–¹æ³•ä¹‹å‰æ‰§è¡Œã€‚</p></li><li><p>è¿™äº›æ–¹æ³•çš„ä¸»è¦ä¼˜ç‚¹æ˜¯å®ƒä»¬å¯¹äºä»å…¶ä»–æµ‹è¯•æ¡†æ¶ï¼ˆå¦‚ <code>unittest</code>ï¼‰è¿ç§»åˆ° <code>pytest</code> çš„ç”¨æˆ·æ¥è¯´å¾ˆç†Ÿæ‚‰ã€‚</p></li></ul><p><code>pytest</code> æ”¯æŒ <code>setup_class</code>/<code>setup_method</code> ç­‰æ–¹æ³•çš„ä¸»è¦åŸå› æ˜¯å…¼å®¹æ€§å’Œæ˜“äºè¿ç§»ã€‚è®¸å¤šå¼€å‘è€…å¯èƒ½å·²ç»ä¹ æƒ¯äº†è¿™äº›ä¼ ç»Ÿçš„å‘½åå’Œç”¨æ³•ï¼Œå› æ­¤ <code>pytest</code> æä¾›äº†è¿™ç§å…¼å®¹æ€§ï¼Œä½¿å¾—ä»å…¶ä»–æ¡†æ¶è¿ç§»å˜å¾—æ›´åŠ å®¹æ˜“ã€‚</p><p>ç„¶è€Œï¼Œéšç€æ—¶é—´çš„æ¨ç§»ï¼Œ<code>pytest</code> ç¤¾åŒºæ›´å€¾å‘äºä½¿ç”¨ <code>@pytest.fixture()</code> è£…é¥°å™¨ï¼Œå› ä¸ºå®ƒæä¾›äº†æ›´å¤šçš„æ§åˆ¶å’Œçµæ´»æ€§ã€‚Fixtures å¯ä»¥æ›´ç²¾ç»†åœ°ç®¡ç†æµ‹è¯•ç¯å¢ƒï¼Œæ”¯æŒå¤æ‚çš„æµ‹è¯•åœºæ™¯ï¼Œå¹¶æä¾›æ›´å¥½çš„æµ‹è¯•ä»£ç ç»„ç»‡ã€‚</p><p>æ€»ä¹‹ï¼Œå°½ç®¡ä¸¤å¥—åšæ³•éƒ½å¯ç”¨ï¼Œä½†æ¨èä½¿ç”¨ <code>@pytest.fixture()</code> è£…é¥°å™¨æ¥è®¾ç½®å’Œæ¸…ç†æµ‹è¯•ç¯å¢ƒï¼Œå› ä¸ºå®ƒæ›´åŠ ç°ä»£ã€çµæ´»ï¼Œå¹¶ä¸”æ˜¯ <code>pytest</code> çš„æ ¸å¿ƒç‰¹æ€§ä¹‹ä¸€ã€‚</p><h4 id="å¸¸è§é—®é¢˜" tabindex="-1"><a class="header-anchor" href="#å¸¸è§é—®é¢˜"><span>å¸¸è§é—®é¢˜</span></a></h4><h5 id="é—®é¢˜1-æ¨¡å—çº§åˆ«å’Œæ–¹æ³•çº§åˆ«çš„setupå’Œteardownæœ‰ä»€ä¹ˆåŒºåˆ«" tabindex="-1"><a class="header-anchor" href="#é—®é¢˜1-æ¨¡å—çº§åˆ«å’Œæ–¹æ³•çº§åˆ«çš„setupå’Œteardownæœ‰ä»€ä¹ˆåŒºåˆ«"><span>é—®é¢˜1ï¼šæ¨¡å—çº§åˆ«å’Œæ–¹æ³•çº§åˆ«çš„setupå’Œteardownæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</span></a></h5><p>åœ¨ <code>pytest</code> ä¸­ï¼Œæ¨¡å—çº§åˆ«å’Œæ–¹æ³•çº§åˆ«çš„ setup å’Œ teardown ä¸»è¦åŒºåˆ«åœ¨äºå®ƒä»¬çš„æ‰§è¡ŒèŒƒå›´å’Œä½œç”¨åŸŸã€‚æ¨¡å—çº§åˆ«çš„ setup å’Œ teardown åœ¨æ•´ä¸ªæµ‹è¯•æ¨¡å—çš„å¼€å§‹å’Œç»“æŸæ—¶æ‰§è¡Œä¸€æ¬¡ï¼Œè€Œæ–¹æ³•çº§åˆ«çš„ setup å’Œ teardown å¯¹æ¯ä¸ªæµ‹è¯•å‡½æ•°éƒ½ä¼šæ‰§è¡Œä¸€æ¬¡ã€‚é€‰æ‹©å“ªç§çº§åˆ«çš„ setup å’Œ teardown å–å†³äºä½ çš„æµ‹è¯•éœ€æ±‚å’Œæµ‹è¯•ç¯å¢ƒçš„è¦æ±‚ã€‚</p><p><strong>æ¨¡å—çº§åˆ«çš„ setup å’Œ teardown</strong></p><p>æ¨¡å—çº§åˆ«çš„ setup å’Œ teardown åœ¨æ¯ä¸ªæµ‹è¯•æ¨¡å—ï¼ˆå³æ¯ä¸ª <code>.py</code> æ–‡ä»¶ï¼‰å¼€å§‹å’Œç»“æŸæ—¶æ‰§è¡Œä¸€æ¬¡ã€‚è¿™æ„å‘³ç€ä¸ç®¡æ¨¡å—ä¸­æœ‰å¤šå°‘ä¸ªæµ‹è¯•å‡½æ•°æˆ–æµ‹è¯•ç±»ï¼Œæ¨¡å—çº§åˆ«çš„ setup å’Œ teardown åªä¼šæ‰§è¡Œä¸€æ¬¡ã€‚</p><p>åœ¨ <code>pytest</code> ä¸­ï¼Œä½ å¯ä»¥ä½¿ç”¨ <code>module</code> çº§åˆ«çš„ fixture æ¥å®ç°æ¨¡å—çº§åˆ«çš„ setup å’Œ teardownï¼š</p><div class="language-python line-numbers-mode" data-ext="py" data-title="py"><pre class="language-python"><code>
<span class="token comment"># test_module.py</span>

<span class="token keyword">import</span> pytest

<span class="token decorator annotation punctuation">@pytest<span class="token punctuation">.</span>fixture</span><span class="token punctuation">(</span>scope<span class="token operator">=</span><span class="token string">&#39;module&#39;</span><span class="token punctuation">,</span> autouse<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>

<span class="token keyword">def</span> <span class="token function">module_setup_teardown</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>

    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&#39;### Setup module ###&#39;</span><span class="token punctuation">)</span>

    <span class="token comment"># æ‰§è¡Œæ¨¡å—çº§åˆ«çš„ setup</span>

    <span class="token keyword">yield</span>

    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&#39;### Teardown module ###&#39;</span><span class="token punctuation">)</span>

    <span class="token comment"># æ‰§è¡Œæ¨¡å—çº§åˆ«çš„ teardown</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ<code>module_setup_teardown</code> fixture è¢«æ ‡è®°ä¸º <code>scope=&#39;module&#39;</code>ï¼Œè¿™æ„å‘³ç€å®ƒçš„ setup éƒ¨åˆ†ä¼šåœ¨æ¨¡å—ä¸­çš„ç¬¬ä¸€ä¸ªæµ‹è¯•å¼€å§‹ä¹‹å‰æ‰§è¡Œï¼Œè€Œå®ƒçš„ teardown éƒ¨åˆ†ä¼šåœ¨æ¨¡å—ä¸­çš„æ‰€æœ‰æµ‹è¯•å®Œæˆåæ‰§è¡Œã€‚</p><p><strong>æ–¹æ³•çº§åˆ«çš„ setup å’Œ teardown</strong></p><p>æ–¹æ³•çº§åˆ«çš„ setup å’Œ teardown å¯¹æ¯ä¸ªæµ‹è¯•å‡½æ•°ï¼ˆå³æ¯ä¸ªä»¥ <code>test_</code> å¼€å¤´çš„å‡½æ•°ï¼‰éƒ½ä¼šæ‰§è¡Œä¸€æ¬¡ã€‚è¿™æ„å‘³ç€å¦‚æœæœ‰å¤šä¸ªæµ‹è¯•å‡½æ•°ï¼Œæ¯ä¸ªæµ‹è¯•å‡½æ•°ä¹‹å‰éƒ½ä¼šæ‰§è¡Œ setupï¼Œä¹‹åéƒ½ä¼šæ‰§è¡Œ teardownã€‚</p><p>åœ¨ <code>pytest</code> ä¸­ï¼Œå‡½æ•°çº§åˆ«çš„ fixture å¯ä»¥ç”¨æ¥å®ç°æ–¹æ³•çº§åˆ«çš„ setup å’Œ teardownï¼š</p><div class="language-python line-numbers-mode" data-ext="py" data-title="py"><pre class="language-python"><code>
<span class="token comment"># test_function.py</span>

<span class="token keyword">import</span> pytest

<span class="token decorator annotation punctuation">@pytest<span class="token punctuation">.</span>fixture</span><span class="token punctuation">(</span>autouse<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>

<span class="token keyword">def</span> <span class="token function">function_setup_teardown</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>

    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&#39;### Setup function ###&#39;</span><span class="token punctuation">)</span>

    <span class="token comment"># æ‰§è¡Œæ–¹æ³•çº§åˆ«çš„ setup</span>

    <span class="token keyword">yield</span>

    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&#39;### Teardown function ###&#39;</span><span class="token punctuation">)</span>

    <span class="token comment"># æ‰§è¡Œæ–¹æ³•çº§åˆ«çš„ teardown</span>

<span class="token keyword">def</span> <span class="token function">test_function1</span><span class="token punctuation">(</span>function_setup_teardown<span class="token punctuation">)</span><span class="token punctuation">:</span>

    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&#39;Running test_function1&#39;</span><span class="token punctuation">)</span>

<span class="token keyword">def</span> <span class="token function">test_function2</span><span class="token punctuation">(</span>function_setup_teardown<span class="token punctuation">)</span><span class="token punctuation">:</span>

    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&#39;Running test_function2&#39;</span><span class="token punctuation">)</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ<code>function_setup_teardown</code> fixture æ²¡æœ‰æŒ‡å®š <code>scope</code> å‚æ•°ï¼Œé»˜è®¤ä¸º <code>function</code> çº§åˆ«ï¼Œè¿™æ„å‘³ç€å®ƒçš„ setup éƒ¨åˆ†ä¼šåœ¨æ¯ä¸ªæµ‹è¯•å‡½æ•°å¼€å§‹ä¹‹å‰æ‰§è¡Œï¼Œè€Œå®ƒçš„ teardown éƒ¨åˆ†ä¼šåœ¨æ¯ä¸ªæµ‹è¯•å‡½æ•°å®Œæˆåæ‰§è¡Œã€‚</p><h5 id="é—®é¢˜2-å¦‚æœæˆ‘çš„æµ‹è¯•å‡½æ•°æ˜¯å°è£…åœ¨ç±»ä¸­çš„-é‚£ä¹ˆpytestä¼šè¿è¡Œè¿™äº›å‡½æ•°å—" tabindex="-1"><a class="header-anchor" href="#é—®é¢˜2-å¦‚æœæˆ‘çš„æµ‹è¯•å‡½æ•°æ˜¯å°è£…åœ¨ç±»ä¸­çš„-é‚£ä¹ˆpytestä¼šè¿è¡Œè¿™äº›å‡½æ•°å—"><span>é—®é¢˜2ï¼šå¦‚æœæˆ‘çš„æµ‹è¯•å‡½æ•°æ˜¯å°è£…åœ¨ç±»ä¸­çš„ï¼Œé‚£ä¹ˆpytestä¼šè¿è¡Œè¿™äº›å‡½æ•°å—ï¼Ÿ</span></a></h5><p>æ˜¯çš„ï¼Œ<code>pytest</code> ä¼šè¿è¡Œå°è£…åœ¨ç±»ä¸­çš„æµ‹è¯•å‡½æ•°ã€‚åœ¨ <code>pytest</code> ä¸­ï¼Œä½ å¯ä»¥å°†æµ‹è¯•å‡½æ•°å®šä¹‰ä¸ºç±»çš„æ–¹æ³•ï¼Œè¿™äº›ç±»ç§°ä¸ºæµ‹è¯•ç±»ã€‚æµ‹è¯•ç±»ä¸­çš„æ–¹æ³•å¿…é¡»ä»¥ <code>test_</code> å¼€å¤´ï¼Œè¿™æ · <code>pytest</code> æ‰èƒ½è¯†åˆ«å®ƒä»¬ä¸ºæµ‹è¯•ç”¨ä¾‹ã€‚</p><p>ä¸‹é¢æ˜¯ä¸€ä¸ªä½¿ç”¨æµ‹è¯•ç±»çš„ç¤ºä¾‹ï¼š</p><div class="language-python line-numbers-mode" data-ext="py" data-title="py"><pre class="language-python"><code>
<span class="token keyword">import</span> pytest

<span class="token keyword">class</span> <span class="token class-name">TestExample</span><span class="token punctuation">:</span>

    <span class="token keyword">def</span> <span class="token function">test_method1</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>

        <span class="token keyword">assert</span> <span class="token number">1</span> <span class="token operator">==</span> <span class="token number">1</span>

    <span class="token keyword">def</span> <span class="token function">test_method2</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>

        <span class="token keyword">assert</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">2</span>
        
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ<code>TestExample</code> ç±»åŒ…å«äº†ä¸¤ä¸ªæµ‹è¯•æ–¹æ³• <code>test_method1</code> å’Œ <code>test_method2</code>ã€‚<code>pytest</code> ä¼šè‡ªåŠ¨æ£€æµ‹è¿™äº›æ–¹æ³•å¹¶è¿è¡Œå®ƒä»¬ã€‚</p><p>ä½ ä¹Ÿå¯ä»¥åœ¨æµ‹è¯•ç±»ä¸­ä½¿ç”¨ fixturesï¼Œé€šè¿‡å°†å®ƒä»¬ä½œä¸ºå‚æ•°ä¼ é€’ç»™æµ‹è¯•æ–¹æ³•ï¼š</p><div class="language-python line-numbers-mode" data-ext="py" data-title="py"><pre class="language-python"><code>
<span class="token keyword">import</span> pytest

<span class="token decorator annotation punctuation">@pytest<span class="token punctuation">.</span>fixture</span>

<span class="token keyword">def</span> <span class="token function">supply_AA_BB_CC</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>

    aa <span class="token operator">=</span> <span class="token number">25</span>

    bb <span class="token operator">=</span> <span class="token number">35</span>

    cc <span class="token operator">=</span> <span class="token number">45</span>

    <span class="token keyword">return</span> <span class="token punctuation">[</span>aa<span class="token punctuation">,</span> bb<span class="token punctuation">,</span> cc<span class="token punctuation">]</span>

<span class="token keyword">class</span> <span class="token class-name">TestComparisons</span><span class="token punctuation">:</span>

    <span class="token keyword">def</span> <span class="token function">test_compare</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> supply_AA_BB_CC<span class="token punctuation">)</span><span class="token punctuation">:</span>

        aa<span class="token punctuation">,</span> bb<span class="token punctuation">,</span> cc <span class="token operator">=</span> supply_AA_BB_CC

        <span class="token keyword">assert</span> aa <span class="token operator">&lt;</span> bb

        <span class="token keyword">assert</span> bb <span class="token operator">&lt;</span> cc

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ<code>supply_AA_BB_CC</code> fixture è¢«ç”¨äº <code>TestComparisons</code> ç±»ä¸­çš„ <code>test_compare</code> æ–¹æ³•ã€‚<code>pytest</code> ä¼šè‡ªåŠ¨è°ƒç”¨ fixture å¹¶å°†å…¶è¿”å›çš„å€¼ä¼ é€’ç»™æµ‹è¯•æ–¹æ³•ã€‚</p><p><strong>æµ‹è¯•ç±»è¿˜å¯ä»¥æœ‰ setup å’Œ teardown æ–¹æ³•</strong>ï¼Œè¿™äº›æ–¹æ³•åœ¨æ¯ä¸ªæµ‹è¯•æ–¹æ³•æ‰§è¡Œå‰åä¼šè¢«è°ƒç”¨ã€‚ä½ å¯ä»¥ä½¿ç”¨ <code>@classmethod</code> è£…é¥°å™¨æ¥å®šä¹‰ç±»çº§åˆ«çš„ setup å’Œ teardown æ–¹æ³•ï¼Œæˆ–è€…**ä½¿ç”¨ <strong><strong>setup_method</strong></strong> å’Œ **<strong>teardown_method</strong>ï¼ˆæˆ–è€… <code>setUp</code> å’Œ <code>tearDown</code>ï¼Œä¸ <code>unittest</code> å…¼å®¹ï¼‰æ¥å®šä¹‰æ–¹æ³•çº§åˆ«çš„ setup å’Œ teardownï¼š</p><div class="language-python line-numbers-mode" data-ext="py" data-title="py"><pre class="language-python"><code>
<span class="token keyword">import</span> pytest

<span class="token keyword">class</span> <span class="token class-name">TestExample</span><span class="token punctuation">:</span>

    <span class="token decorator annotation punctuation">@classmethod</span>
    
    <span class="token keyword">def</span> <span class="token function">setup_class</span><span class="token punctuation">(</span>cls<span class="token punctuation">)</span><span class="token punctuation">:</span>

        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;Setup class&quot;</span><span class="token punctuation">)</span>

    <span class="token decorator annotation punctuation">@classmethod</span>

    <span class="token keyword">def</span> <span class="token function">teardown_class</span><span class="token punctuation">(</span>cls<span class="token punctuation">)</span><span class="token punctuation">:</span>

        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;Teardown class&quot;</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">setup_method</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>

        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;Setup method&quot;</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">teardown_method</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>

        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;Teardown method&quot;</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">test_method1</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>

        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;Running test_method1&quot;</span><span class="token punctuation">)</span>

        <span class="token keyword">assert</span> <span class="token number">1</span> <span class="token operator">==</span> <span class="token number">1</span>

    <span class="token keyword">def</span> <span class="token function">test_method2</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>

        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;Running test_method2&quot;</span><span class="token punctuation">)</span>

        <span class="token keyword">assert</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">2</span>
        
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ<code>setup_class</code> å’Œ <code>teardown_class</code> åˆ†åˆ«åœ¨ç±»ä¸­çš„æ‰€æœ‰æµ‹è¯•æ–¹æ³•æ‰§è¡Œå‰åå„è¿è¡Œä¸€æ¬¡ï¼Œè€Œ <code>setup_method</code> å’Œ <code>teardown_method</code> åˆ™åœ¨æ¯ä¸ªæµ‹è¯•æ–¹æ³•æ‰§è¡Œå‰åå„è¿è¡Œä¸€æ¬¡ã€‚</p><h5 id="é—®é¢˜3-å¦‚ä½•å»ºç«‹fixtureçš„ä¾èµ–å…³ç³»" tabindex="-1"><a class="header-anchor" href="#é—®é¢˜3-å¦‚ä½•å»ºç«‹fixtureçš„ä¾èµ–å…³ç³»"><span>é—®é¢˜3ï¼šå¦‚ä½•å»ºç«‹fixtureçš„ä¾èµ–å…³ç³»ï¼Ÿ</span></a></h5><p>åœ¨pytestä¸­ï¼ŒæŒ‡å®šfixtureçš„ä¾èµ–å…³ç³»éå¸¸ç®€å•ã€‚ä½ åªéœ€è¦åœ¨fixtureå‡½æ•°ä¸­å°†å…¶ä¾èµ–çš„å…¶ä»–fixtureä½œä¸ºå‚æ•°ä¼ å…¥å³å¯ã€‚pytestä¼šè‡ªåŠ¨å¤„ç†è¿™äº›ä¾èµ–å…³ç³»ï¼Œç¡®ä¿åœ¨éœ€è¦æ—¶æŒ‰é¡ºåºæ‰§è¡Œå®ƒä»¬ã€‚</p><p>ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼Œå±•ç¤ºäº†å¦‚ä½•æŒ‡å®šfixtureä¹‹é—´çš„ä¾èµ–å…³ç³»ï¼š</p><div class="language-Plain line-numbers-mode" data-ext="Plain" data-title="Plain"><pre class="language-Plain"><code>
import pytest

@pytest.fixture

def fixture_A():

    print(&quot;Setup A&quot;)

    yield

    print(&quot;Teardown A&quot;)

@pytest.fixture

def fixture_B(fixture_A):

    print(&quot;Setup B&quot;)

    yield

    print(&quot;Teardown B&quot;)

@pytest.fixture

def fixture_C(fixture_B):

    print(&quot;Setup C&quot;)

    yield

    print(&quot;Teardown C&quot;)

def test_example(fixture_C):

    print(&quot;Running test&quot;)

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ<code>fixture_B</code>ä¾èµ–äº<code>fixture_A</code>ï¼Œè€Œ<code>fixture_C</code>ä¾èµ–äº<code>fixture_B</code>ã€‚å½“<code>test_example</code>è¿è¡Œæ—¶ï¼Œpytestä¼šæŒ‰ç…§ä»¥ä¸‹é¡ºåºæ‰§è¡Œfixturesï¼š</p><ol><li><p><code>fixture_A</code>çš„setup</p></li><li><p><code>fixture_B</code>çš„setupï¼ˆä¾èµ–äº<code>fixture_A</code>ï¼‰</p></li><li><p><code>fixture_C</code>çš„setupï¼ˆä¾èµ–äº<code>fixture_B</code>ï¼‰</p></li><li><p>æ‰§è¡Œæµ‹è¯•å‡½æ•°<code>test_example</code></p></li><li><p><code>fixture_C</code>çš„teardown</p></li><li><p><code>fixture_B</code>çš„teardown</p></li><li><p><code>fixture_A</code>çš„teardown</p></li></ol><p>é€šè¿‡è¿™ç§æ–¹å¼ï¼Œä½ å¯ä»¥åˆ›å»ºä¸€ä¸ªfixtureé“¾ï¼Œå…¶ä¸­æ¯ä¸ªfixtureéƒ½å¯ä»¥ä¾èµ–äºå‰ä¸€ä¸ªfixtureã€‚è¿™ä½¿å¾—è®¾ç½®æµ‹è¯•ç¯å¢ƒå˜å¾—æ›´åŠ çµæ´»å’Œæ¨¡å—åŒ–ã€‚å¦‚æœä½ æƒ³è¦æ”¹å˜fixtureçš„æ‰§è¡Œé¡ºåºï¼Œåªéœ€è¦è°ƒæ•´fixtureå‚æ•°çš„é¡ºåºå³å¯ã€‚</p><h4 id="" tabindex="-1"><a class="header-anchor" href="#"><span></span></a></h4><ol start="4"><li><strong>æ’ä»¶</strong>ï¼š</li></ol><ul><li><code>pytest</code> æœ‰å¤§é‡çš„æ’ä»¶ï¼Œå¯ä»¥ç”¨æ¥åšå„ç§å„æ ·çš„äº‹æƒ…ï¼Œä¾‹å¦‚æµ‹è¯•è¦†ç›–ç‡ï¼ˆ<code>pytest-cov</code>ï¼‰ï¼Œå¹¶è¡Œæµ‹è¯•ï¼ˆ<code>pytest-xdist</code>ï¼‰ç­‰ã€‚</li></ul><ol start="5"><li><strong>é’©å­å‡½æ•°</strong>ï¼š</li></ol><ul><li><code>pytest</code> æä¾›äº†é’©å­å‡½æ•°ï¼Œå…è®¸ç”¨æˆ·è‡ªå®šä¹‰æµ‹è¯•çš„è¡Œä¸ºã€‚</li></ul><h2 id="å…«ã€æ—¥å¿—è®°å½•çš„æ ‡å‡†åº“â€”â€”logging" tabindex="-1"><a class="header-anchor" href="#å…«ã€æ—¥å¿—è®°å½•çš„æ ‡å‡†åº“â€”â€”logging"><span>å…«ã€æ—¥å¿—è®°å½•çš„æ ‡å‡†åº“â€”â€”logging</span></a></h2><p>åœ¨Pythonä¸­ï¼Œ<code>logging</code>æ¨¡å—æ˜¯ä¸€ä¸ªç”¨äºæ—¥å¿—è®°å½•çš„æ ‡å‡†åº“ï¼Œå®ƒæä¾›äº†çµæ´»çš„æ—¥å¿—è®°å½•ç³»ç»Ÿã€‚<code>Logger</code>æ˜¯è¯¥æ¨¡å—ä¸­çš„ä¸€ä¸ªæ ¸å¿ƒç»„ä»¶ï¼Œç”¨äºæš´éœ²è®°å½•æ—¥å¿—çš„æ–¹æ³•ã€‚ä¸‹é¢å°†è¯¦ç»†ä»‹ç»<code>Logger</code>çš„ç”¨æ³•ã€‚</p><h3 id="åŸºç¡€ç”¨æ³•-1" tabindex="-1"><a class="header-anchor" href="#åŸºç¡€ç”¨æ³•-1"><span>åŸºç¡€ç”¨æ³•</span></a></h3><ol><li><strong>å¯¼å…¥æ¨¡å—</strong></li></ol><p>é¦–å…ˆï¼Œä½ éœ€è¦å¯¼å…¥<code>logging</code>æ¨¡å—ã€‚</p><div class="language-Plain line-numbers-mode" data-ext="Plain" data-title="Plain"><pre class="language-Plain"><code>
import logging

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>è·å–Loggerå¯¹è±¡</strong></p><p>ä½¿ç”¨<code>logging.getLogger(name)</code>æ¥è·å–ä¸€ä¸ª<code>Logger</code>å¯¹è±¡ï¼Œå…¶ä¸­<code>name</code>æ˜¯æ—¥å¿—å™¨çš„åç§°ï¼Œç”¨äºæ ‡è¯†ä¸åŒçš„æ—¥å¿—å™¨ã€‚</p><p>python</p><div class="language-Plain line-numbers-mode" data-ext="Plain" data-title="Plain"><pre class="language-Plain"><code>
logger = logging.getLogger(&#39;example_logger&#39;)

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>è®¾ç½®æ—¥å¿—çº§åˆ«</strong></p><p>æ—¥å¿—å™¨æœ‰å¤šä¸ªæ—¥å¿—çº§åˆ«ï¼Œä¾‹å¦‚ï¼šDEBUGã€INFOã€WARNINGã€ERRORå’ŒCRITICALã€‚ä½ å¯ä»¥é€šè¿‡<code>setLevel()</code>æ–¹æ³•è®¾ç½®æ—¥å¿—å™¨çš„çº§åˆ«ã€‚</p><p>python</p><div class="language-Plain line-numbers-mode" data-ext="Plain" data-title="Plain"><pre class="language-Plain"><code>
logger.setLevel(logging.INFO)

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æ·»åŠ Handler</strong></p><p><code>Handler</code>è´Ÿè´£å°†æ—¥å¿—æ¶ˆæ¯å‘é€åˆ°æŒ‡å®šçš„ç›®çš„åœ°ã€‚ä½ éœ€è¦æ·»åŠ è‡³å°‘ä¸€ä¸ª<code>Handler</code>åˆ°<code>Logger</code>ã€‚</p><p>python</p><div class="language-Plain line-numbers-mode" data-ext="Plain" data-title="Plain"><pre class="language-Plain"><code>
handler = logging.StreamHandler()

logger.addHandler(handler)

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>è®¾ç½®Handlerçš„æ—¥å¿—çº§åˆ«</strong></p><p>åŒæ ·ï¼Œ<code>Handler</code>ä¹Ÿæœ‰æ—¥å¿—çº§åˆ«ï¼Œç”¨äºè¿‡æ»¤æ¶ˆæ¯ã€‚</p><p>python</p><div class="language-Plain line-numbers-mode" data-ext="Plain" data-title="Plain"><pre class="language-Plain"><code>
handler.setLevel(logging.INFO)

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æ·»åŠ Formatter</strong></p><p><code>Formatter</code>ç”¨äºæŒ‡å®šæ—¥å¿—è®°å½•çš„æ ¼å¼ã€‚</p><p>python</p><div class="language-Plain line-numbers-mode" data-ext="Plain" data-title="Plain"><pre class="language-Plain"><code>
formatter = logging.Formatter(&#39;%(asctime)s - %(name)s - %(levelname)s - %(message)s&#39;)

handler.setFormatter(formatter)

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>è®°å½•æ—¥å¿—</strong></p><p>æœ€åï¼Œä½ å¯ä»¥ä½¿ç”¨<code>Logger</code>å¯¹è±¡çš„å¤šç§æ–¹æ³•è®°å½•æ—¥å¿—ã€‚</p><p>python</p><div class="language-Plain line-numbers-mode" data-ext="Plain" data-title="Plain"><pre class="language-Plain"><code>
logger.debug(&#39;This is a debug message&#39;)

logger.info(&#39;This is an info message&#39;)

logger.warning(&#39;This is a warning message&#39;)

logger.error(&#39;This is an error message&#39;)

logger.critical(&#39;This is a critical message&#39;)

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="è¿›é˜¶ç”¨æ³•" tabindex="-1"><a class="header-anchor" href="#è¿›é˜¶ç”¨æ³•"><span>è¿›é˜¶ç”¨æ³•</span></a></h3><ul><li><strong>ä½¿ç”¨å¤šä¸ªLogger</strong></li></ul><p>ä½ å¯ä»¥åˆ›å»ºå¤šä¸ª<code>Logger</code>å¯¹è±¡ï¼Œæ¯ä¸ªå¯¹è±¡å¯ä»¥æœ‰ä¸åŒçš„åç§°å’Œè®¾ç½®ã€‚</p><ul><li><strong>ä½¿ç”¨å¤šä¸ªHandler</strong></li></ul><p>ä½ å¯ä»¥å°†å¤šä¸ª<code>Handler</code>æ·»åŠ åˆ°åŒä¸€ä¸ª<code>Logger</code>ï¼Œå®ç°æ—¥å¿—çš„å¤šç›®çš„åœ°è¾“å‡ºã€‚</p><p>åœ¨Pythonçš„<code>logging</code>æ¨¡å—ä¸­ï¼Œ<code>Handler</code>æ˜¯ä¸€ä¸ªé‡è¦çš„ç»„ä»¶ï¼Œå®ƒè´Ÿè´£å°†æ—¥å¿—æ¶ˆæ¯å‘é€åˆ°æŒ‡å®šçš„ç›®çš„åœ°ã€‚æ¯ä¸ª<code>Handler</code>å¯ä»¥æŒ‡å®šè‡ªå·±çš„æ—¥å¿—çº§åˆ«ï¼Œå¹¶ä¸”å¯ä»¥æœ‰è‡ªå·±çš„<code>Formatter</code>æ¥å®šä¹‰æ—¥å¿—çš„æ ¼å¼ã€‚</p><p>ä¸ºä»€ä¹ˆéœ€è¦<code>Handler</code>å‘¢ï¼ŸåŸå› æœ‰ä»¥ä¸‹å‡ ç‚¹ï¼š</p><ol><li><p><strong>å¤šç›®çš„åœ°è¾“å‡º</strong>ï¼šä½ å¯ä»¥å°†æ—¥å¿—è¾“å‡ºåˆ°å¤šä¸ªç›®çš„åœ°ï¼Œä¾‹å¦‚æ§åˆ¶å°ã€æ–‡ä»¶ã€ç½‘ç»œç­‰ã€‚æ¯ä¸ªç›®çš„åœ°éƒ½å¯ä»¥é€šè¿‡ä¸€ä¸ª<code>Handler</code>æ¥ç®¡ç†ã€‚</p></li><li><p><strong>çµæ´»çš„æ—¥å¿—ç®¡ç†</strong>ï¼šé€šè¿‡æ·»åŠ æˆ–åˆ é™¤<code>Handler</code>ï¼Œä½ å¯ä»¥è½»æ¾åœ°æ”¹å˜æ—¥å¿—çš„è¾“å‡ºä½ç½®å’Œæ–¹å¼ï¼Œè€Œä¸éœ€è¦ä¿®æ”¹åº”ç”¨ç¨‹åºçš„å…¶å®ƒéƒ¨åˆ†ã€‚</p></li><li><p><strong>åˆ†çº§æ§åˆ¶</strong>ï¼šæ¯ä¸ª<code>Handler</code>å¯ä»¥è®¾ç½®è‡ªå·±çš„æ—¥å¿—çº§åˆ«ï¼Œè¿™æ ·ä½ å°±å¯ä»¥å¯¹ä¸åŒç›®çš„åœ°åº”ç”¨ä¸åŒçš„è¿‡æ»¤è§„åˆ™ã€‚</p></li><li><p><strong>æ—¥å¿—åˆ†å‘</strong>ï¼š<code>Logger</code>å¯¹è±¡ä¼šå°†å…¶æ—¥å¿—æ¶ˆæ¯åˆ†å‘ç»™æ‰€æœ‰å…³è”çš„<code>Handler</code>ï¼Œè¿™æ ·ä½ åªéœ€è¦åœ¨ä¸€ä¸ªåœ°æ–¹è®°å½•æ—¥å¿—ï¼Œå°±å¯ä»¥åŒæ—¶åœ¨å¤šä¸ªåœ°æ–¹çœ‹åˆ°ã€‚</p></li><li><p><strong>å¼‚æ­¥å¤„ç†</strong>ï¼šæŸäº›<code>Handler</code>æ”¯æŒå¼‚æ­¥è®°å½•æ—¥å¿—ï¼Œè¿™æ„å‘³ç€æ—¥å¿—è®°å½•ä¸ä¼šé˜»å¡åº”ç”¨ç¨‹åºçš„ä¸»çº¿ç¨‹ï¼Œä»è€Œæé«˜æ€§èƒ½ã€‚</p></li></ol><p>ä¾‹å¦‚ï¼Œå¦‚æœä½ æƒ³å°†æ—¥å¿—åŒæ—¶è¾“å‡ºåˆ°æ§åˆ¶å°å’Œæ–‡ä»¶ï¼Œä½ å¯ä»¥åˆ›å»ºä¸¤ä¸ª<code>Handler</code>ï¼Œä¸€ä¸ªç”¨äºæ§åˆ¶å°è¾“å‡ºï¼ˆ<code>StreamHandler</code>ï¼‰ï¼Œå¦ä¸€ä¸ªç”¨äºæ–‡ä»¶è¾“å‡ºï¼ˆ<code>FileHandler</code>ï¼‰ï¼š</p><div class="language-python line-numbers-mode" data-ext="py" data-title="py"><pre class="language-python"><code>
<span class="token keyword">import</span> logging

<span class="token comment"># åˆ›å»ºLogger</span>

logger <span class="token operator">=</span> logging<span class="token punctuation">.</span>getLogger<span class="token punctuation">(</span><span class="token string">&#39;example_logger&#39;</span><span class="token punctuation">)</span>

logger<span class="token punctuation">.</span>setLevel<span class="token punctuation">(</span>logging<span class="token punctuation">.</span>INFO<span class="token punctuation">)</span>

<span class="token comment"># åˆ›å»ºHandler</span>

console_handler <span class="token operator">=</span> logging<span class="token punctuation">.</span>StreamHandler<span class="token punctuation">(</span><span class="token punctuation">)</span>

file_handler <span class="token operator">=</span> logging<span class="token punctuation">.</span>FileHandler<span class="token punctuation">(</span><span class="token string">&#39;example.log&#39;</span><span class="token punctuation">)</span>

<span class="token comment"># è®¾ç½®Handlerçš„æ—¥å¿—çº§åˆ«</span>

console_handler<span class="token punctuation">.</span>setLevel<span class="token punctuation">(</span>logging<span class="token punctuation">.</span>INFO<span class="token punctuation">)</span>

file_handler<span class="token punctuation">.</span>setLevel<span class="token punctuation">(</span>logging<span class="token punctuation">.</span>ERROR<span class="token punctuation">)</span>

<span class="token comment"># åˆ›å»ºFormatter</span>

formatter <span class="token operator">=</span> logging<span class="token punctuation">.</span>Formatter<span class="token punctuation">(</span><span class="token string">&#39;%(asctime)s - %(name)s - %(levelname)s - %(message)s&#39;</span><span class="token punctuation">)</span>

<span class="token comment"># ä¸ºHandlerè®¾ç½®Formatter</span>

console_handler<span class="token punctuation">.</span>setFormatter<span class="token punctuation">(</span>formatter<span class="token punctuation">)</span>

file_handler<span class="token punctuation">.</span>setFormatter<span class="token punctuation">(</span>formatter<span class="token punctuation">)</span>

<span class="token comment"># å°†Handleræ·»åŠ åˆ°Logger</span>

logger<span class="token punctuation">.</span>addHandler<span class="token punctuation">(</span>console_handler<span class="token punctuation">)</span>

logger<span class="token punctuation">.</span>addHandler<span class="token punctuation">(</span>file_handler<span class="token punctuation">)</span>

<span class="token comment"># è®°å½•æ—¥å¿—</span>

logger<span class="token punctuation">.</span>info<span class="token punctuation">(</span><span class="token string">&#39;This message will go to console and file&#39;</span><span class="token punctuation">)</span>

logger<span class="token punctuation">.</span>error<span class="token punctuation">(</span><span class="token string">&#39;This error message will go to console and file&#39;</span><span class="token punctuation">)</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæ‰€æœ‰çš„<code>INFO</code>åŠä»¥ä¸Šçº§åˆ«çš„æ—¥å¿—éƒ½ä¼šè¾“å‡ºåˆ°æ§åˆ¶å°ï¼Œè€Œ<code>ERROR</code>åŠä»¥ä¸Šçš„æ—¥å¿—ä¼šåŒæ—¶è¾“å‡ºåˆ°æ§åˆ¶å°å’Œæ–‡ä»¶ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼Œä½ å¯ä»¥æ ¹æ®éœ€è¦çµæ´»åœ°é…ç½®æ—¥å¿—çš„è¾“å‡ºã€‚</p><ul><li><strong>ç»§æ‰¿æ—¥å¿—çº§åˆ«</strong></li></ul><p>å¦‚æœæ²¡æœ‰ä¸º<code>Logger</code>è®¾ç½®çº§åˆ«ï¼Œå®ƒä¼šç»§æ‰¿æœ€è¿‘çš„ç¥–å…ˆ<code>Logger</code>çš„çº§åˆ«ã€‚</p><ul><li><strong>é…ç½®æ–‡ä»¶</strong></li></ul><p>ä½ å¯ä»¥é€šè¿‡é…ç½®æ–‡ä»¶æ¥è®¾ç½®<code>Logger</code>ã€<code>Handler</code>ã€<code>Formatter</code>ç­‰ï¼Œè¿™æ ·ä¸éœ€è¦åœ¨ä»£ç ä¸­ç¡¬ç¼–ç ã€‚</p><h3 id="å®Œæ•´ç¤ºä¾‹" tabindex="-1"><a class="header-anchor" href="#å®Œæ•´ç¤ºä¾‹"><span>å®Œæ•´ç¤ºä¾‹</span></a></h3><p>python</p><div class="language-Plain line-numbers-mode" data-ext="Plain" data-title="Plain"><pre class="language-Plain"><code>
import logging

# åˆ›å»ºLogger

logger = logging.getLogger(&#39;example_logger&#39;)

logger.setLevel(logging.INFO)

# åˆ›å»ºHandler

console_handler = logging.StreamHandler()

console_handler.setLevel(logging.INFO)

# åˆ›å»ºFormatter

formatter = logging.Formatter(&#39;%(asctime)s - %(name)s - %(levelname)s - %(message)s&#39;)

console_handler.setFormatter(formatter)

# æ·»åŠ Handleråˆ°Logger

logger.addHandler(console_handler)

# è®°å½•æ—¥å¿—

logger.info(&#39;This is an info message&#39;)

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™ä¸ªç¤ºä¾‹å°†æ—¥å¿—è¾“å‡ºåˆ°æ§åˆ¶å°ï¼Œä½ å¯ä»¥æ ¹æ®éœ€è¦æ·»åŠ å…¶ä»–<code>Handler</code>ä»¥å®ç°ä¸åŒçš„æ—¥å¿—è¾“å‡ºæ–¹å¼ã€‚</p><h3 id="é™„å½•-formatterç±»" tabindex="-1"><a class="header-anchor" href="#é™„å½•-formatterç±»"><span>é™„å½•ï¼šFormatterç±»</span></a></h3><p>åœ¨Pythonçš„<code>logging</code>æ¨¡å—ä¸­ï¼Œ<code>Formatter</code>ç±»ç”¨äºæŒ‡å®šæ—¥å¿—è®°å½•çš„æ ¼å¼ã€‚å½“åˆ›å»ºä¸€ä¸ª<code>Formatter</code>å®ä¾‹æ—¶ï¼Œä½ éœ€è¦æä¾›ä¸€ä¸ªæ ¼å¼å­—ç¬¦ä¸²ï¼Œè¿™ä¸ªå­—ç¬¦ä¸²åŒ…å«äº†ä¸€äº›é¢„å®šä¹‰çš„æ ¼å¼åŒ–å­—æ®µï¼Œè¿™äº›å­—æ®µä¼šåœ¨æ—¥å¿—è®°å½•è¢«åˆ›å»ºæ—¶è¢«æ›¿æ¢ä¸ºç›¸åº”çš„å€¼ã€‚</p><p>åœ¨ä½ çš„ä¾‹å­ä¸­ï¼š</p><div class="language-Plain line-numbers-mode" data-ext="Plain" data-title="Plain"><pre class="language-Plain"><code>
formatter = logging.Formatter(&#39;%(asctime)s - %(name)s - %(levelname)s - %(message)s&#39;)

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™ä¸ªæ ¼å¼åŒ–å­—ç¬¦ä¸²åŒ…å«ä»¥ä¸‹å­—æ®µï¼š</p><ul><li><p><code>%(asctime)s</code>ï¼šæ—¥å¿—è®°å½•çš„æ—¶é—´ã€‚<code>asctime</code>æ˜¯æ—¥å¿—è®°å½•äº‹ä»¶çš„æ—¶é—´æˆ³ï¼Œæ ¼å¼åŒ–ä¸ºä¸€ä¸ªå¯è¯»çš„å­—ç¬¦ä¸²ã€‚é»˜è®¤æ ¼å¼æ˜¯<code>&quot;%Y-%m-%d %H:%M:%S,uuu&quot;</code>ï¼Œå…¶ä¸­<code>uuu</code>æ˜¯å¾®ç§’éƒ¨åˆ†ã€‚</p></li><li><p><code>%(name)s</code>ï¼šè®°å½•æ—¥å¿—çš„<code>Logger</code>çš„åç§°ã€‚</p></li><li><p><code>%(levelname)s</code>ï¼šæ—¥å¿—è®°å½•çš„çº§åˆ«åç§°ï¼ˆå¦‚<code>&quot;DEBUG&quot;</code>ã€<code>&quot;INFO&quot;</code>ã€<code>&quot;WARNING&quot;</code>ã€<code>&quot;ERROR&quot;</code>ã€<code>&quot;CRITICAL&quot;</code>ï¼‰ã€‚</p></li><li><p><code>%(message)s</code>ï¼šæ—¥å¿—è®°å½•çš„æ¶ˆæ¯æœ¬èº«ï¼Œä¹Ÿå°±æ˜¯<code>Logger</code>çš„<code>info()</code>ã€<code>debug()</code>ã€<code>warning()</code>ã€<code>error()</code>ç­‰æ–¹æ³•ä¸­æä¾›çš„æ–‡æœ¬ã€‚</p></li></ul><p>å½“ä½ å°†è¿™ä¸ª<code>Formatter</code>å®ä¾‹åº”ç”¨åˆ°<code>Handler</code>ä¸Šæ—¶ï¼Œ<code>Handler</code>ä¼šå°†æ¯ä¸ªæ—¥å¿—è®°å½•æŒ‰ç…§è¿™ä¸ªæ ¼å¼è¿›è¡Œæ ¼å¼åŒ–ï¼Œç„¶åè¾“å‡ºåˆ°ç›¸åº”çš„ç›®çš„åœ°ï¼ˆä¾‹å¦‚æ§åˆ¶å°æˆ–æ–‡ä»¶ï¼‰ã€‚è¿™æ ·ï¼Œæ¯æ¡æ—¥å¿—éƒ½ä¼šæŒ‰ç…§ä½ å®šä¹‰çš„æ ¼å¼æ¥æ˜¾ç¤ºæ—¶é—´ã€æ—¥å¿—å™¨åç§°ã€æ—¥å¿—çº§åˆ«å’Œæ—¥å¿—æ¶ˆæ¯ã€‚</p><p><code>Formatter</code>çš„æ ¼å¼å­—ç¬¦ä¸²ä¸­çš„<code>%</code>æ˜¯ä¸€ä¸ªæ ¼å¼åŒ–å ä½ç¬¦ï¼Œå®ƒç”¨äºåœ¨å­—ç¬¦ä¸²ä¸­æ’å…¥å˜é‡çš„å€¼ã€‚åœ¨<code>%</code>åé¢ç´§è·Ÿç€çš„å­—ç¬¦è¡¨ç¤ºè¦æ’å…¥çš„å˜é‡çš„ç±»å‹ã€‚ä¾‹å¦‚ï¼Œ<code>s</code>è¡¨ç¤ºå­—ç¬¦ä¸²ï¼ˆ<code>str</code>ç±»å‹ï¼‰ã€‚</p><p>å½“ä½ çœ‹åˆ°<code>%(name)s</code>è¿™æ ·çš„å ä½ç¬¦æ—¶ï¼Œ<code>name</code>æ˜¯ä¸€ä¸ªé”®ï¼Œå®ƒå‘Šè¯‰<code>logging</code>æ¨¡å—è¦æ’å…¥å“ªä¸ªå˜é‡çš„å€¼ã€‚<code>s</code>è¡¨ç¤ºè¿™ä¸ªå˜é‡çš„å€¼åº”è¯¥è¢«æ ¼å¼åŒ–ä¸ºä¸€ä¸ªå­—ç¬¦ä¸²ã€‚</p><p>è¿™é‡Œçš„<code>name</code>æ˜¯å¯¹åº”äºæ—¥å¿—è®°å½•å™¨åç§°çš„é”®ï¼Œ<code>logging</code>æ¨¡å—ä¼šç”¨å®é™…çš„æ—¥å¿—è®°å½•å™¨åç§°æ›¿æ¢è¿™ä¸ªå ä½ç¬¦ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½ çš„æ—¥å¿—è®°å½•å™¨åç§°æ˜¯<code>&quot;my_logger&quot;</code>ï¼Œé‚£ä¹ˆ<code>%(name)s</code>ä¼šè¢«æ›¿æ¢ä¸ºå­—ç¬¦ä¸²<code>&quot;my_logger&quot;</code>ã€‚</p><p>åœ¨<code>logging</code>æ¨¡å—çš„æ ¼å¼å­—ç¬¦ä¸²ä¸­ï¼Œå¸¸ç”¨çš„å ä½ç¬¦å’Œå®ƒä»¬çš„å«ä¹‰åŒ…æ‹¬ï¼š</p><ul><li><p><code>%s</code>ï¼šå­—ç¬¦ä¸²</p></li><li><p><code>%d</code>ï¼šæ•´æ•°ï¼ˆ<code>int</code>ç±»å‹ï¼‰</p></li><li><p><code>%f</code>ï¼šæµ®ç‚¹æ•°ï¼ˆ<code>float</code>ç±»å‹ï¼‰</p></li><li><p><code>%r</code>ï¼šå­—ç¬¦ä¸²ï¼Œä½¿ç”¨<code>repr()</code>è€Œä¸æ˜¯<code>str()</code>æ¥è½¬æ¢å˜é‡</p></li><li><p><code>%()</code>ï¼šä½¿ç”¨<code>str.format()</code>é£æ ¼çš„æ ¼å¼åŒ–</p></li></ul><p>å› æ­¤ï¼Œ<code>%(name)s</code>ä¸­çš„<code>s</code>åªæ˜¯æŒ‡æ˜<code>name</code>å˜é‡çš„å€¼åº”è¯¥è¢«æ ¼å¼åŒ–ä¸ºä¸€ä¸ªå­—ç¬¦ä¸²ã€‚åœ¨<code>logging</code>çš„ä¸Šä¸‹æ–‡ä¸­ï¼Œè¿™æ˜¯æœ€å¸¸è§çš„ç”¨æ³•ï¼Œå› ä¸ºå¤§å¤šæ•°æ—¥å¿—è®°å½•çš„ç»„ä»¶ï¼ˆå¦‚æ—¶é—´ã€æ—¥å¿—å™¨åç§°ã€æ—¥å¿—çº§åˆ«ç­‰ï¼‰éƒ½æ˜¯å­—ç¬¦ä¸²ç±»å‹çš„ã€‚</p><h2 id="ä¹ã€ä½¿ç”¨allureäº§ç”Ÿæµ‹è¯•ç»“æœæŠ¥å‘Š" tabindex="-1"><a class="header-anchor" href="#ä¹ã€ä½¿ç”¨allureäº§ç”Ÿæµ‹è¯•ç»“æœæŠ¥å‘Š"><span>ä¹ã€ä½¿ç”¨allureäº§ç”Ÿæµ‹è¯•ç»“æœæŠ¥å‘Š</span></a></h2><h3 id="allureçš„å®‰è£…å’Œä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#allureçš„å®‰è£…å’Œä½¿ç”¨"><span>Allureçš„å®‰è£…å’Œä½¿ç”¨</span></a></h3><p><code>Allure</code> æ˜¯ä¸€ä¸ªçµæ´»çš„ã€è½»é‡çº§çš„æµ‹è¯•æŠ¥å‘Šå·¥å…·ï¼Œå®ƒæä¾›äº†ä¸°å¯Œçš„æ’ä»¶å’Œè¯¦ç»†çš„æµ‹è¯•ç»“æœã€‚å®ƒæ”¯æŒå¤šç§æµ‹è¯•æ¡†æ¶ï¼ŒåŒ…æ‹¬ <code>pytest</code>ã€<code>JUnit</code>ã€<code>TestNG</code> ç­‰ã€‚ä»¥ä¸‹æ˜¯ä¸€äº› <code>Allure</code> çš„å¸¸è§ç”¨æ³•ï¼š</p><p><strong>å®‰è£… Allure</strong>ï¼š</p><ul><li>ä½¿ç”¨ <code>pip</code> å®‰è£… Allure-Pytest æ’ä»¶ï¼š</li></ul><p>bash</p><div class="language-Plain line-numbers-mode" data-ext="Plain" data-title="Plain"><pre class="language-Plain"><code>pip install allure-pytest
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>ç”Ÿæˆ Allure æŠ¥å‘Š</strong>ï¼š</p><ul><li>åœ¨ <code>pytest</code> æµ‹è¯•ä¸­æ·»åŠ  <code>--alluredir</code> é€‰é¡¹æ¥ç”Ÿæˆ Allure æŠ¥å‘Šï¼š</li></ul><p>bash</p><div class="language-Plain line-numbers-mode" data-ext="Plain" data-title="Plain"><pre class="language-Plain"><code>pytest --alluredir=/path/to/allure-results
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>æŸ¥çœ‹ Allure æŠ¥å‘Š</strong>ï¼š</p><p><code>allure</code> å‘½ä»¤æ¥è‡ªäº Allure Framework çš„å‘½ä»¤è¡Œå·¥å…·ã€‚è¿™ä¸ªå·¥å…·å…è®¸ä½ ç”Ÿæˆã€æŸ¥çœ‹å’Œæ¸…ç†æµ‹è¯•æŠ¥å‘Šã€‚è¦ä½¿ç”¨ <code>allure</code> å‘½ä»¤ï¼Œ<strong>ä½ éœ€è¦åœ¨ä½ çš„ç³»ç»Ÿä¸Šå®‰è£… Allure Frameworkã€‚</strong></p><div class="language-html line-numbers-mode" data-ext="html" data-title="html"><pre class="language-html"><code>https://github.com/allure-framework/allure2
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>ä½¿ç”¨ <code>allure serve</code> å‘½ä»¤æ¥æŸ¥çœ‹ç”Ÿæˆçš„æŠ¥å‘Šï¼š</li></ul><div class="language-Plain line-numbers-mode" data-ext="Plain" data-title="Plain"><pre class="language-Plain"><code>allure serve /path/to/allure-results
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>è¿™å°†å¯åŠ¨ä¸€ä¸ªæœ¬åœ°æœåŠ¡å™¨ï¼Œå¹¶è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨æ˜¾ç¤ºæŠ¥å‘Šã€‚</li></ul><p><strong>æ·»åŠ é™„ä»¶</strong>ï¼š</p><ul><li>åœ¨æµ‹è¯•ä¸­æ·»åŠ é™„ä»¶ï¼Œä¾‹å¦‚æˆªå›¾æˆ–æ—¥å¿—æ–‡ä»¶ï¼š</li></ul><div class="language-Plain line-numbers-mode" data-ext="Plain" data-title="Plain"><pre class="language-Plain"><code>allure.attach.file(&#39;/path/to/image.png&#39;, &#39;Image&#39;, attachment_type=allure.attachment_type.PNG)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>æ ‡è®°æµ‹è¯•ç”¨ä¾‹</strong>ï¼š</p><ul><li>ä½¿ç”¨ <code>@allure.feature</code>ã€<code>@allure.story</code>ã€<code>@allure.severity</code> ç­‰è£…é¥°å™¨æ¥æ ‡è®°æµ‹è¯•ç”¨ä¾‹ï¼š</li></ul><div class="language-Plain line-numbers-mode" data-ext="Plain" data-title="Plain"><pre class="language-Plain"><code>@allure.feature(&#39;Login&#39;)

@allure.story(&#39;Login with valid credentials&#39;)

@allure.severity(allure.severity_level.CRITICAL)

def test_login_with_valid_credentials():

    # æµ‹è¯•ä»£ç 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æ­¥éª¤æ—¥å¿—</strong>ï¼š</p><ul><li>ä½¿ç”¨ <code>allure.step</code> æ¥è®°å½•æµ‹è¯•æ­¥éª¤ï¼š</li></ul><div class="language-Plain line-numbers-mode" data-ext="Plain" data-title="Plain"><pre class="language-Plain"><code>@allure.feature(&#39;Login&#39;)

def test_login_with_valid_credentials():

    with allure.step(&#39;Navigate to login page&#39;):

        # å¯¼èˆªåˆ°ç™»å½•é¡µé¢çš„ä»£ç 

    with allure.step(&#39;Enter credentials&#39;):

        # è¾“å…¥å‡­æ®çš„ä»£ç 

    with allure.step(&#39;Submit login form&#39;):

        # æäº¤ç™»å½•è¡¨çš„ä»£ç 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ç¯å¢ƒä¿¡æ¯</strong>ï¼š</p><ul><li>ä½¿ç”¨ <code>allure.environment</code> åœ¨æŠ¥å‘Šä¸­æ·»åŠ ç¯å¢ƒä¿¡æ¯ï¼š</li></ul><div class="language-Plain line-numbers-mode" data-ext="Plain" data-title="Plain"><pre class="language-Plain"><code>allure.environment(host=&quot;localhost&quot;, browser=&quot;Chrome&quot;)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>å¤„ç†æµ‹è¯•å¤±è´¥</strong>ï¼š</p><ul><li>ä½¿ç”¨ <code>allure.attach</code> è®°å½•å¤±è´¥æ—¶çš„è¯¦ç»†ä¿¡æ¯ï¼š</li></ul><div class="language-Plain line-numbers-mode" data-ext="Plain" data-title="Plain"><pre class="language-Plain"><code>def test_example():

    try:

        assert 1 == 2

    except AssertionError:

        allure.attach(&#39;Error message&#39;, &#39;Test failed because 1 is not equal to 2&#39;)

        raise
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>å‘½ä»¤è¡Œå·¥å…·</strong>ï¼š</p><ul><li>ä½¿ç”¨ Allure å‘½ä»¤è¡Œå·¥å…·æ¥ç”Ÿæˆã€æŸ¥çœ‹å’Œæ¸…ç†æŠ¥å‘Šï¼š</li></ul><div class="language-Plain line-numbers-mode" data-ext="Plain" data-title="Plain"><pre class="language-Plain"><code>allure generate /path/to/allure-results -o /path/to/allure-report

allure open /path/to/allure-report

allure clean
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><p><strong>é›†æˆåˆ° CI/CD</strong>ï¼š</p></li><li><p>å°† Allure æŠ¥å‘Šé›†æˆåˆ°æŒç»­é›†æˆ/æŒç»­éƒ¨ç½²ï¼ˆCI/CDï¼‰æµç¨‹ä¸­ï¼Œä¾‹å¦‚ä½¿ç”¨ Jenkinsã€GitLab CIã€Travis CI ç­‰ã€‚</p></li></ul><h3 id="åœ¨æŠ¥å‘Šä¸­æ˜¾ç¤ºæœŸå¾…ç»“æœå’Œå®é™…ç»“æœ" tabindex="-1"><a class="header-anchor" href="#åœ¨æŠ¥å‘Šä¸­æ˜¾ç¤ºæœŸå¾…ç»“æœå’Œå®é™…ç»“æœ"><span>åœ¨æŠ¥å‘Šä¸­æ˜¾ç¤ºæœŸå¾…ç»“æœå’Œå®é™…ç»“æœ</span></a></h3><p>åœ¨AllureæŠ¥å‘Šä¸­ï¼ŒæœŸå¾…ç»“æœï¼ˆExpected Resultï¼‰å’Œå®é™…ç»“æœï¼ˆActual Resultï¼‰é€šå¸¸æ˜¯é€šè¿‡Allureçš„å‚æ•°å’Œé™„ä»¶åŠŸèƒ½æ¥å±•ç¤ºçš„ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å¸¸è§çš„æ–¹æ³•æ¥åœ¨AllureæŠ¥å‘Šä¸­æ˜¾ç¤ºæœŸå¾…ç»“æœå’Œå®é™…ç»“æœï¼š</p><ol><li>ä½¿ç”¨å‚æ•°ï¼ˆParametersï¼‰: ä½ å¯ä»¥ä½¿ç”¨Allureçš„å‚æ•°åŠŸèƒ½æ¥æ·»åŠ æœŸå¾…ç»“æœå’Œå®é™…ç»“æœä½œä¸ºæµ‹è¯•ä¿¡æ¯çš„å…ƒæ•°æ®ã€‚è¿™äº›å‚æ•°ä¼šåœ¨æµ‹è¯•ç»“æœä¸­æ˜¾ç¤ºã€‚</li></ol><div class="language-python line-numbers-mode" data-ext="py" data-title="py"><pre class="language-python"><code><span class="token keyword">import</span> os

<span class="token keyword">import</span> allure

<span class="token keyword">import</span> pytest

<span class="token keyword">def</span> <span class="token function">test_add_numbers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>

    <span class="token keyword">with</span> allure<span class="token punctuation">.</span>step<span class="token punctuation">(</span><span class="token string">&quot;Define expected results&quot;</span><span class="token punctuation">)</span><span class="token punctuation">:</span>

        expected_result <span class="token operator">=</span> <span class="token number">10</span>

        allure<span class="token punctuation">.</span>attach<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;Expected result: </span><span class="token interpolation"><span class="token punctuation">{</span>expected_result<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">&quot;Expected Results&quot;</span><span class="token punctuation">)</span>

    actual_result <span class="token operator">=</span> add_numbers<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span>

    <span class="token keyword">with</span> allure<span class="token punctuation">.</span>step<span class="token punctuation">(</span><span class="token string">&quot;Attach actual results&quot;</span><span class="token punctuation">)</span><span class="token punctuation">:</span>

        allure<span class="token punctuation">.</span>attach<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;Actual result: </span><span class="token interpolation"><span class="token punctuation">{</span>actual_result<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">&quot;Actual Results&quot;</span><span class="token punctuation">)</span>

    <span class="token keyword">assert</span> expected_result <span class="token operator">==</span> actual_result

<span class="token keyword">def</span> <span class="token function">add_numbers</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">:</span>

    <span class="token keyword">return</span> a <span class="token operator">+</span> b

<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">&quot;__main__&quot;</span><span class="token punctuation">:</span>

    pytest<span class="token punctuation">.</span>main<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;--alluredir&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;./reports&#39;</span><span class="token punctuation">,</span> __file__<span class="token punctuation">]</span><span class="token punctuation">)</span>

    os<span class="token punctuation">.</span>system<span class="token punctuation">(</span><span class="token string">&#39;allure serve reports&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ‰§è¡Œåçš„ç»“æœä¸ºï¼š</p><h3 id="ä½œä¸š-ç™»å½•æµ‹è¯•ç»ƒä¹ " tabindex="-1"><a class="header-anchor" href="#ä½œä¸š-ç™»å½•æµ‹è¯•ç»ƒä¹ "><span>ä½œä¸šï¼šç™»å½•æµ‹è¯•ç»ƒä¹ </span></a></h3><p>æˆ‘ä»¬å°†è®¿é—®ä¸€ä¸ªç¤ºä¾‹ç½‘ç«™<a href="https://www.saucedemo.com/" target="_blank" rel="noopener noreferrer">https://www.saucedemo.com/<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>ï¼Œæµ‹è¯•å…¶ç™»å½•åŠŸèƒ½ã€‚</p><div class="language-python line-numbers-mode" data-ext="py" data-title="py"><pre class="language-python"><code>
<span class="token keyword">import</span> csv

<span class="token keyword">import</span> os

<span class="token keyword">from</span> time <span class="token keyword">import</span> sleep

<span class="token keyword">import</span> allure

<span class="token keyword">import</span> pytest

<span class="token keyword">from</span> selenium <span class="token keyword">import</span> webdriver

<span class="token keyword">from</span> selenium<span class="token punctuation">.</span>webdriver<span class="token punctuation">.</span>common<span class="token punctuation">.</span>by <span class="token keyword">import</span> By

<span class="token keyword">def</span> <span class="token function">read_users_from_csv</span><span class="token punctuation">(</span>file_path<span class="token punctuation">)</span><span class="token punctuation">:</span>

    users <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>

    <span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span>file_path<span class="token punctuation">,</span> <span class="token string">&#39;r&#39;</span><span class="token punctuation">)</span> <span class="token keyword">as</span> csvfile<span class="token punctuation">:</span>

        reader <span class="token operator">=</span> csv<span class="token punctuation">.</span>DictReader<span class="token punctuation">(</span>csvfile<span class="token punctuation">)</span>

        <span class="token keyword">for</span> row <span class="token keyword">in</span> reader<span class="token punctuation">:</span>

            users<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token punctuation">(</span>row<span class="token punctuation">[</span><span class="token string">&#39;username&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> row<span class="token punctuation">[</span><span class="token string">&#39;password&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> row<span class="token punctuation">[</span><span class="token string">&#39;text&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

    <span class="token keyword">return</span> users

<span class="token keyword">class</span> <span class="token class-name">TestLogin</span><span class="token punctuation">:</span>

    <span class="token keyword">def</span> <span class="token function">setup_class</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>

        self<span class="token punctuation">.</span>driver <span class="token operator">=</span> webdriver<span class="token punctuation">.</span>Firefox<span class="token punctuation">(</span><span class="token punctuation">)</span>

        <span class="token comment"># set implicit wait time</span>

        <span class="token comment"># self.driver.implicitly_wait(10)  # seconds</span>

    <span class="token keyword">def</span> <span class="token function">teardown_class</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>

        self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>quit<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token decorator annotation punctuation">@pytest<span class="token punctuation">.</span>mark<span class="token punctuation">.</span>parametrize</span><span class="token punctuation">(</span><span class="token string">&quot;username, password, text&quot;</span><span class="token punctuation">,</span> read_users_from_csv<span class="token punctuation">(</span><span class="token string">&#39;users.csv&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">test_login</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> username<span class="token punctuation">,</span> password<span class="token punctuation">,</span> text<span class="token punctuation">)</span><span class="token punctuation">:</span>

        self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">&#39;https://www.saucedemo.com/&#39;</span><span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>find_element<span class="token punctuation">(</span>By<span class="token punctuation">.</span>CSS_SELECTOR<span class="token punctuation">,</span> <span class="token string">&quot;*[data-test=\&quot;username\&quot;]&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>send_keys<span class="token punctuation">(</span>username<span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>find_element<span class="token punctuation">(</span>By<span class="token punctuation">.</span>CSS_SELECTOR<span class="token punctuation">,</span> <span class="token string">&quot;*[data-test=\&quot;password\&quot;]&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>send_keys<span class="token punctuation">(</span>password<span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>find_element<span class="token punctuation">(</span>By<span class="token punctuation">.</span>CSS_SELECTOR<span class="token punctuation">,</span> <span class="token string">&quot;*[data-test=\&quot;login-button\&quot;]&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>click<span class="token punctuation">(</span><span class="token punctuation">)</span>

        <span class="token comment"># element = self.driver.find_element(By.CSS_SELECTOR, &quot;*[data-test=\&quot;title\&quot;]&quot;)</span>

        <span class="token comment"># assert self.driver.find_element(By.CSS_SELECTOR, &quot;*[data-test=\&quot;title\&quot;]&quot;).text == &quot;Products&quot;</span>

        <span class="token keyword">assert</span> text <span class="token keyword">in</span> self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>page_source

<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">&quot;__main__&quot;</span><span class="token punctuation">:</span>

    pytest<span class="token punctuation">.</span>main<span class="token punctuation">(</span><span class="token punctuation">[</span>__file__<span class="token punctuation">,</span> <span class="token string">&#39;--alluredir&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;./reports&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

    os<span class="token punctuation">.</span>system<span class="token punctuation">(</span><span class="token string">&#39;allure serve reports&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ³¨æ„ï¼šè¿è¡Œ<code>python TestLogin.py</code> , ä¸è¦è¿è¡Œ<code>pytest ...</code>ï¼Œå¦åˆ™ä¸ä¼šæ‰§è¡Œ<code>os.system(...)</code> ä¸€è¡Œã€‚</p><h2 id="åã€jenkinså®‰è£…å’Œä½¿ç”¨-å¾…ç»­" tabindex="-1"><a class="header-anchor" href="#åã€jenkinså®‰è£…å’Œä½¿ç”¨-å¾…ç»­"><span>åã€Jenkinså®‰è£…å’Œä½¿ç”¨ï¼ˆå¾…ç»­ï¼‰</span></a></h2><ol><li><p>ä¸‹è½½waråŒ…</p></li><li><p>å‘½ä»¤è¡Œä¸‹è¿è¡Œï¼š</p></li></ol><div class="language-python line-numbers-mode" data-ext="py" data-title="py"><pre class="language-python"><code>


java <span class="token operator">-</span>jar jenkins<span class="token punctuation">.</span>war <span class="token operator">-</span><span class="token operator">-</span>httpPort<span class="token operator">=</span><span class="token number">7780</span>



</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å…¶ä¸­å¯†ç ä¸º</p><div class="language-python line-numbers-mode" data-ext="py" data-title="py"><pre class="language-python"><code>


Jenkins initial setup <span class="token keyword">is</span> required<span class="token punctuation">.</span> An admin user has been created <span class="token keyword">and</span> a password generated<span class="token punctuation">.</span>



Please use the following password to proceed to installation<span class="token punctuation">:</span>




64249b468ada410f9dbd40d4d3162352




This may also be found at<span class="token punctuation">:</span> <span class="token operator">/</span>home<span class="token operator">/</span>aug<span class="token operator">/</span><span class="token punctuation">.</span>jenkins<span class="token operator">/</span>secrets<span class="token operator">/</span>initialAdminPassword




</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="é™„å½•-venvçš„ä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#é™„å½•-venvçš„ä½¿ç”¨"><span>é™„å½•ï¼švenvçš„ä½¿ç”¨</span></a></h2><p><code>venv</code>æ˜¯Pythonçš„ä¸€ä¸ªæ ‡å‡†åº“æ¨¡å—ï¼Œç”¨äºåˆ›å»ºè½»é‡çº§çš„è™šæ‹Ÿç¯å¢ƒã€‚ä½¿ç”¨<code>venv</code>å¯ä»¥åœ¨åŒä¸€å°æœºå™¨ä¸Šä¸ºä¸åŒçš„Pythoné¡¹ç›®åˆ›å»ºéš”ç¦»çš„ç¯å¢ƒï¼Œé¿å…ç‰ˆæœ¬å†²çªå’Œä¾èµ–æ··ä¹±ã€‚ä»¥ä¸‹æ˜¯<code>venv</code>çš„åŸºæœ¬ç”¨æ³•ï¼š</p><ol><li><strong>åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ</strong> æ‰“å¼€å‘½ä»¤è¡Œå·¥å…·ï¼ˆä¾‹å¦‚ç»ˆç«¯ã€å‘½ä»¤æç¤ºç¬¦æˆ–PowerShellï¼‰ï¼Œç„¶åè¿è¡Œä»¥ä¸‹å‘½ä»¤æ¥åˆ›å»ºä¸€ä¸ªæ–°çš„è™šæ‹Ÿç¯å¢ƒï¼š</li></ol><div class="language-Plain line-numbers-mode" data-ext="Plain" data-title="Plain"><pre class="language-Plain"><code>


python3 -m venv /path/to/new/virtual/environment



</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™é‡Œ<code>/path/to/new/virtual/environment</code>æ˜¯ä½ æƒ³è¦å­˜æ”¾è™šæ‹Ÿç¯å¢ƒçš„ç›®å½•è·¯å¾„ã€‚è¯·ç¡®ä¿æ›¿æ¢ä¸ºå®é™…çš„è·¯å¾„ã€‚</p><ul><li><p><strong>æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ</strong> åˆ›å»ºè™šæ‹Ÿç¯å¢ƒåï¼Œä½ éœ€è¦æ¿€æ´»å®ƒæ‰èƒ½å¼€å§‹ä½¿ç”¨ã€‚æ¿€æ´»è™šæ‹Ÿç¯å¢ƒçš„æ–¹æ³•å–å†³äºä½ çš„æ“ä½œç³»ç»Ÿã€‚</p></li><li><p>åœ¨<strong>Windows</strong>ä¸Šï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š</p></li></ul><div class="language-Plain line-numbers-mode" data-ext="Plain" data-title="Plain"><pre class="language-Plain"><code>


\path\to\new\virtual\environment\Scripts\activate



</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>åœ¨<strong>macOS</strong>å’Œ<strong>Linux</strong>ä¸Šï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š</li></ul><div class="language-Plain line-numbers-mode" data-ext="Plain" data-title="Plain"><pre class="language-Plain"><code>


source /path/to/new/virtual/environment/bin/activate



</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ¿€æ´»è™šæ‹Ÿç¯å¢ƒåï¼Œä½ çš„å‘½ä»¤è¡Œæç¤ºç¬¦é€šå¸¸ä¼šæ˜¾ç¤ºè™šæ‹Ÿç¯å¢ƒçš„åç§°ï¼Œè¡¨æ˜ä½ ç°åœ¨åœ¨è™šæ‹Ÿç¯å¢ƒä¸­å·¥ä½œã€‚</p><ul><li><strong>åœç”¨è™šæ‹Ÿç¯å¢ƒ</strong> å½“ä½ å®Œæˆå·¥ä½œå¹¶å¸Œæœ›é€€å‡ºè™šæ‹Ÿç¯å¢ƒæ—¶ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š</li></ul><div class="language-Plain line-numbers-mode" data-ext="Plain" data-title="Plain"><pre class="language-Plain"><code>


deactivate



</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™å°†æ¢å¤åˆ°ç³»ç»Ÿçš„å…¨å±€Pythonç¯å¢ƒã€‚</p><ul><li><strong>å®‰è£…PythonåŒ…</strong> åœ¨è™šæ‹Ÿç¯å¢ƒä¸­ï¼Œä½ å¯ä»¥ä½¿ç”¨<code>pip</code>å‘½ä»¤æ¥å®‰è£…æ‰€éœ€çš„PythonåŒ…ï¼Œä¾‹å¦‚ï¼š</li></ul><div class="language-Plain line-numbers-mode" data-ext="Plain" data-title="Plain"><pre class="language-Plain"><code>


pip install package_name



</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™é‡Œçš„<code>package_name</code>æ˜¯ä½ æƒ³è¦å®‰è£…çš„PythonåŒ…çš„åç§°ã€‚</p><ul><li><strong>æŸ¥çœ‹å·²å®‰è£…çš„åŒ…</strong> å¦‚æœä½ æƒ³æŸ¥çœ‹å½“å‰è™šæ‹Ÿç¯å¢ƒä¸­å®‰è£…äº†å“ªäº›åŒ…ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š</li></ul><div class="language-Plain line-numbers-mode" data-ext="Plain" data-title="Plain"><pre class="language-Plain"><code>


pip list



</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™å°†åˆ—å‡ºæ‰€æœ‰å·²å®‰è£…çš„åŒ…åŠå…¶ç‰ˆæœ¬ã€‚</p><p>ä½¿ç”¨<code>venv</code>åˆ›å»ºå’Œç®¡ç†è™šæ‹Ÿç¯å¢ƒæ˜¯Pythonå¼€å‘ä¸­çš„æœ€ä½³å®è·µä¹‹ä¸€ï¼Œå®ƒæœ‰åŠ©äºä¿æŒé¡¹ç›®çš„ä¾èµ–æ¸…æ™°å’Œç‹¬ç«‹ã€‚é€šè¿‡ä¸Šè¿°æ­¥éª¤ï¼Œä½ å¯ä»¥è½»æ¾åœ°ä¸ºä½ çš„Pythoné¡¹ç›®è®¾ç½®å’Œä½¿ç”¨è™šæ‹Ÿç¯å¢ƒã€‚</p><h2 id="é™„å½•-æµè§ˆå™¨æ§åˆ¶å°å¸¸è§è¾“å…¥" tabindex="-1"><a class="header-anchor" href="#é™„å½•-æµè§ˆå™¨æ§åˆ¶å°å¸¸è§è¾“å…¥"><span>é™„å½•ï¼šæµè§ˆå™¨æ§åˆ¶å°å¸¸è§è¾“å…¥</span></a></h2><ol><li>**$xï¼š**<strong>ç”¨äºæ‰§è¡Œ XPath æŸ¥è¯¢å¹¶è¿”å›åŒ¹é…è¯¥ XPath è¡¨è¾¾å¼çš„å…ƒç´ åˆ—è¡¨</strong></li></ol><p>åœ¨æµè§ˆå™¨æ§åˆ¶å°ä¸­ï¼Œ<code>$x</code> æ˜¯ JavaScript çš„ä¸€ä¸ªå†…ç½®å‡½æ•°ï¼Œç”¨äºæ‰§è¡Œ XPath æŸ¥è¯¢å¹¶è¿”å›åŒ¹é…è¯¥ XPath è¡¨è¾¾å¼çš„å…ƒç´ åˆ—è¡¨ã€‚</p><p>ä½¿ç”¨ <code>$x</code> å‡½æ•°æ—¶ï¼Œæ‚¨éœ€è¦ä¼ å…¥ä¸€ä¸ª XPath è¡¨è¾¾å¼ä½œä¸ºå‚æ•°ï¼Œå®ƒå°†åœ¨å½“å‰æ–‡æ¡£ä¸­è¿›è¡Œå…ƒç´ æŸ¥æ‰¾ã€‚è¿”å›çš„ç»“æœæ˜¯ä¸€ä¸ªç”±åŒ¹é…çš„å…ƒç´ ç»„æˆçš„æ•°ç»„ã€‚</p><p>ä¾‹å¦‚ï¼Œå‡è®¾æˆ‘ä»¬æœ‰ä»¥ä¸‹ HTML ä»£ç ï¼š</p><div class="language-html line-numbers-mode" data-ext="html" data-title="html"><pre class="language-html"><code>


<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span>



  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>Item 1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>



  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>Item 2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>



  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>Item 3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>



<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>



</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æˆ‘ä»¬å¯ä»¥åœ¨æµè§ˆå™¨æ§åˆ¶å°ä¸­æ‰§è¡Œ <code>$x(&quot;//li&quot;)</code>ï¼Œå®ƒå°†è¿”å›ä¸€ä¸ªåŒ…å«æ‰€æœ‰ <code>li</code> å…ƒç´ çš„æ•°ç»„ã€‚</p><p>åœ¨æ§åˆ¶å°ä¸­æ‰§è¡Œ <code>$x(&quot;//li&quot;)[0]</code> å¯ä»¥è·å–ç¬¬ä¸€ä¸ªåŒ¹é…çš„ <code>li</code> å…ƒç´ ï¼Œæ‰§è¡Œ <code>$x(&quot;//li&quot;)[0].textContent</code> å¯ä»¥è·å–è¯¥å…ƒç´ çš„æ–‡æœ¬å†…å®¹ã€‚</p><p>æ€»è€Œè¨€ä¹‹ï¼Œ<code>$x</code> å‡½æ•°æ˜¯åœ¨æµè§ˆå™¨æ§åˆ¶å°ä¸­æ‰§è¡Œ XPath æŸ¥è¯¢çš„ä¸€ç§ä¾¿æ·æ–¹å¼ï¼Œå®ƒè¿”å›åŒ¹é… XPath è¡¨è¾¾å¼çš„å…ƒç´ æ•°ç»„ï¼Œå¯ä»¥é€šè¿‡ç´¢å¼•å’Œå…¶ä»– JavaScript æ“ä½œæ¥è®¿é—®å’Œæ“ä½œè¿™äº›å…ƒç´ ã€‚</p><h2 id="é™„å½•-f-string-æ ¼å¼åŒ–å­—ç¬¦ä¸²å­—é¢é‡" tabindex="-1"><a class="header-anchor" href="#é™„å½•-f-string-æ ¼å¼åŒ–å­—ç¬¦ä¸²å­—é¢é‡"><span>é™„å½•ï¼š<strong>f-string</strong>ï¼ˆæ ¼å¼åŒ–å­—ç¬¦ä¸²å­—é¢é‡ï¼‰</span></a></h2><p>åœ¨Pythonä¸­ï¼Œ<code>f</code>æˆ–<code>F</code>ä¹‹å‰çš„å­—ç¬¦ä¸²è¢«ç§°ä¸º<strong>f-string</strong>ï¼ˆæ ¼å¼åŒ–å­—ç¬¦ä¸²å­—é¢é‡ï¼‰ï¼Œæ˜¯Python 3.6åŠä»¥ä¸Šç‰ˆæœ¬ä¸­å¼•å…¥çš„ä¸€ç§å­—ç¬¦ä¸²æ ¼å¼åŒ–æ–¹æ³•ã€‚f-stringæä¾›äº†ä¸€ç§éå¸¸ç®€æ´å’Œå¼ºå¤§çš„æ–¹å¼æ¥åµŒå…¥è¡¨è¾¾å¼åˆ°å­—ç¬¦ä¸²å­—é¢å€¼ä¸­ã€‚</p><p>å½“ä½ çœ‹åˆ°<code>logger.info(f&#39;å¼€å§‹æ‰§è¡Œï¼š&#39;)</code>è¿™æ ·çš„ä»£ç æ—¶ï¼Œ<code>f</code>è¡¨ç¤ºæ¥ä¸‹æ¥çš„å­—ç¬¦ä¸²æ˜¯ä¸€ä¸ªf-stringï¼Œå¯ä»¥åœ¨å¤§æ‹¬å·<code>{}</code>å†…éƒ¨åµŒå…¥è¡¨è¾¾å¼ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ<code>f&#39;å¼€å§‹æ‰§è¡Œï¼š&#39;</code>ä¸­æ²¡æœ‰åµŒå…¥ä»»ä½•è¡¨è¾¾å¼ï¼Œæ‰€ä»¥å®ƒå®é™…ä¸Šåªæ˜¯ä¸€ä¸ªæ™®é€šçš„å­—ç¬¦ä¸²ã€‚</p><p>ä¸‹é¢æ˜¯ä¸€ä¸ªåŒ…å«è¡¨è¾¾å¼çš„f-stringç¤ºä¾‹ï¼š</p><div class="language-Plain line-numbers-mode" data-ext="Plain" data-title="Plain"><pre class="language-Plain"><code>


name = &quot;World&quot;



logger.info(f&#39;Hello, {name}!&#39;)



</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ<code>{name}</code>ä¼šè¢«æ›¿æ¢ä¸ºå˜é‡<code>name</code>çš„å€¼ï¼Œæ‰€ä»¥æœ€ç»ˆè¾“å‡ºçš„æ—¥å¿—æ¶ˆæ¯ä¼šæ˜¯<code>Hello, World!</code>ã€‚</p><p>f-stringæ”¯æŒä»»æ„è¡¨è¾¾å¼ï¼ŒåŒ…æ‹¬å‡½æ•°è°ƒç”¨å’Œå¤æ‚è¡¨è¾¾å¼ï¼š</p><div class="language-Plain line-numbers-mode" data-ext="Plain" data-title="Plain"><pre class="language-Plain"><code>


logger.info(f&#39;The answer is {2 + 2}&#39;)



logger.info(f&#39;Current time: {datetime.now().strftime(&quot;%Y-%m-%d %H:%M:%S&quot;)}&#39;)



</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™äº›è¡¨è¾¾å¼ä¼šåœ¨å­—ç¬¦ä¸²è¢«è§£é‡Šæ—¶æ‰§è¡Œï¼Œå¹¶ä¸”å¯ä»¥å°†ç»“æœç›´æ¥æ’å…¥åˆ°å­—ç¬¦ä¸²ä¸­ã€‚è¿™ä½¿å¾—f-stringéå¸¸çµæ´»å’Œæ–¹ä¾¿ï¼Œç‰¹åˆ«æ˜¯åœ¨éœ€è¦åŠ¨æ€ç”Ÿæˆå­—ç¬¦ä¸²æ—¶ã€‚</p><h2 id="é™„å½•-é€è¡Œè¯»å–csvæ–‡ä»¶çš„å†…å®¹" tabindex="-1"><a class="header-anchor" href="#é™„å½•-é€è¡Œè¯»å–csvæ–‡ä»¶çš„å†…å®¹"><span>é™„å½•ï¼šé€è¡Œè¯»å–csvæ–‡ä»¶çš„å†…å®¹</span></a></h2><p>å¦‚æœæ‚¨æƒ³è¦é€è¡Œè¯»å–CSVæ–‡ä»¶å¹¶å–å‡ºç‰¹å®šçš„å­—æ®µï¼Œæ‚¨å¯ä»¥ä½¿ç”¨<code>pandas</code>çš„<code>iterrows</code>æ–¹æ³•æˆ–è€…ç›´æ¥ä½¿ç”¨<code>csv</code>æ¨¡å—ã€‚ä»¥ä¸‹æ˜¯ä½¿ç”¨<code>pandas</code>çš„ç¤ºä¾‹ä»£ç ï¼š</p><div class="language-python line-numbers-mode" data-ext="py" data-title="py"><pre class="language-python"><code>


<span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd




<span class="token comment"># æŒ‡å®šCSVæ–‡ä»¶çš„è·¯å¾„</span>



csv_file_path <span class="token operator">=</span> <span class="token string">&#39;path_to_your_csv_file.csv&#39;</span>




<span class="token comment"># ä½¿ç”¨pandasçš„read_csvå‡½æ•°è¯»å–CSVæ–‡ä»¶</span>



df <span class="token operator">=</span> pd<span class="token punctuation">.</span>read_csv<span class="token punctuation">(</span>csv_file_path<span class="token punctuation">)</span>




<span class="token comment"># åˆå§‹åŒ–ä¸€ä¸ªè¿­ä»£å™¨ï¼Œç”¨äºé€è¡Œè®¿é—®DataFrame</span>



iterator <span class="token operator">=</span> df<span class="token punctuation">.</span>iterrows<span class="token punctuation">(</span><span class="token punctuation">)</span>




<span class="token comment"># é€è¡Œå–å‡ºæ•°æ®</span>



<span class="token keyword">for</span> index<span class="token punctuation">,</span> row <span class="token keyword">in</span> iterator<span class="token punctuation">:</span>



    username <span class="token operator">=</span> row<span class="token punctuation">[</span><span class="token string">&#39;ç”¨æˆ·å&#39;</span><span class="token punctuation">]</span>



    password <span class="token operator">=</span> row<span class="token punctuation">[</span><span class="token string">&#39;å¯†ç &#39;</span><span class="token punctuation">]</span>



    error_message <span class="token operator">=</span> row<span class="token punctuation">[</span><span class="token string">&#39;é”™è¯¯æ¶ˆæ¯&#39;</span><span class="token punctuation">]</span>




    <span class="token comment"># æ‰“å°å‡ºå–å‡ºçš„æ•°æ®</span>



    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;ç”¨æˆ·å:&quot;</span><span class="token punctuation">,</span> username<span class="token punctuation">)</span>



    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;å¯†ç :&quot;</span><span class="token punctuation">,</span> password<span class="token punctuation">)</span>



    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;é”™è¯¯æ¶ˆæ¯:&quot;</span><span class="token punctuation">,</span> error_message<span class="token punctuation">)</span>



    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># æ‰“å°ç©ºè¡Œä»¥åˆ†éš”ä¸åŒçš„è®°å½•</span>



</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨è¿™ä¸ªä»£ç ä¸­ï¼Œ<code>df.iterrows()</code>è¿”å›ä¸€ä¸ªè¿­ä»£å™¨ï¼Œå®ƒé€è¡Œè®¿é—®DataFrameçš„æ¯ä¸€è¡Œã€‚<code>iterrows</code>æ¯æ¬¡è¿­ä»£è¿”å›ä¸€ä¸ªå…ƒç»„ï¼Œå…¶ä¸­åŒ…å«ç´¢å¼•å’Œè¯¥è¡Œçš„æ•°æ®ï¼ˆä½œä¸ºä¸€ä¸ªSerieså¯¹è±¡ï¼‰ã€‚ç„¶åï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡åˆ—åæ¥è®¿é—®æ¯ä¸€è¡Œçš„ç‰¹å®šå­—æ®µã€‚</p><p>å¦‚æœæ‚¨æƒ³è¦ä½¿ç”¨<code>csv</code>æ¨¡å—æ¥é€è¡Œè¯»å–CSVæ–‡ä»¶ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><div class="language-python line-numbers-mode" data-ext="py" data-title="py"><pre class="language-python"><code>


<span class="token keyword">import</span> csv




<span class="token comment"># æŒ‡å®šCSVæ–‡ä»¶çš„è·¯å¾„</span>



csv_file_path <span class="token operator">=</span> <span class="token string">&#39;path_to_your_csv_file.csv&#39;</span>




<span class="token comment"># æ‰“å¼€CSVæ–‡ä»¶</span>



<span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span>csv_file_path<span class="token punctuation">,</span> mode<span class="token operator">=</span><span class="token string">&#39;r&#39;</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token string">&#39;utf-8&#39;</span><span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token builtin">file</span><span class="token punctuation">:</span>



    <span class="token comment"># åˆ›å»ºCSVé˜…è¯»å™¨</span>



    reader <span class="token operator">=</span> csv<span class="token punctuation">.</span>DictReader<span class="token punctuation">(</span><span class="token builtin">file</span><span class="token punctuation">)</span>




    <span class="token comment"># é€è¡Œè¯»å–</span>



    <span class="token keyword">for</span> row <span class="token keyword">in</span> reader<span class="token punctuation">:</span>



        username <span class="token operator">=</span> row<span class="token punctuation">[</span><span class="token string">&#39;ç”¨æˆ·å&#39;</span><span class="token punctuation">]</span>



        password <span class="token operator">=</span> row<span class="token punctuation">[</span><span class="token string">&#39;å¯†ç &#39;</span><span class="token punctuation">]</span>



        error_message <span class="token operator">=</span> row<span class="token punctuation">[</span><span class="token string">&#39;é”™è¯¯æ¶ˆæ¯&#39;</span><span class="token punctuation">]</span>




        <span class="token comment"># æ‰“å°å‡ºå–å‡ºçš„æ•°æ®</span>



        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;ç”¨æˆ·å:&quot;</span><span class="token punctuation">,</span> username<span class="token punctuation">)</span>



        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;å¯†ç :&quot;</span><span class="token punctuation">,</span> password<span class="token punctuation">)</span>



        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;é”™è¯¯æ¶ˆæ¯:&quot;</span><span class="token punctuation">,</span> error_message<span class="token punctuation">)</span>



        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># æ‰“å°ç©ºè¡Œä»¥åˆ†éš”ä¸åŒçš„è®°å½•</span>




</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨è¿™ä¸ªä»£ç ä¸­ï¼Œ<code>csv.DictReader</code>ç±»åˆ›å»ºä¸€ä¸ªé˜…è¯»å™¨å¯¹è±¡ï¼Œå®ƒå°†CSVæ–‡ä»¶çš„æ¯ä¸€è¡Œè§£æä¸ºä¸€ä¸ªå­—å…¸ï¼Œå­—å…¸çš„é”®æ˜¯åˆ—åã€‚ç„¶åï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡åˆ—åæ¥è®¿é—®æ¯ä¸€è¡Œçš„ç‰¹å®šå­—æ®µã€‚</p><h2 id="é™„å½•-ä¸€ä¸ªä¸ç†è§£çš„é—®é¢˜" tabindex="-1"><a class="header-anchor" href="#é™„å½•-ä¸€ä¸ªä¸ç†è§£çš„é—®é¢˜"><span>é™„å½•ï¼šä¸€ä¸ªä¸ç†è§£çš„é—®é¢˜</span></a></h2><p>è¿è¡Œpython test_module.py, æ‰€æœ‰æµ‹è¯•å°†è¢«æ‰§è¡Œä¸¤æ¬¡ã€‚è€ŒåŠ ä¸Šif __name__ == &quot;__main__&quot;ï¼Œå°±åªä¼šè¿è¡Œä¸€æ¬¡ã€‚è¿è¡Œä¸€æ¬¡æ‰æ˜¯æ­£å¸¸çš„è¡Œä¸ºã€‚</p><div class="language-python line-numbers-mode" data-ext="py" data-title="py"><pre class="language-python"><code>


<span class="token comment"># æ–‡ä»¶åï¼š test_module.py</span>




<span class="token keyword">import</span> pytest




<span class="token keyword">def</span> <span class="token function">setup_module</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>



    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&#39;æ¨¡å—çº§åˆ«çš„ setup&#39;</span><span class="token punctuation">)</span>



    <span class="token comment"># è¿™é‡Œå‡†å¤‡æµ‹è¯•æ‰€éœ€çš„èµ„æº</span>




<span class="token keyword">def</span> <span class="token function">teardown_module</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>



    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&#39;æ¨¡å—çº§åˆ«çš„ teardown&#39;</span><span class="token punctuation">)</span>



    <span class="token comment"># è¿™é‡Œæ¸…ç†æµ‹è¯•èµ„æº</span>




<span class="token keyword">def</span> <span class="token function">test_example</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>



    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;æ‰§è¡Œæµ‹è¯•å‰&quot;</span><span class="token punctuation">)</span>



    <span class="token comment"># æµ‹è¯•ä»£ç </span>



    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;æ‰§è¡Œæµ‹è¯•å&quot;</span><span class="token punctuation">)</span>




<span class="token keyword">def</span> <span class="token function">test_another</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>



    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;å¦ä¸€ä¸ªæµ‹è¯•å‰&quot;</span><span class="token punctuation">)</span>



    <span class="token comment"># å¦ä¸€ä¸ªæµ‹è¯•ä»£ç </span>



    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;å¦ä¸€ä¸ªæµ‹è¯•å&quot;</span><span class="token punctuation">)</span>




<span class="token comment"># è¿è¡Œpython test_module.py, æ‰€æœ‰æµ‹è¯•å°†è¢«æ‰§è¡Œä¸¤æ¬¡ã€‚è€ŒåŠ ä¸Šif __name__ == &quot;__main__&quot;ï¼Œå°±åªä¼šè¿è¡Œä¸€æ¬¡ã€‚è¿è¡Œä¸€æ¬¡æ‰æ˜¯æ­£å¸¸çš„è¡Œä¸ºã€‚</span>



<span class="token comment"># if __name__ == &quot;__main__&quot;:</span>



pytest<span class="token punctuation">.</span>main<span class="token punctuation">(</span><span class="token punctuation">)</span>




</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="é™„å½•-å‚è€ƒèµ„æ–™" tabindex="-1"><a class="header-anchor" href="#é™„å½•-å‚è€ƒèµ„æ–™"><span>é™„å½•ï¼šå‚è€ƒèµ„æ–™</span></a></h2><ol><li><p>Selenium Python Tutorial [<a href="https://www.geeksforgeeks.org/selenium-python-tutorial/?ref=lbp" target="_blank" rel="noopener noreferrer">https://www.geeksforgeeks.org/selenium-python-tutorial<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>]</p></li><li><p><a href="https://www.bilibili.com/video/BV1vX4y1d74i" target="_blank" rel="noopener noreferrer">https://www.bilibili.com/video/BV1vX4y1d74i<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></li><li><p><a href="https://www.bilibili.com/video/BV1BS4y1g74o" target="_blank" rel="noopener noreferrer">https://www.bilibili.com/video/BV1BS4y1g74o<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></li><li><p>Selenium with Pythonä¸­æ–‡ç¿»è¯‘æ–‡æ¡£ [<a href="https://selenium-python-zh.readthedocs.io/en/latest/" target="_blank" rel="noopener noreferrer">https://selenium-python-zh.readthedocs.io/en/latest/<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>]</p></li></ol></div><!--[--><!--]--></div><footer class="vp-page-meta"><!----><div class="vp-meta-item git-info"><!----><!----></div></footer><!----><!--[--><!--]--></main><!--]--></div><!--[--><!----><!--]--><!--]--></div>
    <script src="/blog/assets/js/runtime~app.ef20b161.js" defer></script><script src="/blog/assets/js/565.4944daae.js" defer></script><script src="/blog/assets/js/app.925ce17f.js" defer></script>
  </body>
</html>
